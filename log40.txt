---------------------------- PROCESS STARTED (28507) for package com.confessr.app ----------------------------
--------- beginning of system
--------- beginning of main
---------------------------- PROCESS ENDED (28507) for package com.confessr.app ----------------------------
---------------------------- PROCESS STARTED (30830) for package com.confessr.app ----------------------------
2025-10-03 23:13:01.933 30830-30830 Capacitor               com.confessr.app                     D  Starting BridgeActivity
2025-10-03 23:13:01.947 30830-30830 Capacitor               com.confessr.app                     D  Registering plugin instance: CapacitorCookies
2025-10-03 23:13:01.950 30830-30830 Capacitor               com.confessr.app                     D  Registering plugin instance: WebView
2025-10-03 23:13:01.951 30830-30830 Capacitor               com.confessr.app                     D  Registering plugin instance: CapacitorHttp
2025-10-03 23:13:01.952 30830-30830 Capacitor               com.confessr.app                     D  Registering plugin instance: CapacitorSQLite
2025-10-03 23:13:02.062 30830-30830 Capacitor               com.confessr.app                     D  Registering plugin instance: FirebaseMessaging
2025-10-03 23:13:02.064 30830-30830 Capacitor               com.confessr.app                     D  Registering plugin instance: App
2025-10-03 23:13:02.064 30830-30830 Capacitor               com.confessr.app                     D  Registering plugin instance: Haptics
2025-10-03 23:13:02.068 30830-30830 Capacitor               com.confessr.app                     D  Registering plugin instance: Keyboard
2025-10-03 23:13:02.069 30830-30830 Capacitor               com.confessr.app                     D  Registering plugin instance: Network
2025-10-03 23:13:02.070 30830-30830 Capacitor               com.confessr.app                     D  Registering plugin instance: Preferences
2025-10-03 23:13:02.105 30830-30830 Capacitor               com.confessr.app                     W  Unable to read file at path public/plugins
2025-10-03 23:13:02.110 30830-30830 Capacitor               com.confessr.app                     D  Loading app at https://localhost
2025-10-03 23:13:02.130 30830-14354 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/
2025-10-03 23:13:02.138 30830-30830 Capacitor               com.confessr.app                     D  App started
2025-10-03 23:13:02.140 30830-30830 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: true
2025-10-03 23:13:02.140 30830-30830 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-03 23:13:02.140 30830-30830 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event appStateChange
2025-10-03 23:13:02.144 30830-30830 Capacitor               com.confessr.app                     D  App resumed
2025-10-03 23:13:02.148 30830-14411 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-03 23:13:02.148 30830-14411 Capacitor/NetworkPlugin com.confessr.app                     D  No listeners found for event networkStatusChange
2025-10-03 23:13:02.249 30830-14353 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/index-BYWxzT5N.js
2025-10-03 23:13:02.252 30830-14354 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/index-BHPGbWI5.css
2025-10-03 23:13:02.504 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:02.498 🚀 Pipeline initialized
2025-10-03 23:13:02.504 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:02.504 🧪 Debug tag: v2025-09-24.stage-markers.v2
2025-10-03 23:13:02.505 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:02.504 🧪 Marker pack installed: entered-send, pre-network, POST markers, 5s timeout→outbox, watchdog job creation
2025-10-03 23:13:02.505 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:02.504 🔄 initialize() called - force=false isInitialized=false hasClient=false initPromiseActive=false
2025-10-03 23:13:02.505 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:02.504 🔄 Initializing Supabase client...
2025-10-03 23:13:02.505 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:02.504 🔄 Supabase env present? url=true anonKey=true
2025-10-03 23:13:02.509 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:02.509 🔄 Supabase client created ONCE (persistSession=true, autoRefreshToken=true)
2025-10-03 23:13:02.511 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 💧 Rehydrating auth state...
2025-10-03 23:13:02.511 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 💧 Auth state rehydrated with user: 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-03 23:13:02.511 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: Initialized with 15min expiry, max 10 chats, 50 messages per chat
2025-10-03 23:13:02.512 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview-lifecycle] 17:43:02 🌐 WebView Lifecycle Manager initialized
2025-10-03 23:13:02.514 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [general] 17:43:02 ℹ️ Mobile Logger initialized - Session: 1759513382513-6q0ao8xae, Platform: android
2025-10-03 23:13:02.526 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Initializing auth state listener for chat store
2025-10-03 23:13:02.527 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Setting up auth state listener for realtime
2025-10-03 23:13:02.527 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:02.526 🔑 getClient() called - hasClient=true isInitialized=false initPromiseActive=true
2025-10-03 23:13:02.527 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:02.526 🔑 getClient() -> calling initialize()
2025-10-03 23:13:02.527 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:02.526 🔄 initialize() called - force=false isInitialized=false hasClient=true initPromiseActive=true
2025-10-03 23:13:02.527 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:02.526 🔄 initialize() waiting for existing initializePromise
2025-10-03 23:13:02.531 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [device-lock] 17:43:02 🔒 Device Lock Detection Manager initialized
2025-10-03 23:13:02.532 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 17:43:02 📱 WhatsApp-Style Connection Manager initialized
2025-10-03 23:13:02.590 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🚀 CRITICAL: Module load - starting listener registration
2025-10-03 23:13:02.591 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🚀 FIRST IMPORT: Starting @capacitor-firebase/messaging import
2025-10-03 23:13:02.595 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [main] 🚀 IIFE starting - about to initialize push notifications
2025-10-03 23:13:02.595 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [main] 🔥 Inside async IIFE - before try block
2025-10-03 23:13:02.595 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [main] 📱 Initializing push notifications...
2025-10-03 23:13:02.595 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🚀 initPush() called
2025-10-03 23:13:02.595 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ Starting push initialization...
2025-10-03 23:13:02.595 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 📦 Waiting for FirebaseMessaging import (shared with listener registration)...
2025-10-03 23:13:02.597 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:02.596 ✅ Supabase client initialized successfully (PERMANENT INSTANCE)
2025-10-03 23:13:02.601 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299153, pluginId: App, methodName: addListener
2025-10-03 23:13:02.602 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299153, pluginId: App, methodName: addListener, methodData: {"eventName":"appStateChange"}
2025-10-03 23:13:02.602 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299154, pluginId: App, methodName: addListener
2025-10-03 23:13:02.602 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299154, pluginId: App, methodName: addListener, methodData: {"eventName":"resume"}
2025-10-03 23:13:02.602 30830-14353 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/index-DAIPjusy.js
2025-10-03 23:13:02.633 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview-lifecycle] 17:43:02 ✅ WebView context fully restored and ready
2025-10-03 23:13:02.645 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🚀 App mounted, setting up auth...
2025-10-03 23:13:02.645 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📱 Native platform detected, initializing SQLite...
2025-10-03 23:13:02.645 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: 🗄️ Initializing SQLite database...
2025-10-03 23:13:02.645 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🎨 App render state: [object Object]
2025-10-03 23:13:02.647 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299155, pluginId: App, methodName: addListener
2025-10-03 23:13:02.647 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299155, pluginId: App, methodName: addListener, methodData: {"eventName":"backButton"}
2025-10-03 23:13:02.648 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299156, pluginId: App, methodName: addListener
2025-10-03 23:13:02.648 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299156, pluginId: App, methodName: addListener, methodData: {"eventName":"appStateChange"}
2025-10-03 23:13:02.648 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299157, pluginId: Preferences, methodName: get
2025-10-03 23:13:02.649 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299157, pluginId: Preferences, methodName: get, methodData: {"key":"sqlite_encryption_key"}
2025-10-03 23:13:02.657 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:02.653 [38;5;159m[fetch][0m POST https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/token?grant_type=refresh_token
2025-10-03 23:13:02.689 30830-14353 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/favicon.ico
2025-10-03 23:13:02.727 30830-14353 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/favicon.ico
2025-10-03 23:13:02.796 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ FirebaseMessaging module imported successfully
2025-10-03 23:13:02.796 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🎯 CRITICAL: Registering all listeners NOW
2025-10-03 23:13:02.796 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ FirebaseMessaging imported successfully
2025-10-03 23:13:02.797 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ⏳ Waiting for listeners to be registered...
2025-10-03 23:13:02.797 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ CRITICAL: notificationReceived listener registered and handle stored!
2025-10-03 23:13:02.797 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ tokenReceived listener registered and handle stored!
2025-10-03 23:13:02.798 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ notificationActionPerformed listener registered and handle stored!
2025-10-03 23:13:02.798 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅✅✅ ALL LISTENERS REGISTERED SUCCESSFULLY ✅✅✅
2025-10-03 23:13:02.805 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299158, pluginId: FirebaseMessaging, methodName: addListener
2025-10-03 23:13:02.805 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299158, pluginId: FirebaseMessaging, methodName: addListener, methodData: {"eventName":"notificationReceived"}
2025-10-03 23:13:02.806 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299159, pluginId: FirebaseMessaging, methodName: addListener
2025-10-03 23:13:02.806 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299159, pluginId: FirebaseMessaging, methodName: addListener, methodData: {"eventName":"tokenReceived"}
2025-10-03 23:13:02.806 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299160, pluginId: FirebaseMessaging, methodName: addListener
2025-10-03 23:13:02.806 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299160, pluginId: FirebaseMessaging, methodName: addListener, methodData: {"eventName":"notificationActionPerformed"}
2025-10-03 23:13:02.806 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299161, pluginId: CapacitorSQLite, methodName: setEncryptionSecret
2025-10-03 23:13:02.806 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299161, pluginId: CapacitorSQLite, methodName: setEncryptionSecret, methodData: {"passphrase":"66f3d49e8e514204b885794206a8fec2"}
2025-10-03 23:13:02.815 30830-14389 com.getcap...RetHandler com.confessr.app                     V  *** ERROR SetEncryptionSecret: a passphrase has already been set 
2025-10-03 23:13:02.815 30830-14389 Capacitor               com.confessr.app                     D  Sending plugin error: {"save":false,"callbackId":"98299161","pluginId":"CapacitorSQLite","methodName":"setEncryptionSecret","success":false,"error":{"message":"SetEncryptionSecret: a passphrase has already been set "}}
2025-10-03 23:13:02.941 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ Listeners confirmed registered, proceeding with initialization
2025-10-03 23:13:02.946 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: 🔑 SQLite encryption key was already set
2025-10-03 23:13:02.948 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299162, pluginId: FirebaseMessaging, methodName: checkPermissions
2025-10-03 23:13:02.948 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299162, pluginId: FirebaseMessaging, methodName: checkPermissions, methodData: {}
2025-10-03 23:13:02.950 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299163, pluginId: CapacitorSQLite, methodName: isDatabase
2025-10-03 23:13:02.950 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299163, pluginId: CapacitorSQLite, methodName: isDatabase, methodData: {"database":"confessr_db"}
2025-10-03 23:13:03.069 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] permission before(FirebaseMessaging): granted
2025-10-03 23:13:03.070 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: Database exists check: true
2025-10-03 23:13:03.070 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: 🔓 Opening encrypted database with secret mode...
2025-10-03 23:13:03.071 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299164, pluginId: FirebaseMessaging, methodName: getToken
2025-10-03 23:13:03.071 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299164, pluginId: FirebaseMessaging, methodName: getToken, methodData: {}
2025-10-03 23:13:03.072 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299165, pluginId: CapacitorSQLite, methodName: createConnection
2025-10-03 23:13:03.072 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299165, pluginId: CapacitorSQLite, methodName: createConnection, methodData: {"database":"confessr_db","encrypted":true,"mode":"secret","version":1,"readonly":false}
2025-10-03 23:13:03.105 30830-14389 com.getcap...e.Database com.confessr.app                     V  &&& file path /data/user/0/com.confessr.app/databases/confessr_dbSQLite.db
2025-10-03 23:13:03.159 30830-30830 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-03 23:13:03.160 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] token received(firebase): dFtsHt…
2025-10-03 23:13:03.160 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:03.159 🗄️ Executing upsert device token...
2025-10-03 23:13:03.160 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:03.159 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 23:13:03.160 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ Push initialization complete
2025-10-03 23:13:03.160 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:03.160 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 23:13:03.161 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299166, pluginId: CapacitorSQLite, methodName: open
2025-10-03 23:13:03.161 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299166, pluginId: CapacitorSQLite, methodName: open, methodData: {"database":"confessr_db","readonly":false}
2025-10-03 23:13:03.247 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ Push initialization completed successfully
2025-10-03 23:13:03.247 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [main] ✅ Push notifications initialized
2025-10-03 23:13:03.247 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [general] 17:43:03 ℹ️ Initializing WhatsApp-style connection system
2025-10-03 23:13:03.252 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299167, pluginId: App, methodName: addListener
2025-10-03 23:13:03.252 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299167, pluginId: App, methodName: addListener, methodData: {"eventName":"resume"}
2025-10-03 23:13:03.253 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299168, pluginId: App, methodName: addListener
2025-10-03 23:13:03.253 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299168, pluginId: App, methodName: addListener, methodData: {"eventName":"appUrlOpen"}
2025-10-03 23:13:03.253 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299169, pluginId: Network, methodName: addListener
2025-10-03 23:13:03.254 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299169, pluginId: Network, methodName: addListener, methodData: {"eventName":"networkStatusChange"}
2025-10-03 23:13:03.254 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299170, pluginId: Network, methodName: getStatus
2025-10-03 23:13:03.254 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299170, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 23:13:03.741 30830-30830 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-03 23:13:03.742 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: ✅ Encrypted database opened successfully
2025-10-03 23:13:03.742 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [network] 17:43:03 ℹ️ Initial network status: online {"connectionType":"wifi"}
2025-10-03 23:13:03.742 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 17:43:03 📊 Status: connecting -  
2025-10-03 23:13:03.742 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 17:43:03 ℹ️ Connection status: connecting -  {"isUserVisible":false}
2025-10-03 23:13:03.747 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299171, pluginId: CapacitorSQLite, methodName: execute
2025-10-03 23:13:03.747 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299171, pluginId: CapacitorSQLite, methodName: execute, methodData: {"database":"confessr_db","statements":"PRAGMA cipher_memory_security = ON;","transaction":true,"readonly":false,"isSQL92":true}
2025-10-03 23:13:03.747 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299172, pluginId: App, methodName: addListener
2025-10-03 23:13:03.748 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299172, pluginId: App, methodName: addListener, methodData: {"eventName":"appStateChange"}
2025-10-03 23:13:03.748 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299173, pluginId: App, methodName: addListener
2025-10-03 23:13:03.748 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299173, pluginId: App, methodName: addListener, methodData: {"eventName":"resume"}
2025-10-03 23:13:03.749 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299174, pluginId: Network, methodName: addListener
2025-10-03 23:13:03.749 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299174, pluginId: Network, methodName: addListener, methodData: {"eventName":"networkStatusChange"}
2025-10-03 23:13:03.753 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: ✅ Security pragma set
2025-10-03 23:13:03.753 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: 📊 Creating tables in encrypted database...
2025-10-03 23:13:03.836 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299175, pluginId: CapacitorSQLite, methodName: execute
2025-10-03 23:13:03.836 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299175, pluginId: CapacitorSQLite, methodName: execute, methodData: {"database":"confessr_db","statements":"\n      CREATE TABLE IF NOT EXISTS messages (\n        id TEXT PRIMARY KEY,\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        content TEXT NOT NULL,\n        is_ghost INTEGER DEFAULT 0,\n        message_type TEXT DEFAULT 'text',\n        category TEXT,\n        parent_id TEXT,\n        image_url TEXT,\n        created_at INTEGER NOT NULL,\n        local_id INTEGER UNIQUE,\n        updated_at INTEGER,\n        deleted_at INTEGER\n      );\n\n      CREATE TABLE IF NOT EXISTS groups (\n        id TEXT PRIMARY KEY,\n        name TEXT NOT NULL,\n        description TEXT,\n        invite_code TEXT,\n        created_by TEXT NOT NULL,\n        created_at INTEGER NOT NULL,\n        last_sync_timestamp INTEGER DEFAULT 0,\n        avatar_url TEXT,\n        is_archived INTEGER DEFAULT 0\n      );\n\n      CREATE TABLE IF NOT EXISTS users (\n        id TEXT PRIMARY KEY,\n        display_name TEXT NOT NULL,\n        phone_number TEXT,\n        avatar_url TEXT,\n        is_onboarded INTEGER DEFAULT 0,\n        created_at INTEGER NOT NULL\n      );\n\n      CREATE TABLE IF NOT EXISTS outbox (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        content TEXT NOT NULL,\n        retry_count INTEGER DEFAULT 0,\n        next_retry_at INTEGER NOT NULL,\n        message_type TEXT DEFAULT 'text',\n        category TEXT,\n        parent_id TEXT,\n        image_url TEXT,\n        is_ghost INTEGER DEFAULT 0\n      );\n\n      CREATE TABLE IF NOT EXISTS sync_state (\n        key TEXT PRIMARY KEY,\n        value TEXT NOT NULL\n      );\n\n      \/* Polls table *\/\n      CREATE TABLE IF NOT EXISTS polls (\n        id TEXT PRIMARY KEY,\n        message_id TEXT NOT NULL,\n        question TEXT NOT NULL,\n        options TEXT NOT NULL, -- JSON string\n        created_at INTEGER NOT NULL,\n        closes_at INTEGER NOT NULL,\n        created_by TEXT NOT NULL,\n        FOREIGN KEY (message_id) REFERENCES messages(id)\n      );\n\n      \/* Poll votes table *\/\n      CREATE TABLE IF NOT EXISTS poll_votes (\n        poll_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        option_index INTEGER NOT NULL,\n        created_at INTEGER NOT NULL,\n        PRIMARY KEY (poll_id, user_id),\n        FOREIGN KEY (poll_id) REFERENCES polls(id)\n      );\n\n      \/* Reactions table *\/\n      CREATE TABLE IF NOT EXISTS reactions (\n        id TEXT PRIMARY KEY,\n        message_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        emoji TEXT NOT NULL,\n        created_at INTEGER NOT NULL,\n        FOREIGN KEY (message_id) REFERENCES messages(id)\n      );\n\n      \/* Group members table *\/\n      CREATE TABLE IF NOT EXISTS group_members (\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        role TEXT DEFAULT 'participant',\n        joined_at INTEGER NOT NULL,\n        last_read_at INTEGER DEFAULT 0,\n        last_read_message_id TEXT,\n        PRIMARY KEY (group_id, user_id),\n        FOREIGN KEY (group_id) REFERENCES groups(id),\n        FOREIGN KEY (user_id) REFERENCES users(id)\n      );\n\n      \/* User pseudonyms for ghost messages *\/\n      CREATE TABLE IF NOT EXISTS user_pseudonyms (\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        pseudonym TEXT NOT NULL,\n        created_at INTEGER NOT NULL,\n        PRIMARY KEY (group_id, user_id)\n      );\n\n      \/* Confessions table for confession messages *\/\n      CREATE TABLE IF NOT EXISTS confessions (\n        id TEXT PRIMARY KEY,\n        message_id TEXT NOT NULL,\n        confession_type TEXT NOT NULL,\n        is_anonymous INTEGER DEFAULT 1,\n        FOREIGN KEY (message_id) REFERENCES messages(id)\n      );\n\n      \/* indexes *\/\n      CREATE INDEX IF NOT EXISTS idx_msg_group_date_asc\n        ON messages(group_id, created_at ASC);\n      CREATE INDEX IF NOT EXISTS idx_msg_group_date_desc\n        ON
2025-10-03 23:13:03.919 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299176, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:03.919 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299176, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(messages);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 23:13:03.984 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299177, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:03.984 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299177, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(messages);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 23:13:04.050 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299178, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:04.050 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299178, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(groups);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 23:13:04.123 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299179, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:04.123 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299179, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(groups);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 23:13:04.191 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299180, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:04.191 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299180, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(groups);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 23:13:04.257 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299181, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:04.257 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299181, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(groups);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 23:13:04.322 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299182, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:04.322 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299182, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(groups);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 23:13:04.382 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299183, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:04.382 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299183, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(groups);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 23:13:04.422 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299184, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:04.422 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299184, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(groups);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 23:13:04.483 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299185, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:04.483 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299185, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(users);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 23:13:04.499 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:04.488 🔑 Token cached: user=839d1d4a hasAccess=true hasRefresh=true
2025-10-03 23:13:04.499 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Auth event: TOKEN_REFRESHED
2025-10-03 23:13:04.500 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Token applied; channel healthy, no reconnect
2025-10-03 23:13:04.500 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-03 23:13:04.523 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:04.521 🔑 Token cached: user=839d1d4a hasAccess=true hasRefresh=true
2025-10-03 23:13:04.537 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Auth event: INITIAL_SESSION
2025-10-03 23:13:04.538 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Token applied; channel healthy, no reconnect
2025-10-03 23:13:04.538 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-03 23:13:04.539 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299186, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:04.540 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299186, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(users);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 23:13:04.580 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:04.563 [38;5;159m[fetch][0m POST https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/user_devices?on_conflict=token
2025-10-03 23:13:04.608 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299187, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:04.608 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299187, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(users);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 23:13:04.692 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299188, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:04.692 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299188, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(group_members);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 23:13:04.757 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299189, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:04.758 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299189, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(group_members);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 23:13:04.797 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 254 - Msg: ✅ Database migration completed
2025-10-03 23:13:04.797 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: ✅ Tables created in encrypted database
2025-10-03 23:13:04.798 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: ✅ Encrypted SQLite ready
2025-10-03 23:13:04.798 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 254 - Msg: 🧪 Testing local storage...
2025-10-03 23:13:04.815 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299190, pluginId: CapacitorSQLite, methodName: run
2025-10-03 23:13:04.815 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299190, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n        INSERT OR REPLACE INTO users (id, display_name, phone_number, avatar_url, is_onboarded, created_at)\n        VALUES (?, ?, ?, ?, ?, ?)\n      ","values":["test-user-id","Test User","+1234567890",null,1,1759513384778],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 23:13:04.879 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 257 - Msg: ✅ Test user saved
2025-10-03 23:13:04.900 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299191, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:04.901 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299191, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["test-user-id"],"readonly":false,"isSQL92":true}
2025-10-03 23:13:04.948 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 257 - Msg: 📋 Retrieved user: [object Object]
2025-10-03 23:13:04.948 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 257 - Msg: ✅ Local storage test passed! Data was successfully saved and retrieved.
2025-10-03 23:13:04.984 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299192, pluginId: CapacitorSQLite, methodName: run
2025-10-03 23:13:04.984 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299192, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n         (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["test-message-id","test-group-id","test-user-id","Test message content",0,"text",null,null,null,1759513384928,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 23:13:05.005 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: auth-token-refreshed (priority: high)
2025-10-03 23:13:05.005 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: auth-token-refreshed
2025-10-03 23:13:05.029 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 259 - Msg: ✅ Test message saved
2025-10-03 23:13:05.051 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: auth-token-refreshed (priority: high)
2025-10-03 23:13:05.051 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Coalescing trigger (debounced) from: auth-token-refreshed
2025-10-03 23:13:05.051 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: auth-token-refreshed
2025-10-03 23:13:05.052 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299193, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:05.052 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299193, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM messages WHERE group_id = ? ORDER BY created_at ASC LIMIT 50 OFFSET 0","values":["test-group-id"],"readonly":false,"isSQL92":true}
2025-10-03 23:13:05.099 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 259 - Msg: 📋 Retrieved messages: [object Object]
2025-10-03 23:13:05.099 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 259 - Msg: ✅ Message storage test passed! Message was successfully saved and retrieved.
2025-10-03 23:13:05.099 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ SQLite initialized successfully
2025-10-03 23:13:05.099 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🌐 Network status monitoring handled centrally in main.tsx
2025-10-03 23:13:05.099 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 🎧 Setting up auth state listener...
2025-10-03 23:13:05.100 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:05.078 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 23:13:05.100 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 🔍 Initializing authentication...
2025-10-03 23:13:05.100 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:05.080 🔐 Attempting session recovery using cached tokens
2025-10-03 23:13:05.100 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:05.081 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 23:13:05.100 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:05.086 📦 Starting outbox processing - session outbox-1759513385086
2025-10-03 23:13:05.100 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:05.086 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 23:13:05.124 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 🔄 Auth state changed: INITIAL_SESSION 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-03 23:13:05.125 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 📡 Auth event: INITIAL_SESSION
2025-10-03 23:13:05.127 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299194, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:05.127 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299194, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759513385087],"readonly":false,"isSQL92":true}
2025-10-03 23:13:05.151 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:05.131 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-03 23:13:05.174 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:05.156 📦 No outbox messages to process; idle
2025-10-03 23:13:05.470 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:05.466 🔑 Token cached: user=839d1d4a hasAccess=true hasRefresh=true
2025-10-03 23:13:05.471 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Auth event: SIGNED_IN
2025-10-03 23:13:05.471 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Token applied; channel healthy, no reconnect
2025-10-03 23:13:05.471 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-03 23:13:05.472 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 🔄 Auth state changed: SIGNED_IN 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-03 23:13:05.472 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 🔄 User signed in (during init), letting initializeAuth handle it
2025-10-03 23:13:05.472 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:05.467 🔐 Session recovered successfully using cached tokens
2025-10-03 23:13:05.472 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 👤 Active session found for user: 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-03 23:13:05.473 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 🔄 Syncing user profile for: 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-03 23:13:05.495 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:05.479 🗄️ upsert device token success
2025-10-03 23:13:05.496 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 2025-10-03T17:43:05.479Z token:registered android dFtsHt…
2025-10-03 23:13:05.497 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:05.480 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/users?select=*&id=eq.839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-03 23:13:05.798 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: ✅ User profile found and loaded
2025-10-03 23:13:05.798 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🎨 App render state: [object Object]
2025-10-03 23:13:05.799 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 🏁 Auth initialization complete
2025-10-03 23:13:05.827 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🚀 Starting outbox processor...
2025-10-03 23:13:05.827 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-03 23:13:05.827 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: processor-start (priority: immediate)
2025-10-03 23:13:05.827 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 0ms for: processor-start
2025-10-03 23:13:05.827 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🎨 App render state: [object Object]
2025-10-03 23:13:05.827 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Auth setup complete
2025-10-03 23:13:05.847 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:05.830 📦 Starting outbox processing - session outbox-1759513385830
2025-10-03 23:13:05.847 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:05.830 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 23:13:05.851 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299195, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:05.851 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299195, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759513385830],"readonly":false,"isSQL92":true}
2025-10-03 23:13:05.855 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:05.854 📦 No outbox messages to process; idle
2025-10-03 23:13:05.882 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Loading groups from local storage first (local-first approach)
2025-10-03 23:13:05.883 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299196, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:05.883 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299196, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 23:13:05.913 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Found 7 groups in local storage
2025-10-03 23:13:05.913 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ✅ Loaded 7 groups from local storage
2025-10-03 23:13:05.961 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299197, pluginId: Network, methodName: getStatus
2025-10-03 23:13:05.961 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299197, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 23:13:05.988 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: � B ackground syncing groups with Supabase...
2025-10-03 23:13:05.989 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Fetching groups from Supabase...
2025-10-03 23:13:05.989 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:05.987 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 23:13:05.990 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: auth-token-refreshed (priority: high)
2025-10-03 23:13:05.990 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: auth-token-refreshed
2025-10-03 23:13:05.997 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:05.994 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-03 23:13:06.044 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:06.039 📦 Starting outbox processing - session outbox-1759513386039
2025-10-03 23:13:06.045 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:06.039 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 23:13:06.082 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299198, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:06.082 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299198, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759513386039],"readonly":false,"isSQL92":true}
2025-10-03 23:13:06.086 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:06.085 📦 No outbox messages to process; idle
2025-10-03 23:13:06.160 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:06.158 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-03 23:13:06.631 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:06.630 [38;5;159m[fetch][0m POST https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/rpc/get_all_unread_counts
2025-10-03 23:13:06.635 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:06.635 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/group_members?select=group_id&user_id=eq.839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-03 23:13:07.241 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:07.241 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/groups?select=*&id=in.%286af01500-2e15-490e-9077-316348aef93e%2C2e246d9c-356a-4fec-9022-108157fa391a%2C080c089f-e355-4ab7-a3b9-92bc9dd94f32%2C78045bbf-7474-46df-aac1-f34936b67d24%2C87faebb0-0bf4-49c9-8119-8d56abe52be2%2Ce96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b%2Cfcf73372-c86c-4e53-ac3d-f28896ce1d30%29
2025-10-03 23:13:08.170 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299199, pluginId: CapacitorSQLite, methodName: run
2025-10-03 23:13:08.170 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299199, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30","Dy Patil",null,"6E7RGJ","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1751445247708,1759513388167,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 23:13:08.189 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299200, pluginId: CapacitorSQLite, methodName: run
2025-10-03 23:13:08.189 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299200, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["87faebb0-0bf4-49c9-8119-8d56abe52be2","didi",null,"8KZ2QK","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1751450471719,1759513388186,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 23:13:08.202 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299201, pluginId: CapacitorSQLite, methodName: run
2025-10-03 23:13:08.202 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299201, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a","Hackathon Partners ❤️",null,"TP61XI","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1751995671920,1759513388200,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 23:13:08.215 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299202, pluginId: CapacitorSQLite, methodName: run
2025-10-03 23:13:08.215 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299202, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["080c089f-e355-4ab7-a3b9-92bc9dd94f32","New year",null,"QDPXM5","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1754296685816,1759513388213,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 23:13:08.225 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299203, pluginId: CapacitorSQLite, methodName: run
2025-10-03 23:13:08.226 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299203, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["6af01500-2e15-490e-9077-316348aef93e","Local tusker",null,"6S4CZQ","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1754296867925,1759513388223,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 23:13:08.236 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299204, pluginId: CapacitorSQLite, methodName: run
2025-10-03 23:13:08.236 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299204, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b","Test",null,"9QZ6KE","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1759333688718,1759513388234,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 23:13:08.246 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299205, pluginId: CapacitorSQLite, methodName: run
2025-10-03 23:13:08.247 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299205, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24","Tab",null,"2PUKD3","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5",1759333855926,1759513388244,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 23:13:08.254 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Synced 7 groups to local storage
2025-10-03 23:13:08.256 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299206, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:08.256 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299206, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 23:13:08.263 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ✅ UI updated with 7 synced groups
2025-10-03 23:13:08.282 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:08.282 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-03 23:13:08.909 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:08.907 [38;5;159m[fetch][0m POST https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/rpc/get_all_unread_counts
2025-10-03 23:13:35.362 30830-15639 Capacitor/...gingPlugin com.confessr.app                     V  Notifying listeners for event notificationReceived
2025-10-03 23:13:35.370 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 CRITICAL: FirebaseMessaging.notificationReceived FIRED! [object Object]
2025-10-03 23:13:35.370 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 Raw notification object: {"notification":{"id":"0:1759513415081088%5612aab15612aab1","data":{"message_id":"1759513398154-gza80962mpk","type":"new_message","group_id":"87faebb0-0bf4-49c9-8119-8d56abe52be2","created_at":"2025-10-03T17:43:33.641Z"},"title":"New message","body":"You have a new message in Confessr","clickAction":"FLUTTER_NOTIFICATION_CLICK"}}
2025-10-03 23:13:35.371 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 Extracted data: {"message_id":"1759513398154-gza80962mpk","type":"new_message","group_id":"87faebb0-0bf4-49c9-8119-8d56abe52be2","created_at":"2025-10-03T17:43:33.641Z"}
2025-10-03 23:13:35.371 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 Notification received, reason=data, data: [object Object]
2025-10-03 23:13:35.371 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 📥 Attempting direct fetch for message 1759513398154-gza80962mpk
2025-10-03 23:13:35.373 30830-14354 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js
2025-10-03 23:13:35.387 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 2 - Msg: [bg-sync] 🚀 Starting fetch for message 1759513398154-gza80962mpk in group 87faebb0-0bf4-49c9-8119-8d56abe52be2
2025-10-03 23:13:35.389 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:35.388 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*%2Creactions%28*%29%2Cusers%21messages_user_id_fkey%28display_name%2Cavatar_url%2Ccreated_at%29&id=eq.1759513398154-gza80962mpk
2025-10-03 23:13:35.615 30830-30830 Capacitor/Console       com.confessr.app                     E  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 6 - Msg: [bg-sync] ❌ Error fetching message 1759513398154-gza80962mpk after 228ms: {
                                                                                                      "message": "invalid input syntax for type uuid: \"1759513398154-gza80962mpk\"",
                                                                                                      "code": "22P02",
                                                                                                      "details": null,
                                                                                                      "hint": null
                                                                                                    }
2025-10-03 23:13:35.616 30830-30830 Capacitor/Console       com.confessr.app                     W  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ⚠️ Direct fetch returned false for message 1759513398154-gza80962mpk
2025-10-03 23:13:35.617 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔄 Triggering fallback sync via onWake (messageHandled=false)
2025-10-03 23:13:35.619 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Wake event: data
2025-10-03 23:13:35.620 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] 📬 New message in group 87faebb0-0bf4-49c9-8119-8d56abe52be2 - staying on current screen
2025-10-03 23:13:35.621 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] No active group, skipping resume
2025-10-03 23:13:35.630 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Fetching missed messages for all groups...
2025-10-03 23:13:35.634 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] Fetching missed messages for all groups
2025-10-03 23:13:35.640 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299207, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:35.641 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299207, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 23:13:35.657 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 since beginning
2025-10-03 23:13:35.663 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299208, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:35.664 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299208, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 23:13:35.685 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:35.682 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*%2Creactions%28*%29%2Cusers%21messages_user_id_fkey%28display_name%2Cavatar_url%2Ccreated_at%29&group_id=eq.fcf73372-c86c-4e53-ac3d-f28896ce1d30&order=created_at.asc&limit=100&created_at=gt.2025-10-03T17%3A43%3A08.167Z
2025-10-03 23:13:35.920 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] No missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 23:13:35.921 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group 2e246d9c-356a-4fec-9022-108157fa391a since beginning
2025-10-03 23:13:35.923 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299209, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:35.924 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299209, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-03 23:13:35.934 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:35.932 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*%2Creactions%28*%29%2Cusers%21messages_user_id_fkey%28display_name%2Cavatar_url%2Ccreated_at%29&group_id=eq.2e246d9c-356a-4fec-9022-108157fa391a&order=created_at.asc&limit=100&created_at=gt.2025-10-03T17%3A43%3A08.200Z
2025-10-03 23:13:36.144 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] No missed messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-03 23:13:36.146 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group 6af01500-2e15-490e-9077-316348aef93e since beginning
2025-10-03 23:13:36.152 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299210, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:36.153 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299210, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["6af01500-2e15-490e-9077-316348aef93e"],"readonly":false,"isSQL92":true}
2025-10-03 23:13:36.171 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:36.167 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*%2Creactions%28*%29%2Cusers%21messages_user_id_fkey%28display_name%2Cavatar_url%2Ccreated_at%29&group_id=eq.6af01500-2e15-490e-9077-316348aef93e&order=created_at.asc&limit=100&created_at=gt.2025-10-03T17%3A43%3A08.223Z
2025-10-03 23:13:36.448 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] No missed messages for group 6af01500-2e15-490e-9077-316348aef93e
2025-10-03 23:13:36.449 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group 080c089f-e355-4ab7-a3b9-92bc9dd94f32 since beginning
2025-10-03 23:13:36.459 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299211, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:36.460 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299211, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["080c089f-e355-4ab7-a3b9-92bc9dd94f32"],"readonly":false,"isSQL92":true}
2025-10-03 23:13:36.478 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:36.475 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*%2Creactions%28*%29%2Cusers%21messages_user_id_fkey%28display_name%2Cavatar_url%2Ccreated_at%29&group_id=eq.080c089f-e355-4ab7-a3b9-92bc9dd94f32&order=created_at.asc&limit=100&created_at=gt.2025-10-03T17%3A43%3A08.213Z
2025-10-03 23:13:36.690 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] No missed messages for group 080c089f-e355-4ab7-a3b9-92bc9dd94f32
2025-10-03 23:13:36.691 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group 78045bbf-7474-46df-aac1-f34936b67d24 since beginning
2025-10-03 23:13:36.697 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299212, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:36.698 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299212, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 23:13:36.719 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:36.716 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*%2Creactions%28*%29%2Cusers%21messages_user_id_fkey%28display_name%2Cavatar_url%2Ccreated_at%29&group_id=eq.78045bbf-7474-46df-aac1-f34936b67d24&order=created_at.asc&limit=100&created_at=gt.2025-10-03T17%3A43%3A08.244Z
2025-10-03 23:13:37.106 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] No missed messages for group 78045bbf-7474-46df-aac1-f34936b67d24
2025-10-03 23:13:37.107 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b since beginning
2025-10-03 23:13:37.113 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299213, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:37.113 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299213, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-03 23:13:37.133 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:37.129 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*%2Creactions%28*%29%2Cusers%21messages_user_id_fkey%28display_name%2Cavatar_url%2Ccreated_at%29&group_id=eq.e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b&order=created_at.asc&limit=100&created_at=gt.2025-10-03T17%3A43%3A08.234Z
2025-10-03 23:13:37.348 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] No missed messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b
2025-10-03 23:13:37.349 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group 87faebb0-0bf4-49c9-8119-8d56abe52be2 since beginning
2025-10-03 23:13:37.355 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299214, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:37.356 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299214, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["87faebb0-0bf4-49c9-8119-8d56abe52be2"],"readonly":false,"isSQL92":true}
2025-10-03 23:13:37.378 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:37.374 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*%2Creactions%28*%29%2Cusers%21messages_user_id_fkey%28display_name%2Cavatar_url%2Ccreated_at%29&group_id=eq.87faebb0-0bf4-49c9-8119-8d56abe52be2&order=created_at.asc&limit=100&created_at=gt.2025-10-03T17%3A43%3A08.186Z
2025-10-03 23:13:37.598 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299215, pluginId: CapacitorSQLite, methodName: run
2025-10-03 23:13:37.600 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299215, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["9105c129-1ca4-4ce4-b3ab-aa2a4599f251","87faebb0-0bf4-49c9-8119-8d56abe52be2","5892ff67-983f-46bc-b892-f4cb544c5c0e","Well",1,"text",null,null,null,1759513413561,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 23:13:37.668 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299216, pluginId: CapacitorSQLite, methodName: run
2025-10-03 23:13:37.669 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299216, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759513417661,"87faebb0-0bf4-49c9-8119-8d56abe52be2"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 23:13:37.703 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] ✅ Stored 1 missed messages for group 87faebb0-0bf4-49c9-8119-8d56abe52be2
2025-10-03 23:13:37.704 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] ✅ Fetched 1 total missed messages across 7 groups
2025-10-03 23:13:37.705 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] ✅ Fetched 1 missed messages across 7 groups
2025-10-03 23:13:37.714 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:37.709 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-03 23:13:37.835 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299217, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:37.836 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299217, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_read_at, joined_at FROM group_members WHERE group_id = ? AND user_id = ?","values":["87faebb0-0bf4-49c9-8119-8d56abe52be2","839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-03 23:13:37.856 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299218, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:37.856 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299218, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT COUNT(*) as count FROM messages WHERE group_id = ? AND user_id != ? AND created_at > ?","values":["87faebb0-0bf4-49c9-8119-8d56abe52be2","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1759500391668],"readonly":false,"isSQL92":true}
2025-10-03 23:13:37.873 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Triggered callbacks for group 87faebb0-0bf4-49c9-8119-8d56abe52be2, count=1
2025-10-03 23:13:37.874 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] 📊 Updated unread count for group 87faebb0-0bf4-49c9-8119-8d56abe52be2
2025-10-03 23:13:37.875 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ Fallback sync completed via onWake
2025-10-03 23:13:37.876 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📱 Push wakeup received: [object Object]
2025-10-03 23:13:37.877 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Wake event: new_message
2025-10-03 23:13:37.878 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] 📬 New message in group 87faebb0-0bf4-49c9-8119-8d56abe52be2 - staying on current screen
2025-10-03 23:13:37.879 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] No active group, skipping resume
2025-10-03 23:13:37.879 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🏁 Notification handling complete for message 1759513398154-gza80962mpk
2025-10-03 23:13:37.929 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Fetching missed messages for all groups...
2025-10-03 23:13:37.930 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] Fetching missed messages for all groups
2025-10-03 23:13:37.932 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299219, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:37.932 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299219, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 23:13:37.953 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 since beginning
2025-10-03 23:13:37.956 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299220, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:37.956 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299220, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 23:13:37.970 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:37.966 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*%2Creactions%28*%29%2Cusers%21messages_user_id_fkey%28display_name%2Cavatar_url%2Ccreated_at%29&group_id=eq.fcf73372-c86c-4e53-ac3d-f28896ce1d30&order=created_at.asc&limit=100&created_at=gt.2025-10-03T17%3A43%3A08.167Z
2025-10-03 23:13:38.072 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] No missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 23:13:38.073 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group 2e246d9c-356a-4fec-9022-108157fa391a since beginning
2025-10-03 23:13:38.079 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299221, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:38.079 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299221, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-03 23:13:38.100 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:38.098 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*%2Creactions%28*%29%2Cusers%21messages_user_id_fkey%28display_name%2Cavatar_url%2Ccreated_at%29&group_id=eq.2e246d9c-356a-4fec-9022-108157fa391a&order=created_at.asc&limit=100&created_at=gt.2025-10-03T17%3A43%3A08.200Z
2025-10-03 23:13:38.222 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] No missed messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-03 23:13:38.223 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group 6af01500-2e15-490e-9077-316348aef93e since beginning
2025-10-03 23:13:38.228 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299222, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:38.229 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299222, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["6af01500-2e15-490e-9077-316348aef93e"],"readonly":false,"isSQL92":true}
2025-10-03 23:13:38.251 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:38.247 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*%2Creactions%28*%29%2Cusers%21messages_user_id_fkey%28display_name%2Cavatar_url%2Ccreated_at%29&group_id=eq.6af01500-2e15-490e-9077-316348aef93e&order=created_at.asc&limit=100&created_at=gt.2025-10-03T17%3A43%3A08.223Z
2025-10-03 23:13:38.374 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] No missed messages for group 6af01500-2e15-490e-9077-316348aef93e
2025-10-03 23:13:38.375 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group 080c089f-e355-4ab7-a3b9-92bc9dd94f32 since beginning
2025-10-03 23:13:38.381 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299223, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:38.382 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299223, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["080c089f-e355-4ab7-a3b9-92bc9dd94f32"],"readonly":false,"isSQL92":true}
2025-10-03 23:13:38.401 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:38.398 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*%2Creactions%28*%29%2Cusers%21messages_user_id_fkey%28display_name%2Cavatar_url%2Ccreated_at%29&group_id=eq.080c089f-e355-4ab7-a3b9-92bc9dd94f32&order=created_at.asc&limit=100&created_at=gt.2025-10-03T17%3A43%3A08.213Z
2025-10-03 23:13:38.548 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] No missed messages for group 080c089f-e355-4ab7-a3b9-92bc9dd94f32
2025-10-03 23:13:38.550 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group 78045bbf-7474-46df-aac1-f34936b67d24 since beginning
2025-10-03 23:13:38.556 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299224, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:38.557 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299224, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 23:13:38.576 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:38.572 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*%2Creactions%28*%29%2Cusers%21messages_user_id_fkey%28display_name%2Cavatar_url%2Ccreated_at%29&group_id=eq.78045bbf-7474-46df-aac1-f34936b67d24&order=created_at.asc&limit=100&created_at=gt.2025-10-03T17%3A43%3A08.244Z
2025-10-03 23:13:38.710 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] No missed messages for group 78045bbf-7474-46df-aac1-f34936b67d24
2025-10-03 23:13:38.711 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b since beginning
2025-10-03 23:13:38.716 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299225, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:38.717 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299225, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-03 23:13:38.736 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:38.734 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*%2Creactions%28*%29%2Cusers%21messages_user_id_fkey%28display_name%2Cavatar_url%2Ccreated_at%29&group_id=eq.e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b&order=created_at.asc&limit=100&created_at=gt.2025-10-03T17%3A43%3A08.234Z
2025-10-03 23:13:38.855 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] No missed messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b
2025-10-03 23:13:38.856 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group 87faebb0-0bf4-49c9-8119-8d56abe52be2 since beginning
2025-10-03 23:13:38.858 30830-30830 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 98299226, pluginId: CapacitorSQLite, methodName: query
2025-10-03 23:13:38.858 30830-30830 Capacitor               com.confessr.app                     V  callback: 98299226, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["87faebb0-0bf4-49c9-8119-8d56abe52be2"],"readonly":false,"isSQL92":true}
2025-10-03 23:13:38.866 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 17:43:38.865 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*%2Creactions%28*%29%2Cusers%21messages_user_id_fkey%28display_name%2Cavatar_url%2Ccreated_at%29&group_id=eq.87faebb0-0bf4-49c9-8119-8d56abe52be2&order=created_at.asc&limit=100&created_at=gt.2025-10-03T17%3A43%3A37.661Z
2025-10-03 23:13:39.023 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] No missed messages for group 87faebb0-0bf4-49c9-8119-8d56abe52be2
2025-10-03 23:13:39.024 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] ✅ Fetched 0 total missed messages across 7 groups
2025-10-03 23:13:39.026 30830-30830 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] ✅ Fetched 0 missed messages across 7 groups
