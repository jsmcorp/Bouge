---------------------------- PROCESS STARTED (23193) for package com.confessr.app ----------------------------
2025-10-17 05:19:11.264 23193-23193 Capacitor               com.confessr.app                     D  Starting BridgeActivity
2025-10-17 05:19:11.287 23193-23193 Capacitor               com.confessr.app                     D  Registering plugin instance: CapacitorCookies
2025-10-17 05:19:11.292 23193-23193 Capacitor               com.confessr.app                     D  Registering plugin instance: WebView
2025-10-17 05:19:11.293 23193-23193 Capacitor               com.confessr.app                     D  Registering plugin instance: CapacitorHttp
2025-10-17 05:19:11.295 23193-23193 Capacitor               com.confessr.app                     D  Registering plugin instance: TruecallerAuth
2025-10-17 05:19:11.621 23193-23193 Capacitor               com.confessr.app                     D  Registering plugin instance: CapacitorSQLite
2025-10-17 05:19:11.747 23193-23193 Capacitor               com.confessr.app                     D  Registering plugin instance: FirebaseMessaging
2025-10-17 05:19:11.749 23193-23193 Capacitor               com.confessr.app                     D  Registering plugin instance: App
2025-10-17 05:19:11.750 23193-23193 Capacitor               com.confessr.app                     D  Registering plugin instance: Haptics
2025-10-17 05:19:11.752 23193-23193 Capacitor               com.confessr.app                     D  Registering plugin instance: Keyboard
2025-10-17 05:19:11.753 23193-23193 Capacitor               com.confessr.app                     D  Registering plugin instance: Network
2025-10-17 05:19:11.755 23193-23193 Capacitor               com.confessr.app                     D  Registering plugin instance: Preferences
2025-10-17 05:19:11.779 23193-23193 Capacitor               com.confessr.app                     W  Unable to read file at path public/plugins
2025-10-17 05:19:11.783 23193-23193 Capacitor               com.confessr.app                     D  Loading app at https://localhost
2025-10-17 05:19:11.826 23193-23193 Capacitor               com.confessr.app                     D  App started
2025-10-17 05:19:11.828 23193-23193 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: true
2025-10-17 05:19:11.828 23193-23193 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-17 05:19:11.828 23193-23193 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event appStateChange
2025-10-17 05:19:11.829 23193-29985 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/
2025-10-17 05:19:11.832 23193-23193 Capacitor               com.confessr.app                     D  App resumed
2025-10-17 05:19:11.845 23193-30180 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-17 05:19:11.845 23193-30180 Capacitor/NetworkPlugin com.confessr.app                     D  No listeners found for event networkStatusChange
2025-10-17 05:19:11.972 23193-29985 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/index-BNHMqd60.js
2025-10-17 05:19:11.979 23193-29987 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/index-VW7d3Me2.css
2025-10-17 05:19:12.351 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:12.345 🚀 Pipeline initialized
2025-10-17 05:19:12.351 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:12.348 🧪 Debug tag: v2025-09-24.stage-markers.v2
2025-10-17 05:19:12.352 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:12.348 🧪 Marker pack installed: entered-send, pre-network, POST markers, 5s timeout→outbox, watchdog job creation
2025-10-17 05:19:12.352 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:12.348 ✅ Proactive token refresh timer started (checks every 5 minutes)
2025-10-17 05:19:12.352 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:12.348 🔄 initialize() called - force=false isInitialized=false hasClient=false initPromiseActive=false
2025-10-17 05:19:12.352 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:12.348 🔄 Initializing Supabase client...
2025-10-17 05:19:12.352 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:12.348 🔄 Supabase env present? url=true anonKey=true
2025-10-17 05:19:12.360 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:12.358 🔄 Supabase client created ONCE (persistSession=true, autoRefreshToken=true)
2025-10-17 05:19:12.370 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: 💧 Rehydrating auth state...
2025-10-17 05:19:12.370 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: 💧 Auth state rehydrated with user: null
2025-10-17 05:19:12.370 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 364 - Msg: 📦 MessageCache: Initialized with 15min expiry, max 10 chats, 50 messages per chat
2025-10-17 05:19:12.372 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [webview-lifecycle] 23:49:12 🌐 WebView Lifecycle Manager initialized
2025-10-17 05:19:12.374 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [general] 23:49:12 ℹ️ Mobile Logger initialized - Session: 1760658552372-1xak5093n, Platform: android
2025-10-17 05:19:12.394 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [realtime-v2] Initializing auth state listener for chat store
2025-10-17 05:19:12.395 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [realtime-v2] Setting up auth state listener for realtime
2025-10-17 05:19:12.396 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:12.395 🔑 getClient() called - hasClient=true isInitialized=false initPromiseActive=true
2025-10-17 05:19:12.396 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:12.395 🔑 getClient() -> calling initialize()
2025-10-17 05:19:12.396 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:12.395 🔄 initialize() called - force=false isInitialized=false hasClient=true initPromiseActive=true
2025-10-17 05:19:12.396 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:12.395 🔄 initialize() waiting for existing initializePromise
2025-10-17 05:19:12.402 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 395 - Msg: [device-lock] 23:49:12 🔒 Device Lock Detection Manager initialized
2025-10-17 05:19:12.403 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 395 - Msg: [whatsapp-connection] 23:49:12 📱 WhatsApp-Style Connection Manager initialized
2025-10-17 05:19:12.456 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [push] 🚀 CRITICAL: Module load - starting listener registration
2025-10-17 05:19:12.456 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [push] 🚀 FIRST IMPORT: Starting @capacitor-firebase/messaging import
2025-10-17 05:19:12.461 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [main] 🚀 IIFE starting - about to initialize push notifications
2025-10-17 05:19:12.461 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [main] 🔥 Inside async IIFE - before try block
2025-10-17 05:19:12.461 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [main] 📱 Initializing push notifications...
2025-10-17 05:19:12.461 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [push] 🚀 initPush() called
2025-10-17 05:19:12.462 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [push] ✅ Starting push initialization...
2025-10-17 05:19:12.462 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [push] 📦 Waiting for FirebaseMessaging import (shared with listener registration)...
2025-10-17 05:19:12.462 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:12.461 ✅ Supabase client initialized successfully (PERMANENT INSTANCE)
2025-10-17 05:19:12.466 23193-29985 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/index-Dn9CFGmC.js
2025-10-17 05:19:12.474 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409265, pluginId: App, methodName: addListener
2025-10-17 05:19:12.474 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409265, pluginId: App, methodName: addListener, methodData: {"eventName":"appStateChange"}
2025-10-17 05:19:12.474 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409266, pluginId: App, methodName: addListener
2025-10-17 05:19:12.475 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409266, pluginId: App, methodName: addListener, methodData: {"eventName":"resume"}
2025-10-17 05:19:12.497 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [webview-lifecycle] 23:49:12 ✅ WebView context fully restored and ready
2025-10-17 05:19:12.519 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: 🚀 App mounted, setting up auth...
2025-10-17 05:19:12.519 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: 📱 Native platform detected, initializing SQLite...
2025-10-17 05:19:12.519 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 107 - Msg: 🗄️ Initializing SQLite database...
2025-10-17 05:19:12.520 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: 🎨 App render state: [object Object]
2025-10-17 05:19:12.523 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409267, pluginId: App, methodName: addListener
2025-10-17 05:19:12.523 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409267, pluginId: App, methodName: addListener, methodData: {"eventName":"backButton"}
2025-10-17 05:19:12.524 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409268, pluginId: App, methodName: addListener
2025-10-17 05:19:12.524 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409268, pluginId: App, methodName: addListener, methodData: {"eventName":"appStateChange"}
2025-10-17 05:19:12.525 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409269, pluginId: Preferences, methodName: get
2025-10-17 05:19:12.525 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409269, pluginId: Preferences, methodName: get, methodData: {"key":"sqlite_encryption_key"}
2025-10-17 05:19:12.554 23193-29985 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/favicon.ico
2025-10-17 05:19:12.580 23193-29985 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/favicon.ico
2025-10-17 05:19:12.846 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [push] ✅ FirebaseMessaging module imported successfully
2025-10-17 05:19:12.846 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [push] 🎯 CRITICAL: Registering all listeners NOW
2025-10-17 05:19:12.846 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [push] ✅ FirebaseMessaging imported successfully
2025-10-17 05:19:12.846 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [push] ⏳ Waiting for listeners to be registered...
2025-10-17 05:19:12.847 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [push] ✅ CRITICAL: notificationReceived listener registered and handle stored!
2025-10-17 05:19:12.847 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [push] ✅ tokenReceived listener registered and handle stored!
2025-10-17 05:19:12.847 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [push] ✅ notificationActionPerformed listener registered and handle stored!
2025-10-17 05:19:12.847 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [push] ✅✅✅ ALL LISTENERS REGISTERED SUCCESSFULLY ✅✅✅
2025-10-17 05:19:12.847 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [push] ✅ Listeners confirmed registered, proceeding with initialization
2025-10-17 05:19:12.853 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409270, pluginId: CapacitorSQLite, methodName: setEncryptionSecret
2025-10-17 05:19:12.853 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409270, pluginId: CapacitorSQLite, methodName: setEncryptionSecret, methodData: {"passphrase":"66f3d49e8e514204b885794206a8fec2"}
2025-10-17 05:19:12.853 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409271, pluginId: FirebaseMessaging, methodName: addListener
2025-10-17 05:19:12.854 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409271, pluginId: FirebaseMessaging, methodName: addListener, methodData: {"eventName":"notificationReceived"}
2025-10-17 05:19:12.854 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409272, pluginId: FirebaseMessaging, methodName: addListener
2025-10-17 05:19:12.854 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409272, pluginId: FirebaseMessaging, methodName: addListener, methodData: {"eventName":"tokenReceived"}
2025-10-17 05:19:12.854 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409273, pluginId: FirebaseMessaging, methodName: addListener
2025-10-17 05:19:12.854 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409273, pluginId: FirebaseMessaging, methodName: addListener, methodData: {"eventName":"notificationActionPerformed"}
2025-10-17 05:19:12.855 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409274, pluginId: FirebaseMessaging, methodName: checkPermissions
2025-10-17 05:19:12.855 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409274, pluginId: FirebaseMessaging, methodName: checkPermissions, methodData: {}
2025-10-17 05:19:12.872 23193-30077 com.getcap...RetHandler com.confessr.app                     V  *** ERROR SetEncryptionSecret: a passphrase has already been set 
2025-10-17 05:19:12.872 23193-30077 Capacitor               com.confessr.app                     D  Sending plugin error: {"save":false,"callbackId":"100409270","pluginId":"CapacitorSQLite","methodName":"setEncryptionSecret","success":false,"error":{"message":"SetEncryptionSecret: a passphrase has already been set "}}
2025-10-17 05:19:13.026 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:12.875 🔑 Token cached: user=undefined hasAccess=false hasRefresh=false
2025-10-17 05:19:13.176 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 107 - Msg: 🔑 SQLite encryption key was already set
2025-10-17 05:19:13.177 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [push] permission before(FirebaseMessaging): granted
2025-10-17 05:19:13.177 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [realtime-v2] Auth event: INITIAL_SESSION
2025-10-17 05:19:13.178 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [realtime-v2] Token applied; channel healthy, no reconnect
2025-10-17 05:19:13.178 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-17 05:19:13.187 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409275, pluginId: CapacitorSQLite, methodName: isDatabase
2025-10-17 05:19:13.187 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409275, pluginId: CapacitorSQLite, methodName: isDatabase, methodData: {"database":"confessr_db"}
2025-10-17 05:19:13.188 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409276, pluginId: FirebaseMessaging, methodName: getToken
2025-10-17 05:19:13.188 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409276, pluginId: FirebaseMessaging, methodName: getToken, methodData: {}
2025-10-17 05:19:13.263 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 107 - Msg: Database exists check: true
2025-10-17 05:19:13.263 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 107 - Msg: 🔓 Opening encrypted database with secret mode...
2025-10-17 05:19:13.264 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [push] token received(firebase): dFtsHt…
2025-10-17 05:19:13.264 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [push] ✅ Push initialization complete
2025-10-17 05:19:13.264 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:13.259 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-17 05:19:13.265 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [push] ✅ Push initialization completed successfully
2025-10-17 05:19:13.265 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: [main] ✅ Push notifications initialized
2025-10-17 05:19:13.265 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [general] 23:49:13 ℹ️ Initializing WhatsApp-style connection system
2025-10-17 05:19:13.345 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409277, pluginId: CapacitorSQLite, methodName: createConnection
2025-10-17 05:19:13.346 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409277, pluginId: CapacitorSQLite, methodName: createConnection, methodData: {"database":"confessr_db","encrypted":true,"mode":"secret","version":1,"readonly":false}
2025-10-17 05:19:13.346 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409278, pluginId: App, methodName: addListener
2025-10-17 05:19:13.346 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409278, pluginId: App, methodName: addListener, methodData: {"eventName":"resume"}
2025-10-17 05:19:13.346 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409279, pluginId: App, methodName: addListener
2025-10-17 05:19:13.346 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409279, pluginId: App, methodName: addListener, methodData: {"eventName":"appUrlOpen"}
2025-10-17 05:19:13.347 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409280, pluginId: Network, methodName: addListener
2025-10-17 05:19:13.347 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409280, pluginId: Network, methodName: addListener, methodData: {"eventName":"networkStatusChange"}
2025-10-17 05:19:13.347 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409281, pluginId: Network, methodName: getStatus
2025-10-17 05:19:13.347 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409281, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-17 05:19:13.351 23193-30077 com.getcap...e.Database com.confessr.app                     V  &&& file path /data/user/0/com.confessr.app/databases/confessr_dbSQLite.db
2025-10-17 05:19:13.417 23193-23193 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-17 05:19:13.418 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [network] 23:49:13 ℹ️ Initial network status: online {"connectionType":"wifi"}
2025-10-17 05:19:13.418 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 395 - Msg: [whatsapp-connection] 23:49:13 📊 Status: connecting -  
2025-10-17 05:19:13.418 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [connection] 23:49:13 ℹ️ Connection status: connecting -  {"isUserVisible":false}
2025-10-17 05:19:13.424 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409282, pluginId: CapacitorSQLite, methodName: open
2025-10-17 05:19:13.424 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409282, pluginId: CapacitorSQLite, methodName: open, methodData: {"database":"confessr_db","readonly":false}
2025-10-17 05:19:13.424 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409283, pluginId: App, methodName: addListener
2025-10-17 05:19:13.424 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409283, pluginId: App, methodName: addListener, methodData: {"eventName":"appStateChange"}
2025-10-17 05:19:13.425 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409284, pluginId: App, methodName: addListener
2025-10-17 05:19:13.425 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409284, pluginId: App, methodName: addListener, methodData: {"eventName":"resume"}
2025-10-17 05:19:13.425 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409285, pluginId: Network, methodName: addListener
2025-10-17 05:19:13.425 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409285, pluginId: Network, methodName: addListener, methodData: {"eventName":"networkStatusChange"}
2025-10-17 05:19:13.570 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 390 - Msg: [outbox-unified] Trigger requested from: auth-token-refreshed (priority: high)
2025-10-17 05:19:13.571 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: auth-token-refreshed
2025-10-17 05:19:13.624 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:13.605 📦 Starting outbox processing - session outbox-1760658553605
2025-10-17 05:19:13.942 23193-23193 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-17 05:19:13.943 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 107 - Msg: ✅ Encrypted database opened successfully
2025-10-17 05:19:13.959 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409286, pluginId: CapacitorSQLite, methodName: execute
2025-10-17 05:19:13.959 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409286, pluginId: CapacitorSQLite, methodName: execute, methodData: {"database":"confessr_db","statements":"PRAGMA cipher_memory_security = ON;","transaction":true,"readonly":false,"isSQL92":true}
2025-10-17 05:19:14.002 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 107 - Msg: ✅ Security pragma set
2025-10-17 05:19:14.002 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 107 - Msg: 📊 Creating tables in encrypted database...
2025-10-17 05:19:14.004 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409287, pluginId: CapacitorSQLite, methodName: execute
2025-10-17 05:19:14.004 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409287, pluginId: CapacitorSQLite, methodName: execute, methodData: {"database":"confessr_db","statements":"\n      CREATE TABLE IF NOT EXISTS messages (\n        id TEXT PRIMARY KEY,\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        content TEXT NOT NULL,\n        is_ghost INTEGER DEFAULT 0,\n        message_type TEXT DEFAULT 'text',\n        category TEXT,\n        parent_id TEXT,\n        image_url TEXT,\n        created_at INTEGER NOT NULL,\n        local_id INTEGER UNIQUE,\n        updated_at INTEGER,\n        deleted_at INTEGER\n      );\n\n      CREATE TABLE IF NOT EXISTS groups (\n        id TEXT PRIMARY KEY,\n        name TEXT NOT NULL,\n        description TEXT,\n        invite_code TEXT,\n        created_by TEXT NOT NULL,\n        created_at INTEGER NOT NULL,\n        last_sync_timestamp INTEGER DEFAULT 0,\n        avatar_url TEXT,\n        is_archived INTEGER DEFAULT 0\n      );\n\n      CREATE TABLE IF NOT EXISTS users (\n        id TEXT PRIMARY KEY,\n        display_name TEXT NOT NULL,\n        phone_number TEXT,\n        avatar_url TEXT,\n        is_onboarded INTEGER DEFAULT 0,\n        created_at INTEGER NOT NULL\n      );\n\n      CREATE TABLE IF NOT EXISTS outbox (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        content TEXT NOT NULL,\n        retry_count INTEGER DEFAULT 0,\n        next_retry_at INTEGER NOT NULL,\n        message_type TEXT DEFAULT 'text',\n        category TEXT,\n        parent_id TEXT,\n        image_url TEXT,\n        is_ghost INTEGER DEFAULT 0\n      );\n\n      CREATE TABLE IF NOT EXISTS sync_state (\n        key TEXT PRIMARY KEY,\n        value TEXT NOT NULL\n      );\n\n      \/* Polls table *\/\n      CREATE TABLE IF NOT EXISTS polls (\n        id TEXT PRIMARY KEY,\n        message_id TEXT NOT NULL,\n        question TEXT NOT NULL,\n        options TEXT NOT NULL, -- JSON string\n        created_at INTEGER NOT NULL,\n        closes_at INTEGER NOT NULL,\n        created_by TEXT NOT NULL,\n        FOREIGN KEY (message_id) REFERENCES messages(id)\n      );\n\n      \/* Poll votes table *\/\n      CREATE TABLE IF NOT EXISTS poll_votes (\n        poll_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        option_index INTEGER NOT NULL,\n        created_at INTEGER NOT NULL,\n        PRIMARY KEY (poll_id, user_id),\n        FOREIGN KEY (poll_id) REFERENCES polls(id)\n      );\n\n      \/* Reactions table *\/\n      CREATE TABLE IF NOT EXISTS reactions (\n        id TEXT PRIMARY KEY,\n        message_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        emoji TEXT NOT NULL,\n        created_at INTEGER NOT NULL,\n        FOREIGN KEY (message_id) REFERENCES messages(id)\n      );\n\n      \/* Group members table *\/\n      CREATE TABLE IF NOT EXISTS group_members (\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        role TEXT DEFAULT 'participant',\n        joined_at INTEGER NOT NULL,\n        last_read_at INTEGER DEFAULT 0,\n        last_read_message_id TEXT,\n        PRIMARY KEY (group_id, user_id),\n        FOREIGN KEY (group_id) REFERENCES groups(id),\n        FOREIGN KEY (user_id) REFERENCES users(id)\n      );\n\n      \/* User pseudonyms for ghost messages *\/\n      CREATE TABLE IF NOT EXISTS user_pseudonyms (\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        pseudonym TEXT NOT NULL,\n        created_at INTEGER NOT NULL,\n        PRIMARY KEY (group_id, user_id)\n      );\n\n      \/* Confessions table for confession messages *\/\n      CREATE TABLE IF NOT EXISTS confessions (\n        id TEXT PRIMARY KEY,\n        message_id TEXT NOT NULL,\n        confession_type TEXT NOT NULL,\n        is_anonymous INTEGER DEFAULT 1,\n        FOREIGN KEY (message_id) REFERENCES messages(id)\n      );\n\n      \/* indexes *\/\n      CREATE INDEX IF NOT EXISTS idx_msg_group_date_asc\n        ON messages(group_id, created_at ASC);\n      CREATE INDEX IF NOT EXISTS idx_msg_group_date_desc\n        O
2025-10-17 05:19:14.046 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409288, pluginId: CapacitorSQLite, methodName: query
2025-10-17 05:19:14.046 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409288, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(messages);","values":[],"readonly":false,"isSQL92":true}
2025-10-17 05:19:14.131 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409289, pluginId: CapacitorSQLite, methodName: query
2025-10-17 05:19:14.131 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409289, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(groups);","values":[],"readonly":false,"isSQL92":true}
2025-10-17 05:19:14.195 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409290, pluginId: CapacitorSQLite, methodName: query
2025-10-17 05:19:14.196 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409290, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(users);","values":[],"readonly":false,"isSQL92":true}
2025-10-17 05:19:14.259 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409291, pluginId: CapacitorSQLite, methodName: query
2025-10-17 05:19:14.259 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409291, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(group_members);","values":[],"readonly":false,"isSQL92":true}
2025-10-17 05:19:14.285 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 254 - Msg: ✅ Database migration completed
2025-10-17 05:19:14.285 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 107 - Msg: ✅ Tables created in encrypted database
2025-10-17 05:19:14.285 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 107 - Msg: ✅ Encrypted SQLite ready
2025-10-17 05:19:14.286 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 254 - Msg: 🧪 Testing local storage...
2025-10-17 05:19:14.312 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409292, pluginId: CapacitorSQLite, methodName: run
2025-10-17 05:19:14.312 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409292, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n        INSERT OR REPLACE INTO users (id, display_name, phone_number, avatar_url, is_onboarded, created_at)\n        VALUES (?, ?, ?, ?, ?, ?)\n      ","values":["test-user-id","Test User","+1234567890",null,1,1760658554283],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-17 05:19:14.354 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 257 - Msg: ✅ Test user saved
2025-10-17 05:19:14.371 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409293, pluginId: CapacitorSQLite, methodName: query
2025-10-17 05:19:14.371 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409293, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["test-user-id"],"readonly":false,"isSQL92":true}
2025-10-17 05:19:14.425 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 257 - Msg: 📋 Retrieved user: [object Object]
2025-10-17 05:19:14.426 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 257 - Msg: ✅ Local storage test passed! Data was successfully saved and retrieved.
2025-10-17 05:19:14.426 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:14.411 📦 Outbox pre-check: sqliteReady after 806ms
2025-10-17 05:19:14.445 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409294, pluginId: CapacitorSQLite, methodName: run
2025-10-17 05:19:14.445 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409294, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n         (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["test-message-id","test-group-id","test-user-id","Test message content",0,"text",null,null,null,1760658554405,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-17 05:19:14.445 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409295, pluginId: CapacitorSQLite, methodName: query
2025-10-17 05:19:14.446 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409295, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1760658554413],"readonly":false,"isSQL92":true}
2025-10-17 05:19:14.495 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 259 - Msg: ✅ Test message saved
2025-10-17 05:19:14.497 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:14.472 📦 No outbox messages to process; idle
2025-10-17 05:19:14.511 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409296, pluginId: CapacitorSQLite, methodName: query
2025-10-17 05:19:14.511 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409296, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM messages WHERE group_id = ? ORDER BY created_at ASC LIMIT 50 OFFSET 0","values":["test-group-id"],"readonly":false,"isSQL92":true}
2025-10-17 05:19:14.558 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 259 - Msg: 📋 Retrieved messages: [object Object]
2025-10-17 05:19:14.558 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 259 - Msg: ✅ Message storage test passed! Message was successfully saved and retrieved.
2025-10-17 05:19:14.558 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: ✅ SQLite initialized successfully
2025-10-17 05:19:14.558 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: 🌐 Network status monitoring handled centrally in main.tsx
2025-10-17 05:19:14.558 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: 🎧 Setting up auth state listener...
2025-10-17 05:19:14.558 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:14.540 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-17 05:19:14.559 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: 🔍 Initializing authentication...
2025-10-17 05:19:14.559 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:14.543 🔐 Fetching fresh session from Supabase
2025-10-17 05:19:14.559 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:14.547 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-17 05:19:14.573 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: 🔄 Auth state changed: INITIAL_SESSION no-user
2025-10-17 05:19:14.573 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: 📡 Auth event: INITIAL_SESSION
2025-10-17 05:19:14.579 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: 🚫 No active session found
2025-10-17 05:19:14.613 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: 🏁 Auth initialization complete
2025-10-17 05:19:14.617 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: 🎨 App render state: [object Object]
2025-10-17 05:19:14.617 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: ✅ Auth setup complete
2025-10-17 05:19:14.630 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409297, pluginId: TruecallerAuth, methodName: isAvailable
2025-10-17 05:19:14.630 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409297, pluginId: TruecallerAuth, methodName: isAvailable, methodData: {}
2025-10-17 05:19:14.642 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 678 - Msg: [Truecaller] Available: true
2025-10-17 05:19:15.872 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 678 - Msg: [Truecaller] Starting verification...
2025-10-17 05:19:15.881 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409298, pluginId: TruecallerAuth, methodName: verifyWithTruecaller
2025-10-17 05:19:15.881 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409298, pluginId: TruecallerAuth, methodName: verifyWithTruecaller, methodData: {}
2025-10-17 05:19:16.005 23193-23193 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event pause
2025-10-17 05:19:16.005 23193-23193 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event pause
2025-10-17 05:19:16.006 23193-23193 Capacitor               com.confessr.app                     D  App paused
2025-10-17 05:19:18.354 23193-23193 Capacitor               com.confessr.app                     D  Unable to find a Capacitor plugin to handle requestCode, trying Cordova plugins 100
2025-10-17 05:19:18.359 23193-23193 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: true
2025-10-17 05:19:18.359 23193-23193 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-17 05:19:18.360 23193-23193 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event resume
2025-10-17 05:19:18.368 23193-23193 Capacitor               com.confessr.app                     D  App resumed
2025-10-17 05:19:18.370 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 678 - Msg: [Truecaller] Authorization code received
2025-10-17 05:19:18.370 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 678 - Msg: [Truecaller] Calling backend: https://sxykfyqrqwifkirveqgr.supabase.co/functions/v1/truecaller-verify
2025-10-17 05:19:18.372 23193-30180 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-17 05:19:18.377 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 395 - Msg: [device-lock] 23:49:18 App foreground event while not locked, treating as activity
2025-10-17 05:19:18.377 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: 📱 App state changed: active
2025-10-17 05:19:18.378 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [device-lifecycle] 23:49:18 ℹ️ App resume from appStateChange {"timeSinceLastResume":1760658558368,"source":"appStateChange"}
2025-10-17 05:19:18.378 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.370 📱 App resume detected - checking session state
2025-10-17 05:19:18.378 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.370 🔄 Recovering session using cached tokens...
2025-10-17 05:19:18.378 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.372 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-17 05:19:18.378 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.372 🔄 No cached tokens available for recovery
2025-10-17 05:19:18.378 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.372 ⚠️ App resume: token recovery failed, session may need refresh
2025-10-17 05:19:18.378 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.372 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-17 05:19:18.378 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.373 📦 Triggering outbox processing from: app-resume
2025-10-17 05:19:18.378 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.373 ✅ App resume completed using token recovery strategy
2025-10-17 05:19:18.379 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [general] 23:49:18 ℹ️ Triggered outbox processing on app resume
2025-10-17 05:19:18.379 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [device-lifecycle] 23:49:18 ℹ️ App resume processed from appStateChange
2025-10-17 05:19:18.379 23193-23193 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-17 05:19:18.379 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 395 - Msg: [device-lock] 23:49:18 App foreground event while not locked, treating as activity
2025-10-17 05:19:18.379 23193-23193 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-17 05:19:18.379 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 390 - Msg: [outbox-unified] Trigger requested from: app-resume (priority: high)
2025-10-17 05:19:18.379 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: app-resume
2025-10-17 05:19:18.379 23193-23193 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-17 05:19:18.380 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [device-lifecycle] 23:49:18 ℹ️ App resume from resume {"timeSinceLastResume":8,"source":"resume"}
2025-10-17 05:19:18.380 23193-23193 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [device-lifecycle] 23:49:18 🔍 Resume debounced (too soon after last resume)
2025-10-17 05:19:18.385 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.379 📦 Starting outbox processing - session outbox-1760658558379
2025-10-17 05:19:18.385 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.379 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-17 05:19:18.402 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [network] 23:49:18 ℹ️ Network status: online {"isOnline":true,"connectionType":"wifi"}
2025-10-17 05:19:18.402 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [network] 23:49:18 ℹ️ Network reconnected
2025-10-17 05:19:18.402 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [realtime-v2] Network came online
2025-10-17 05:19:18.403 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [realtime-v2] Network online - triggering outbox processing only
2025-10-17 05:19:18.403 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 390 - Msg: [outbox-unified] Trigger requested from: network-online (priority: high)
2025-10-17 05:19:18.403 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 390 - Msg: [outbox-unified] Coalescing trigger (debounced) from: network-online
2025-10-17 05:19:18.403 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: network-online
2025-10-17 05:19:18.403 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.401 🌐 Network reconnection detected - triggering background session refresh
2025-10-17 05:19:18.403 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.401 🔄 Recovering session using cached tokens...
2025-10-17 05:19:18.403 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.401 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-17 05:19:18.403 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.401 📦 Trigger coalesced (debounced 300ms) from: network-reconnect
2025-10-17 05:19:18.403 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.401 ✅ Network reconnect handler completed (session refresh in background)
2025-10-17 05:19:18.404 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409299, pluginId: CapacitorSQLite, methodName: query
2025-10-17 05:19:18.404 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409299, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1760658558379],"readonly":false,"isSQL92":true}
2025-10-17 05:19:18.417 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.401 🔄 No cached tokens available for recovery
2025-10-17 05:19:18.417 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.403 ⚠️ Background session refresh failed (will retry on next API call)
2025-10-17 05:19:18.418 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.411 📦 No outbox messages to process; idle
2025-10-17 05:19:18.449 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.442 📦 Starting outbox processing - session outbox-1760658558442
2025-10-17 05:19:18.449 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.442 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-17 05:19:18.456 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409300, pluginId: CapacitorSQLite, methodName: query
2025-10-17 05:19:18.456 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409300, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1760658558442],"readonly":false,"isSQL92":true}
2025-10-17 05:19:18.467 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:18.461 📦 No outbox messages to process; idle
2025-10-17 05:19:18.897 23193-29985 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/reconnectionManager-pVITOt4b.js
2025-10-17 05:19:18.915 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:49:18 🧭 Triggers coalesced; assessing health - reason: network-online [cid=1760658558912-qaxre4]
2025-10-17 05:19:19.119 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:49:19 📱 Waiting for WebView readiness
2025-10-17 05:19:19.128 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [webview-lifecycle] 23:49:19 WebView already ready
2025-10-17 05:19:19.129 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:49:19 ✅ WebView is ready
2025-10-17 05:19:19.130 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:49:19 🔐 Validating SQLite encryption
2025-10-17 05:19:19.130 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 107 - Msg: [sqlite-encryption] 23:49:19 🔓 Validating encryption key after device unlock
2025-10-17 05:19:19.131 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 107 - Msg: [sqlite-encryption] 23:49:19 🔍 Validating SQLite encryption key accessibility
2025-10-17 05:19:19.137 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409301, pluginId: Preferences, methodName: set
2025-10-17 05:19:19.138 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409301, pluginId: Preferences, methodName: set, methodData: {"key":"sqlite_key_validation_test","value":"validation_1760658559121"}
2025-10-17 05:19:19.141 23193-23193 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-17 05:19:19.144 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409302, pluginId: Preferences, methodName: get
2025-10-17 05:19:19.144 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409302, pluginId: Preferences, methodName: get, methodData: {"key":"sqlite_key_validation_test"}
2025-10-17 05:19:19.153 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409303, pluginId: Preferences, methodName: remove
2025-10-17 05:19:19.153 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409303, pluginId: Preferences, methodName: remove, methodData: {"key":"sqlite_key_validation_test"}
2025-10-17 05:19:19.161 23193-23193 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-17 05:19:19.164 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409304, pluginId: Preferences, methodName: get
2025-10-17 05:19:19.164 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409304, pluginId: Preferences, methodName: get, methodData: {"key":"sqlite_encryption_key"}
2025-10-17 05:19:19.170 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 107 - Msg: [sqlite-encryption] 23:49:19 ✅ Primary encryption key validation successful
2025-10-17 05:19:19.170 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 107 - Msg: [sqlite-encryption] 23:49:19 ✅ Encryption key accessible after unlock (primary, 48ms)
2025-10-17 05:19:19.170 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:49:19 ✅ SQLite encryption validated
2025-10-17 05:19:19.171 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:49:19 🌐 Checking network stability
2025-10-17 05:19:19.171 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:49:19 ✅ Network is stable
2025-10-17 05:19:19.171 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:49:19 ⚡ Fast path resume: assessing current channel
2025-10-17 05:19:19.172 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:49:19 Reconnection decision: reconnecting
2025-10-17 05:19:19.172 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:49:19 🔄 Starting WhatsApp-like reconnection sequence - reason: network-online [cid=1760658558912-qaxre4]
2025-10-17 05:19:19.173 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:49:19 🔗 Applying token to realtime client
2025-10-17 05:19:19.174 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:19.173 🔐 Fetching fresh session from Supabase
2025-10-17 05:19:19.174 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:19.173 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-17 05:19:19.178 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:19.175 📨 setRealtimeAuth: token unchanged (cleared)
2025-10-17 05:19:19.178 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:49:19 ✅ Token unchanged; no resubscribe required if channel healthy
2025-10-17 05:19:19.178 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:49:19 🟡 Fast path: no active group; skipping subscribe
2025-10-17 05:19:19.178 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:49:19 🟡 No active group/channel – skipping SUBSCRIBED wait
2025-10-17 05:19:19.179 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:19.178 🌐 Network reconnection detected - triggering background session refresh
2025-10-17 05:19:19.179 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:19.178 🔄 Recovering session using cached tokens...
2025-10-17 05:19:19.179 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:19.178 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-17 05:19:19.179 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:19.178 📦 Triggering outbox processing from: network-reconnect
2025-10-17 05:19:19.179 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:19.178 ✅ Network reconnect handler completed (session refresh in background)
2025-10-17 05:19:19.180 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:19.178 🔄 No cached tokens available for recovery
2025-10-17 05:19:19.180 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:49:19 📦 No active group: nudged outbox via onNetworkReconnect
2025-10-17 05:19:19.180 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:49:19 ✅ Reconnection sequence completed (no active group) - reason: network-online
2025-10-17 05:19:19.180 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:19.178 ⚠️ Background session refresh failed (will retry on next API call)
2025-10-17 05:19:19.180 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:49:19 ✅ Reconnection completed - reason: network-online
2025-10-17 05:19:19.180 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:19.178 📦 Starting outbox processing - session outbox-1760658559178
2025-10-17 05:19:19.181 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:19.178 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-17 05:19:19.185 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409305, pluginId: CapacitorSQLite, methodName: query
2025-10-17 05:19:19.185 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409305, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1760658559178],"readonly":false,"isSQL92":true}
2025-10-17 05:19:19.193 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:19.192 📦 No outbox messages to process; idle
2025-10-17 05:19:21.696 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 678 - Msg: [Truecaller] Backend response status: 200
2025-10-17 05:19:21.700 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 678 - Msg: [Truecaller] Backend response: [object Object]
2025-10-17 05:19:21.701 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 678 - Msg: [Truecaller] Custom JWT received - logging in without Supabase Auth
2025-10-17 05:19:21.704 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 678 - Msg: [Truecaller] Token and user data stored
2025-10-17 05:19:21.708 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: 📝 Setting user: 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-17 05:19:21.708 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 678 - Msg: [Truecaller] User not onboarded - navigating to onboarding
2025-10-17 05:19:21.716 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: 🚀 Starting outbox processor...
2025-10-17 05:19:21.716 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-17 05:19:21.716 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 390 - Msg: [outbox-unified] Trigger requested from: processor-start (priority: immediate)
2025-10-17 05:19:21.717 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 0ms for: processor-start
2025-10-17 05:19:21.717 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: 🎨 App render state: [object Object]
2025-10-17 05:19:21.741 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:21.740 📦 Starting outbox processing - session outbox-1760658561740
2025-10-17 05:19:21.741 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:21.740 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-17 05:19:21.743 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409306, pluginId: CapacitorSQLite, methodName: query
2025-10-17 05:19:21.743 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409306, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1760658561740],"readonly":false,"isSQL92":true}
2025-10-17 05:19:21.752 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:21.751 📦 No outbox messages to process; idle
2025-10-17 05:19:23.907 23193-23193 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillShow
2025-10-17 05:19:23.908 23193-23193 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillShow
2025-10-17 05:19:24.198 23193-23193 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidShow
2025-10-17 05:19:24.198 23193-23193 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidShow
2025-10-17 05:19:27.268 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: 📝 Updating user profile: [object Object]
2025-10-17 05:19:27.268 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:27.267 🗄️ Executing update user...
2025-10-17 05:19:27.269 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:27.267 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-17 05:19:27.294 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:27.293 [38;5;159m[fetch][0m PATCH https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/users?id=eq.839d1d4a-e72b-47bb-b74e-ef28a15f43ee&select=*
2025-10-17 05:19:27.307 23193-23193 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillHide
2025-10-17 05:19:27.307 23193-23193 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillHide
2025-10-17 05:19:27.629 23193-23193 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidHide
2025-10-17 05:19:27.629 23193-23193 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidHide
2025-10-17 05:19:27.674 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:27.669 🗄️ update user error: {
                                                                                                      "code": "PGRST116",
                                                                                                      "details": "The result contains 0 rows",
                                                                                                      "hint": null,
                                                                                                      "message": "JSON object requested, multiple (or no) rows returned"
                                                                                                    }
2025-10-17 05:19:27.674 23193-23193 Capacitor/Console       com.confessr.app                     E  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: ❌ User update error: [object Object]
2025-10-17 05:19:27.674 23193-23193 Capacitor/Console       com.confessr.app                     E  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: 💥 Update user error: [object Object]
2025-10-17 05:19:30.747 23193-23193 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillShow
2025-10-17 05:19:30.747 23193-23193 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillShow
2025-10-17 05:19:31.039 23193-23193 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidShow
2025-10-17 05:19:31.039 23193-23193 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidShow
2025-10-17 05:19:32.762 23193-23193 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillHide
2025-10-17 05:19:32.762 23193-23193 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillHide
2025-10-17 05:19:33.052 23193-23193 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidHide
2025-10-17 05:19:33.052 23193-23193 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidHide
2025-10-17 05:19:34.882 23193-23193 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillShow
2025-10-17 05:19:34.882 23193-23193 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillShow
2025-10-17 05:19:35.174 23193-23193 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidShow
2025-10-17 05:19:35.174 23193-23193 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidShow
2025-10-17 05:19:37.983 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: 📝 Updating user profile: [object Object]
2025-10-17 05:19:37.983 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:37.982 🗄️ Executing update user...
2025-10-17 05:19:37.984 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:37.982 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-17 05:19:38.025 23193-23193 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillHide
2025-10-17 05:19:38.025 23193-23193 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillHide
2025-10-17 05:19:38.027 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:38.017 [38;5;159m[fetch][0m PATCH https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/users?id=eq.839d1d4a-e72b-47bb-b74e-ef28a15f43ee&select=*
2025-10-17 05:19:38.135 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:49:38.107 🗄️ update user error: {
                                                                                                      "code": "PGRST116",
                                                                                                      "details": "The result contains 0 rows",
                                                                                                      "hint": null,
                                                                                                      "message": "JSON object requested, multiple (or no) rows returned"
                                                                                                    }
2025-10-17 05:19:38.135 23193-23193 Capacitor/Console       com.confessr.app                     E  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: ❌ User update error: [object Object]
2025-10-17 05:19:38.135 23193-23193 Capacitor/Console       com.confessr.app                     E  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: 💥 Update user error: [object Object]
2025-10-17 05:19:38.333 23193-23193 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidHide
2025-10-17 05:19:38.333 23193-23193 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidHide
2025-10-17 05:21:38.158 23193-23193 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event pause
2025-10-17 05:21:38.158 23193-23193 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event pause
2025-10-17 05:21:38.167 23193-23193 Capacitor               com.confessr.app                     D  App paused
2025-10-17 05:21:38.232 23193-23193 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: false
2025-10-17 05:21:38.232 23193-23193 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-17 05:21:38.236 23193-23193 Capacitor               com.confessr.app                     D  App stopped
2025-10-17 05:21:38.241 23193-23193 Capacitor               com.confessr.app                     D  Saving instance state!
2025-10-17 05:21:38.248 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 395 - Msg: [device-lock] 23:51:38 📱 Device locked/app backgrounded
2025-10-17 05:21:38.250 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: 📱 App state changed: inactive
2025-10-17 05:21:38.251 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: 📱 App going to background/pause
2025-10-17 05:21:38.251 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [lifecycle] App paused - resetting outbox processing state
2025-10-17 05:21:38.252 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-17 05:22:17.173 23193-23193 Capacitor               com.confessr.app                     D  App restarted
2025-10-17 05:22:17.178 23193-23193 Capacitor               com.confessr.app                     D  App started
2025-10-17 05:22:17.182 23193-23193 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: true
2025-10-17 05:22:17.182 23193-23193 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-17 05:22:17.184 23193-23193 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event resume
2025-10-17 05:22:17.192 23193-23193 Capacitor               com.confessr.app                     D  App resumed
2025-10-17 05:22:17.202 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 395 - Msg: [device-lock] 23:52:17 🔓 Device unlocked after 39s (short lock)
2025-10-17 05:22:17.202 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 395 - Msg: [whatsapp-connection] 23:52:17 🔓 Device unlocked: short lock (39s)
2025-10-17 05:22:17.202 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 741 - Msg: 📱 App state changed: active
2025-10-17 05:22:17.202 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [device-lifecycle] 23:52:17 ℹ️ App resume from appStateChange {"timeSinceLastResume":178827,"source":"appStateChange"}
2025-10-17 05:22:17.202 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.195 📱 App resume detected - checking session state
2025-10-17 05:22:17.203 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.195 🔄 Recovering session using cached tokens...
2025-10-17 05:22:17.203 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.195 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-17 05:22:17.203 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.195 🔄 No cached tokens available for recovery
2025-10-17 05:22:17.203 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.195 ⚠️ App resume: token recovery failed, session may need refresh
2025-10-17 05:22:17.203 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.195 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-17 05:22:17.203 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.196 📦 Triggering outbox processing from: app-resume
2025-10-17 05:22:17.203 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.196 ✅ App resume completed using token recovery strategy
2025-10-17 05:22:17.203 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [general] 23:52:17 ℹ️ Triggered outbox processing on app resume
2025-10-17 05:22:17.203 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [device-lifecycle] 23:52:17 ℹ️ App resume processed from appStateChange
2025-10-17 05:22:17.203 23193-23193 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-17 05:22:17.204 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 395 - Msg: [device-lock] 23:52:17 App foreground event while not locked, treating as activity
2025-10-17 05:22:17.204 23193-23193 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-17 05:22:17.204 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 390 - Msg: [outbox-unified] Trigger requested from: app-resume (priority: high)
2025-10-17 05:22:17.204 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: app-resume
2025-10-17 05:22:17.204 23193-23193 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-17 05:22:17.218 23193-30180 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-17 05:22:17.273 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [device-lifecycle] 23:52:17 ℹ️ App resume from resume {"timeSinceLastResume":5,"source":"resume"}
2025-10-17 05:22:17.273 23193-23193 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [device-lifecycle] 23:52:17 🔍 Resume debounced (too soon after last resume)
2025-10-17 05:22:17.274 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.201 📦 Starting outbox processing - session outbox-1760658737201
2025-10-17 05:22:17.274 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.201 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-17 05:22:17.274 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 🧭 Triggers coalesced; assessing health - reason: device-unlock-short [cid=1760658737203-1xy4sv]
2025-10-17 05:22:17.274 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.248 📦 Outbox processing already in progress; skipping
2025-10-17 05:22:17.290 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409307, pluginId: CapacitorSQLite, methodName: query
2025-10-17 05:22:17.291 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409307, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1760658737201],"readonly":false,"isSQL92":true}
2025-10-17 05:22:17.295 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [network] 23:52:17 ℹ️ Network status: online {"isOnline":true,"connectionType":"wifi"}
2025-10-17 05:22:17.305 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [network] 23:52:17 ℹ️ Network reconnected
2025-10-17 05:22:17.305 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [realtime-v2] Network came online
2025-10-17 05:22:17.305 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [realtime-v2] Network online - triggering outbox processing only
2025-10-17 05:22:17.306 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 390 - Msg: [outbox-unified] Trigger requested from: network-online (priority: high)
2025-10-17 05:22:17.306 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: network-online
2025-10-17 05:22:17.309 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.305 🌐 Network reconnection detected - triggering background session refresh
2025-10-17 05:22:17.309 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.305 🔄 Recovering session using cached tokens...
2025-10-17 05:22:17.309 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.305 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-17 05:22:17.309 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.305 📦 Trigger coalesced (debounced 300ms) from: network-reconnect
2025-10-17 05:22:17.309 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.306 ✅ Network reconnect handler completed (session refresh in background)
2025-10-17 05:22:17.309 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.306 🔄 No cached tokens available for recovery
2025-10-17 05:22:17.309 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.306 ⚠️ Background session refresh failed (will retry on next API call)
2025-10-17 05:22:17.314 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.311 📦 No outbox messages to process; idle
2025-10-17 05:22:17.494 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.350 📦 Starting outbox processing - session outbox-1760658737350
2025-10-17 05:22:17.494 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.361 📦 Outbox pre-check: sqliteReady after 10ms
2025-10-17 05:22:17.494 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 📱 Waiting for WebView readiness
2025-10-17 05:22:17.494 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [webview-lifecycle] 23:52:17 WebView already ready
2025-10-17 05:22:17.494 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 ✅ WebView is ready
2025-10-17 05:22:17.494 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 🔐 Validating SQLite encryption
2025-10-17 05:22:17.494 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 107 - Msg: [sqlite-encryption] 23:52:17 🔓 Validating encryption key after device unlock
2025-10-17 05:22:17.495 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 107 - Msg: [sqlite-encryption] 23:52:17 🔍 Validating SQLite encryption key accessibility
2025-10-17 05:22:17.503 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409308, pluginId: CapacitorSQLite, methodName: query
2025-10-17 05:22:17.503 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409308, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1760658737361],"readonly":false,"isSQL92":true}
2025-10-17 05:22:17.504 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409309, pluginId: Preferences, methodName: set
2025-10-17 05:22:17.504 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409309, pluginId: Preferences, methodName: set, methodData: {"key":"sqlite_key_validation_test","value":"validation_1760658737408"}
2025-10-17 05:22:17.523 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.516 📦 No outbox messages to process; idle
2025-10-17 05:22:17.523 23193-23193 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-17 05:22:17.524 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409310, pluginId: Preferences, methodName: get
2025-10-17 05:22:17.524 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409310, pluginId: Preferences, methodName: get, methodData: {"key":"sqlite_key_validation_test"}
2025-10-17 05:22:17.531 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409311, pluginId: Preferences, methodName: remove
2025-10-17 05:22:17.532 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409311, pluginId: Preferences, methodName: remove, methodData: {"key":"sqlite_key_validation_test"}
2025-10-17 05:22:17.533 23193-23193 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-17 05:22:17.535 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409312, pluginId: Preferences, methodName: get
2025-10-17 05:22:17.535 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409312, pluginId: Preferences, methodName: get, methodData: {"key":"sqlite_encryption_key"}
2025-10-17 05:22:17.538 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 107 - Msg: [sqlite-encryption] 23:52:17 ✅ Primary encryption key validation successful
2025-10-17 05:22:17.541 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 107 - Msg: [sqlite-encryption] 23:52:17 ✅ Encryption key accessible after unlock (primary, 130ms)
2025-10-17 05:22:17.542 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 ✅ SQLite encryption validated
2025-10-17 05:22:17.542 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 🌐 Checking network stability
2025-10-17 05:22:17.542 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 ✅ Network is stable
2025-10-17 05:22:17.542 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 ⚡ Fast path resume: assessing current channel
2025-10-17 05:22:17.547 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 Reconnection decision: reconnecting
2025-10-17 05:22:17.548 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 🔄 Starting WhatsApp-like reconnection sequence - reason: device-unlock-short [cid=1760658737203-1xy4sv]
2025-10-17 05:22:17.549 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 🔗 Applying token to realtime client
2025-10-17 05:22:17.552 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.545 🔐 Fetching fresh session from Supabase
2025-10-17 05:22:17.552 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.545 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-17 05:22:17.552 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.549 📨 setRealtimeAuth: token unchanged (cleared)
2025-10-17 05:22:17.552 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 ✅ Token unchanged; no resubscribe required if channel healthy
2025-10-17 05:22:17.552 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 🟡 Fast path: no active group; skipping subscribe
2025-10-17 05:22:17.555 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 🟡 No active group/channel – skipping SUBSCRIBED wait
2025-10-17 05:22:17.555 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.554 🌐 Network reconnection detected - triggering background session refresh
2025-10-17 05:22:17.555 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.554 🔄 Recovering session using cached tokens...
2025-10-17 05:22:17.555 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.554 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-17 05:22:17.556 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.554 📦 Triggering outbox processing from: network-reconnect
2025-10-17 05:22:17.556 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.554 ✅ Network reconnect handler completed (session refresh in background)
2025-10-17 05:22:17.560 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.554 🔄 No cached tokens available for recovery
2025-10-17 05:22:17.560 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 📦 No active group: nudged outbox via onNetworkReconnect
2025-10-17 05:22:17.560 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 ✅ Reconnection sequence completed (no active group) - reason: device-unlock-short
2025-10-17 05:22:17.560 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.555 ⚠️ Background session refresh failed (will retry on next API call)
2025-10-17 05:22:17.560 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 ✅ Reconnection completed - reason: device-unlock-short
2025-10-17 05:22:17.560 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.555 📦 Starting outbox processing - session outbox-1760658737555
2025-10-17 05:22:17.561 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.555 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-17 05:22:17.561 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409313, pluginId: CapacitorSQLite, methodName: query
2025-10-17 05:22:17.561 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409313, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1760658737555],"readonly":false,"isSQL92":true}
2025-10-17 05:22:17.566 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:17.566 📦 No outbox messages to process; idle
2025-10-17 05:22:17.797 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 🧭 Triggers coalesced; assessing health - reason: network-online [cid=1760658737796-e2xv8j]
2025-10-17 05:22:17.999 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:17 📱 Waiting for WebView readiness
2025-10-17 05:22:18.001 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 394 - Msg: [webview-lifecycle] 23:52:18 WebView already ready
2025-10-17 05:22:18.002 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:18 ✅ WebView is ready
2025-10-17 05:22:18.002 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:18 🔐 Validating SQLite encryption
2025-10-17 05:22:18.002 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 107 - Msg: [sqlite-encryption] 23:52:18 🔓 Skipping validation - recently validated 464ms ago
2025-10-17 05:22:18.003 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:18 ✅ SQLite encryption validated
2025-10-17 05:22:18.003 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:18 🌐 Checking network stability
2025-10-17 05:22:18.003 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:18 ✅ Network is stable
2025-10-17 05:22:18.003 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:18 ⚡ Fast path resume: assessing current channel
2025-10-17 05:22:18.004 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:18 Reconnection decision: reconnecting
2025-10-17 05:22:18.004 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:18 🔄 Starting WhatsApp-like reconnection sequence - reason: network-online [cid=1760658737796-e2xv8j]
2025-10-17 05:22:18.004 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:18 🔗 Applying token to realtime client
2025-10-17 05:22:18.005 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:18.003 🔐 Fetching fresh session from Supabase
2025-10-17 05:22:18.005 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:18.003 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-17 05:22:18.007 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:18.006 📨 setRealtimeAuth: token unchanged (cleared)
2025-10-17 05:22:18.007 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:18 ✅ Token unchanged; no resubscribe required if channel healthy
2025-10-17 05:22:18.008 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:18 🟡 Fast path: no active group; skipping subscribe
2025-10-17 05:22:18.010 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:18 🟡 No active group/channel – skipping SUBSCRIBED wait
2025-10-17 05:22:18.011 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:18.009 🌐 Network reconnection detected - triggering background session refresh
2025-10-17 05:22:18.011 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:18.009 🔄 Recovering session using cached tokens...
2025-10-17 05:22:18.011 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:18.009 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-17 05:22:18.011 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:18.009 📦 Triggering outbox processing from: network-reconnect
2025-10-17 05:22:18.011 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:18.010 ✅ Network reconnect handler completed (session refresh in background)
2025-10-17 05:22:18.011 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:18.010 🔄 No cached tokens available for recovery
2025-10-17 05:22:18.011 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:18 📦 No active group: nudged outbox via onNetworkReconnect
2025-10-17 05:22:18.011 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:18 ✅ Reconnection sequence completed (no active group) - reason: network-online
2025-10-17 05:22:18.011 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:18.010 ⚠️ Background session refresh failed (will retry on next API call)
2025-10-17 05:22:18.011 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-pVITOt4b.js - Line 2 - Msg: [reconnection-mgr] 23:52:18 ✅ Reconnection completed - reason: network-online
2025-10-17 05:22:18.014 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:18.014 📦 Starting outbox processing - session outbox-1760658738014
2025-10-17 05:22:18.014 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:18.014 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-17 05:22:18.015 23193-23193 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 100409314, pluginId: CapacitorSQLite, methodName: query
2025-10-17 05:22:18.016 23193-23193 Capacitor               com.confessr.app                     V  callback: 100409314, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1760658738014],"readonly":false,"isSQL92":true}
2025-10-17 05:22:18.020 23193-23193 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BNHMqd60.js - Line 361 - Msg: [supabase-pipeline] 23:52:18.018 📦 No outbox messages to process; idle
