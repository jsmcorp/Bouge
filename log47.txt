g messages from Supabase (non-blocking)...
2025-10-04 04:29:56.567  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: üí¨ ChatArea: Messages loaded in 373.10ms
2025-10-04 04:29:56.568  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: üîÑ Loading remaining messages in background...
2025-10-04 04:29:56.568  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364093, pluginId: CapacitorSQLite, methodName: query
2025-10-04 04:29:56.569  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364093, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a",50],"readonly":false,"isSQL92":true}
2025-10-04 04:29:57.209  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üíì Heartbeat sent
2025-10-04 04:29:58.495  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 364 - Msg: [unread] Marking group 2e246d9c-356a-4fec-9022-108157fa391a as read, lastMessageId=5c72049d-a47a-434f-9efc-69234c822e66
2025-10-04 04:29:58.496  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: ‚úÖ Marked group 2e246d9c-356a-4fec-9022-108157fa391a as read up to message 5c72049d-a47a-434f-9efc-69234c822e66
2025-10-04 04:30:00.292  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] ‚è≠Ô∏è Skipping cleanup - channel still active (state: joined)
2025-10-04 04:30:07.423  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üì® Realtime INSERT received: id=e5b74765-dc84-48eb-ab74-48b8be771d0d, group=2e246d9c-356a-4fec-9022-108157fa391a, content="369p...", user=7bef8c3e-cd57-47be-bcd7-0d9edecad2a5, dedupe=d:7bef8c3e-cd57-47be-bcd7-0d9edecad2a5:2e246d9c-356a-4fec-9022-108157fa391a:1759532407054-u78ioc1pi0h
2025-10-04 04:30:07.503  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üì® Built message from row: id=e5b74765-dc84-48eb-ab74-48b8be771d0d, group=2e246d9c-356a-4fec-9022-108157fa391a, delivery_status=delivered
2025-10-04 04:30:07.503  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: üì® attachMessageToState: action=added-new, id=e5b74765-dc84-48eb-ab74-48b8be771d0d, oldId=null, before=50, after=51
2025-10-04 04:30:07.504  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 364 - Msg: üì¶ MessageCache: CACHED 50 messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 04:30:07.504  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: üì¶ MessageCache updated for group 2e246d9c-356a-4fec-9022-108157fa391a after realtime insert (51 messages)
2025-10-04 04:30:07.504  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üì® Message attached to state: id=e5b74765-dc84-48eb-ab74-48b8be771d0d (active group)
2025-10-04 04:30:07.554  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: üîç MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=51
2025-10-04 04:30:07.593  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364094, pluginId: CapacitorSQLite, methodName: run
2025-10-04 04:30:07.593  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364094, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["e5b74765-dc84-48eb-ab74-48b8be771d0d","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","369p",1,"text",null,null,null,1759532407362,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 04:30:07.619  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üì® Message persisted to SQLite: id=e5b74765-dc84-48eb-ab74-48b8be771d0d
2025-10-04 04:30:07.621  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364095, pluginId: CapacitorSQLite, methodName: run
2025-10-04 04:30:07.621  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364095, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759532407618,"2e246d9c-356a-4fec-9022-108157fa391a"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 04:30:08.677  5380-12470 Capacitor/...gingPlugin com.confessr.app                     V  Notifying listeners for event notificationReceived
2025-10-04 04:30:08.682  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üîî CRITICAL: FirebaseMessaging.notificationReceived FIRED! [object Object]
2025-10-04 04:30:08.682  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üîî Raw notification object: {"notification":{"id":"0:1759532408451629%5612aab15612aab1","data":{"message_id":"e5b74765-dc84-48eb-ab74-48b8be771d0d","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-03T23:00:07.241Z"},"title":"New message","body":"You have a new message in Confessr","clickAction":"FLUTTER_NOTIFICATION_CLICK"}}
2025-10-04 04:30:08.683  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üîî Extracted data: {"message_id":"e5b74765-dc84-48eb-ab74-48b8be771d0d","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-03T23:00:07.241Z"}
2025-10-04 04:30:08.683  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üîî Notification received, reason=data, data: [object Object]
2025-10-04 04:30:08.683  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üì• Attempting direct fetch for message e5b74765-dc84-48eb-ab74-48b8be771d0d
2025-10-04 04:30:08.683  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-LfmIYHP2.js - Line 2 - Msg: [bg-sync] üöÄ Starting fetch for message e5b74765-dc84-48eb-ab74-48b8be771d0d in group 2e246d9c-356a-4fec-9022-108157fa391a (attempt 1/3)
2025-10-04 04:30:08.695  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364096, pluginId: CapacitorSQLite, methodName: query
2025-10-04 04:30:08.695  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364096, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT 1 FROM messages WHERE id = ? LIMIT 1","values":["e5b74765-dc84-48eb-ab74-48b8be771d0d"],"readonly":false,"isSQL92":true}
2025-10-04 04:30:08.702  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-LfmIYHP2.js - Line 2 - Msg: [bg-sync] ‚úÖ Message e5b74765-dc84-48eb-ab74-48b8be771d0d already exists (delivered via realtime), skipping fetch (17ms)
2025-10-04 04:30:08.702  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] ‚úÖ Direct fetch succeeded for message e5b74765-dc84-48eb-ab74-48b8be771d0d
2025-10-04 04:30:09.556  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 364 - Msg: [unread] Marking group 2e246d9c-356a-4fec-9022-108157fa391a as read, lastMessageId=e5b74765-dc84-48eb-ab74-48b8be771d0d
2025-10-04 04:30:09.557  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: ‚úÖ Marked group 2e246d9c-356a-4fec-9022-108157fa391a as read up to message e5b74765-dc84-48eb-ab74-48b8be771d0d
2025-10-04 04:30:27.206  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üíì Heartbeat sent
2025-10-04 04:30:57.207  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üíì Heartbeat sent
2025-10-04 04:31:17.206  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] ‚ö†Ô∏è Realtime appears DEAD (no events for 70s)
2025-10-04 04:31:17.207  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üîÑ Forcing reconnection due to realtime death
2025-10-04 04:31:17.208  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üíì Heartbeat stopped
2025-10-04 04:31:17.209  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üíì Heartbeat check stopped
2025-10-04 04:31:17.210  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üîß CRITICAL: Forcing realtime recovery
2025-10-04 04:31:17.211  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Subscription status: CLOSED
2025-10-04 04:31:17.212  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] ‚ùå Connection failed with status: CLOSED
2025-10-04 04:31:17.212  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:17.209 üîê Waiting for in-flight session request (max 5s)
2025-10-04 04:31:17.343  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üîß Removed dead channel
2025-10-04 04:31:17.344  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üîß Forcing session refresh
2025-10-04 04:31:17.345  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:17.341 üîÑ Direct session refresh...
2025-10-04 04:31:17.346  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:17.341 üîë getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 04:31:17.347  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:17.341 üîÑ Starting background session refresh with cached tokens
2025-10-04 04:31:17.396  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:17.392 üîÑ Attempting setSession() with cached tokens (more reliable than refreshSession)
2025-10-04 04:31:20.588  5380-12586 Capacitor/...gingPlugin com.confessr.app                     V  Notifying listeners for event notificationReceived
2025-10-04 04:31:20.592  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üîî CRITICAL: FirebaseMessaging.notificationReceived FIRED! [object Object]
2025-10-04 04:31:20.592  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üîî Raw notification object: {"notification":{"id":"0:1759532480227826%5612aab15612aab1","data":{"message_id":"a3183d84-c4d9-4428-8bb8-e3aa9b065648","type":"new_message","group_id":"78045bbf-7474-46df-aac1-f34936b67d24","created_at":"2025-10-03T23:01:18.546Z"},"title":"New message","body":"You have a new message in Confessr","clickAction":"FLUTTER_NOTIFICATION_CLICK"}}
2025-10-04 04:31:20.592  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üîî Extracted data: {"message_id":"a3183d84-c4d9-4428-8bb8-e3aa9b065648","type":"new_message","group_id":"78045bbf-7474-46df-aac1-f34936b67d24","created_at":"2025-10-03T23:01:18.546Z"}
2025-10-04 04:31:20.593  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üîî Notification received, reason=data, data: [object Object]
2025-10-04 04:31:20.593  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üì• Attempting direct fetch for message a3183d84-c4d9-4428-8bb8-e3aa9b065648
2025-10-04 04:31:20.593  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-LfmIYHP2.js - Line 2 - Msg: [bg-sync] üöÄ Starting fetch for message a3183d84-c4d9-4428-8bb8-e3aa9b065648 in group 78045bbf-7474-46df-aac1-f34936b67d24 (attempt 1/3)
2025-10-04 04:31:20.596  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364097, pluginId: CapacitorSQLite, methodName: query
2025-10-04 04:31:20.596  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364097, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT 1 FROM messages WHERE id = ? LIMIT 1","values":["a3183d84-c4d9-4428-8bb8-e3aa9b065648"],"readonly":false,"isSQL92":true}
2025-10-04 04:31:22.214  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:22.211 ‚ö†Ô∏è In-flight session request timed out after 5s, clearing and retrying
2025-10-04 04:31:22.216  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:22.211 üîê Attempting session recovery using cached tokens
2025-10-04 04:31:22.216  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:22.212 üîë getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 04:31:24.903  5380-12593 Capacitor/...gingPlugin com.confessr.app                     V  Notifying listeners for event notificationReceived
2025-10-04 04:31:24.911  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üîî CRITICAL: FirebaseMessaging.notificationReceived FIRED! [object Object]
2025-10-04 04:31:24.912  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üîî Raw notification object: {"notification":{"id":"0:1759532484687847%5612aab15612aab1","data":{"message_id":"2856fdf6-1ce7-42d3-8d94-4904bc759647","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-03T23:01:23.320Z"},"title":"New message","body":"You have a new message in Confessr","clickAction":"FLUTTER_NOTIFICATION_CLICK"}}
2025-10-04 04:31:24.912  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üîî Extracted data: {"message_id":"2856fdf6-1ce7-42d3-8d94-4904bc759647","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-03T23:01:23.320Z"}
2025-10-04 04:31:24.913  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üîî Notification received, reason=data, data: [object Object]
2025-10-04 04:31:24.913  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üì• Attempting direct fetch for message 2856fdf6-1ce7-42d3-8d94-4904bc759647
2025-10-04 04:31:24.914  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-LfmIYHP2.js - Line 2 - Msg: [bg-sync] üöÄ Starting fetch for message 2856fdf6-1ce7-42d3-8d94-4904bc759647 in group 2e246d9c-356a-4fec-9022-108157fa391a (attempt 1/3)
2025-10-04 04:31:24.917  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364098, pluginId: CapacitorSQLite, methodName: query
2025-10-04 04:31:24.918  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364098, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT 1 FROM messages WHERE id = ? LIMIT 1","values":["2856fdf6-1ce7-42d3-8d94-4904bc759647"],"readonly":false,"isSQL92":true}
2025-10-04 04:31:25.322  5380-5380  Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillShow
2025-10-04 04:31:25.322  5380-5380  Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillShow
2025-10-04 04:31:25.616  5380-5380  Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidShow
2025-10-04 04:31:25.616  5380-5380  Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidShow
2025-10-04 04:31:27.394  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:27.393 üîÑ setSession() timed out, will try refreshSession()
2025-10-04 04:31:27.395  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:27.393 üîÑ Attempting refreshSession() as fallback
2025-10-04 04:31:30.625  5380-5380  Capacitor/Console       com.confessr.app                     E  File: https://localhost/assets/backgroundMessageSync-LfmIYHP2.js - Line 10 - Msg: [bg-sync] ‚ùå Exception in fetchAndStoreMessage for a3183d84-c4d9-4428-8bb8-e3aa9b065648: Fetch timeout after 10s
2025-10-04 04:31:30.626  5380-5380  Capacitor/Console       com.confessr.app                     W  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] ‚ö†Ô∏è Direct fetch returned false for message a3183d84-c4d9-4428-8bb8-e3aa9b065648
2025-10-04 04:31:30.627  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üîÑ Direct fetch failed, triggering fallback sync via onWake
2025-10-04 04:31:30.628  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [realtime-v2] Wake event: data
2025-10-04 04:31:30.629  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [realtime-v2] üì¨ New message in group 78045bbf-7474-46df-aac1-f34936b67d24 - staying on current screen
2025-10-04 04:31:30.630  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [realtime-v2] App resumed - delegating to reconnection manager
2025-10-04 04:31:30.631  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 390 - Msg: [outbox-unified] Trigger requested from: app-resume (priority: high)
2025-10-04 04:31:30.632  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: app-resume
2025-10-04 04:31:30.633  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BCCSLiYA.js - Line 2 - Msg: [reconnection-mgr] 23:01:30 Reconnect already in progress, waiting - reason: app-resume
2025-10-04 04:31:30.634  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [realtime-v2] Fetching missed messages for all groups...
2025-10-04 04:31:30.634  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-LfmIYHP2.js - Line 14 - Msg: [bg-sync] Fetching missed messages for all groups
2025-10-04 04:31:30.640  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364099, pluginId: CapacitorSQLite, methodName: query
2025-10-04 04:31:30.640  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364099, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-04 04:31:30.660  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-LfmIYHP2.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 since beginning
2025-10-04 04:31:30.664  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364100, pluginId: CapacitorSQLite, methodName: query
2025-10-04 04:31:30.665  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364100, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-04 04:31:30.683  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:30.682 üì¶ Starting outbox processing - session outbox-1759532490682
2025-10-04 04:31:30.684  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:30.682 üì¶ Outbox pre-check: sqliteReady after 0ms
2025-10-04 04:31:30.688  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364101, pluginId: CapacitorSQLite, methodName: query
2025-10-04 04:31:30.688  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364101, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759532490683],"readonly":false,"isSQL92":true}
2025-10-04 04:31:30.701  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:30.696 üì¶ No outbox messages to process; idle
2025-10-04 04:31:32.398  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:32.395 üîÑ Direct session refresh: timeout (refreshSession hung)
2025-10-04 04:31:32.399  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:32.395 ‚ö†Ô∏è Consecutive refresh failures: 5/3
2025-10-04 04:31:32.400  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:32.395 üî¥ Too many consecutive refresh failures, client may be stuck - will recreate on next operation
2025-10-04 04:31:32.401  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üîß Session refreshed successfully
2025-10-04 04:31:32.402  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üîß Recreating subscription
2025-10-04 04:31:32.403  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Channel error detected, cleaning up and attempting reconnection
2025-10-04 04:31:32.403  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Reconnection attempt 1/5
2025-10-04 04:31:32.404  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] ‚è≥ Retrying reconnection in 1000ms (exponential backoff)
2025-10-04 04:31:33.415  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üîÑ Executing scheduled reconnection (attempt 1/5)
2025-10-04 04:31:33.416  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] ‚ö†Ô∏è Active group changed, skipping reconnection
2025-10-04 04:31:34.413  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Attempting to reestablish connection
2025-10-04 04:31:34.414  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [webview] 23:01:34 ‚ÑπÔ∏è Checking WebView readiness for realtime setup
2025-10-04 04:31:34.415  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [webview-lifecycle] 23:01:34 WebView already ready
2025-10-04 04:31:34.415  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Setting up multi-group realtime subscription for 7 groups (active: 78045bbf-7474-46df-aac1-f34936b67d24)
2025-10-04 04:31:34.416  5380-5380  Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [timing] 23:01:34 üîç Started timing: realtime-setup {"groupId":"78045bbf-7474-46df-aac1-f34936b67d24","totalGroups":7}
2025-10-04 04:31:34.417  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Skipping blocking auth check; proceeding with local auth state
2025-10-04 04:31:34.418  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:34.410 üîê Waiting for in-flight session request (max 5s)
2025-10-04 04:31:34.971  5380-5380  Capacitor/Console       com.confessr.app                     E  File: https://localhost/assets/backgroundMessageSync-LfmIYHP2.js - Line 10 - Msg: [bg-sync] ‚ùå Exception in fetchAndStoreMessage for 2856fdf6-1ce7-42d3-8d94-4904bc759647: Fetch timeout after 10s
2025-10-04 04:31:34.972  5380-5380  Capacitor/Console       com.confessr.app                     W  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] ‚ö†Ô∏è Direct fetch returned false for message 2856fdf6-1ce7-42d3-8d94-4904bc759647
2025-10-04 04:31:34.973  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üîÑ Direct fetch failed, triggering fallback sync via onWake
2025-10-04 04:31:34.973  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [realtime-v2] Wake event: data
2025-10-04 04:31:34.974  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [realtime-v2] üì¨ New message in group 2e246d9c-356a-4fec-9022-108157fa391a - staying on current screen
2025-10-04 04:31:34.974  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [realtime-v2] App resumed - delegating to reconnection manager
2025-10-04 04:31:34.975  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 390 - Msg: [outbox-unified] Trigger requested from: app-resume (priority: high)
2025-10-04 04:31:34.975  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: app-resume
2025-10-04 04:31:34.976  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BCCSLiYA.js - Line 2 - Msg: [reconnection-mgr] 23:01:34 Reconnect already in progress, waiting - reason: app-resume
2025-10-04 04:31:34.976  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [realtime-v2] Fetching missed messages for all groups...
2025-10-04 04:31:34.977  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-LfmIYHP2.js - Line 14 - Msg: [bg-sync] Fetching missed messages for all groups
2025-10-04 04:31:35.003  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:34.982 üì¶ Starting outbox processing - session outbox-1759532494981
2025-10-04 04:31:35.004  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:34.982 üì¶ Outbox pre-check: sqliteReady after 0ms
2025-10-04 04:31:35.024  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364102, pluginId: CapacitorSQLite, methodName: query
2025-10-04 04:31:35.025  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364102, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-04 04:31:35.035  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364103, pluginId: CapacitorSQLite, methodName: query
2025-10-04 04:31:35.035  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364103, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759532494982],"readonly":false,"isSQL92":true}
2025-10-04 04:31:35.084  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-LfmIYHP2.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 since beginning
2025-10-04 04:31:35.088  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:35.062 üì¶ No outbox messages to process; idle
2025-10-04 04:31:35.110  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364104, pluginId: CapacitorSQLite, methodName: query
2025-10-04 04:31:35.111  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364104, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-04 04:31:36.225  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:36.216 üîÑ Recovering session using cached tokens...
2025-10-04 04:31:36.226  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:36.216 üîë getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 04:31:36.227  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:36.217 üîÑ Using cached tokens to recover session
2025-10-04 04:31:38.054  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-04 04:31:38.192  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 395 - Msg: [whatsapp-connection] 23:01:38 üìä Status: connecting -  
2025-10-04 04:31:38.193  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [connection] 23:01:38 ‚ÑπÔ∏è Connection status: connecting -  {"isUserVisible":false}
2025-10-04 04:31:38.194  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Creating multi-group channel: multi-group-839d1d4a-e72b-47bb-b74e-ef28a15f43ee-1759532498018-ksx0crfxr6 (7 groups)
2025-10-04 04:31:38.243  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üì° Subscribing to messages with filter: group_id=in.(fcf73372-c86c-4e53-ac3d-f28896ce1d30,2e246d9c-356a-4fec-9022-108157fa391a,6af01500-2e15-490e-9077-316348aef93e,080c089f-e355-4ab7-a3b9-92bc9dd94f32,78045bbf-7474-46df-aac1-f34936b67d24,e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b,87faebb0-0bf4-49c9-8119-8d56abe52be2)
2025-10-04 04:31:38.985  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Subscription status: SUBSCRIBED
2025-10-04 04:31:38.986  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] ‚úÖ Realtime connected successfully
2025-10-04 04:31:39.060  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 395 - Msg: [whatsapp-connection] 23:01:39 üìä Status: connected -  
2025-10-04 04:31:39.061  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [connection] 23:01:39 ‚ÑπÔ∏è Connection status: connected -  {"isUserVisible":false}
2025-10-04 04:31:39.061  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üíì Starting heartbeat mechanism
2025-10-04 04:31:39.414  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:39.411 ‚ö†Ô∏è In-flight session request timed out after 5s, clearing and retrying
2025-10-04 04:31:39.415  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:39.412 üîê Attempting session recovery using cached tokens
2025-10-04 04:31:39.416  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:39.412 üîë getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 04:31:40.063  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 390 - Msg: [outbox-unified] Trigger requested from: realtime-connected (priority: normal)
2025-10-04 04:31:40.063  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 75ms for: realtime-connected
2025-10-04 04:31:40.139  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:40.136 üì¶ Starting outbox processing - session outbox-1759532500136
2025-10-04 04:31:40.140  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:40.137 üì¶ Outbox pre-check: sqliteReady after 0ms
2025-10-04 04:31:40.145  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364105, pluginId: CapacitorSQLite, methodName: query
2025-10-04 04:31:40.145  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364105, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759532500137],"readonly":false,"isSQL92":true}
2025-10-04 04:31:40.160  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:40.155 üì¶ No outbox messages to process; idle
2025-10-04 04:31:43.024  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] ‚è≠Ô∏è Skipping cleanup - channel still active (state: joined)
2025-10-04 04:31:46.220  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:01:46.218 üîÑ Token recovery timed out after 10s
2025-10-04 04:32:09.063  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üíì Heartbeat sent
2025-10-04 04:32:39.066  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üíì Heartbeat sent
2025-10-04 04:32:49.063  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] ‚ö†Ô∏è Realtime appears DEAD (no events for 69s)
2025-10-04 04:32:49.064  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üîÑ Forcing reconnection due to realtime death
2025-10-04 04:32:49.065  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üíì Heartbeat stopped
2025-10-04 04:32:49.066  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üíì Heartbeat check stopped
2025-10-04 04:32:49.066  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üîß CRITICAL: Forcing realtime recovery
2025-10-04 04:32:49.067  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Subscription status: CLOSED
2025-10-04 04:32:49.068  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] ‚ùå Connection failed with status: CLOSED
2025-10-04 04:32:49.069  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:02:49.067 üîê Waiting for in-flight session request (max 5s)
2025-10-04 04:32:49.186  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üîß Removed dead channel
2025-10-04 04:32:49.187  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üîß Forcing session refresh
2025-10-04 04:32:49.188  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:02:49.183 üîÑ Direct session refresh...
2025-10-04 04:32:49.189  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:02:49.183 üîë getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 04:32:49.190  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:02:49.183 üîÑ Starting background session refresh with cached tokens
2025-10-04 04:32:49.252  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:02:49.247 üîÑ Attempting setSession() with cached tokens (more reliable than refreshSession)
2025-10-04 04:32:54.074  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:02:54.072 ‚ö†Ô∏è In-flight session request timed out after 5s, clearing and retrying
2025-10-04 04:32:54.075  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:02:54.072 üîê Attempting session recovery using cached tokens
2025-10-04 04:32:54.076  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:02:54.072 üîë getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 04:32:59.252  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:02:59.248 üîÑ setSession() timed out, will try refreshSession()
2025-10-04 04:32:59.254  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:02:59.249 üîÑ Attempting refreshSession() as fallback
2025-10-04 04:33:04.252  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:03:04.250 üîÑ Direct session refresh: timeout (refreshSession hung)
2025-10-04 04:33:04.254  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:03:04.250 ‚ö†Ô∏è Consecutive refresh failures: 6/3
2025-10-04 04:33:04.255  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:03:04.250 üî¥ Too many consecutive refresh failures, client may be stuck - will recreate on next operation
2025-10-04 04:33:04.256  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üîß Session refreshed successfully
2025-10-04 04:33:04.257  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üîß Recreating subscription
2025-10-04 04:33:04.258  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Channel error detected, cleaning up and attempting reconnection
2025-10-04 04:33:04.258  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Reconnection attempt 1/5
2025-10-04 04:33:04.259  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] ‚è≥ Retrying reconnection in 1000ms (exponential backoff)
2025-10-04 04:33:05.265  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üîÑ Executing scheduled reconnection (attempt 1/5)
2025-10-04 04:33:05.266  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] ‚ö†Ô∏è Active group changed, skipping reconnection
2025-10-04 04:33:06.292  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Attempting to reestablish connection
2025-10-04 04:33:06.293  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [webview] 23:03:06 ‚ÑπÔ∏è Checking WebView readiness for realtime setup
2025-10-04 04:33:06.294  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [webview-lifecycle] 23:03:06 WebView already ready
2025-10-04 04:33:06.294  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Setting up multi-group realtime subscription for 7 groups (active: 78045bbf-7474-46df-aac1-f34936b67d24)
2025-10-04 04:33:06.295  5380-5380  Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [timing] 23:03:06 üîç Started timing: realtime-setup {"groupId":"78045bbf-7474-46df-aac1-f34936b67d24","totalGroups":7}
2025-10-04 04:33:06.295  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Skipping blocking auth check; proceeding with local auth state
2025-10-04 04:33:06.296  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:03:06.265 üîê Waiting for in-flight session request (max 5s)
2025-10-04 04:33:08.092  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:03:08.069 üîÑ Recovering session using cached tokens...
2025-10-04 04:33:08.093  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:03:08.070 üîë getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 04:33:08.093  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:03:08.071 üîÑ Using cached tokens to recover session
2025-10-04 04:33:09.903  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-04 04:33:10.050  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 395 - Msg: [whatsapp-connection] 23:03:10 üìä Status: connecting -  
2025-10-04 04:33:10.051  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [connection] 23:03:10 ‚ÑπÔ∏è Connection status: connecting -  {"isUserVisible":false}
2025-10-04 04:33:10.052  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Creating multi-group channel: multi-group-839d1d4a-e72b-47bb-b74e-ef28a15f43ee-1759532589872-kg0d3u3zbse (7 groups)
2025-10-04 04:33:10.079  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üì° Subscribing to messages with filter: group_id=in.(fcf73372-c86c-4e53-ac3d-f28896ce1d30,2e246d9c-356a-4fec-9022-108157fa391a,6af01500-2e15-490e-9077-316348aef93e,080c089f-e355-4ab7-a3b9-92bc9dd94f32,78045bbf-7474-46df-aac1-f34936b67d24,e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b,87faebb0-0bf4-49c9-8119-8d56abe52be2)
2025-10-04 04:33:10.690  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Subscription status: SUBSCRIBED
2025-10-04 04:33:10.691  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] ‚úÖ Realtime connected successfully
2025-10-04 04:33:10.794  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 395 - Msg: [whatsapp-connection] 23:03:10 üìä Status: connected -  
2025-10-04 04:33:10.794  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [connection] 23:03:10 ‚ÑπÔ∏è Connection status: connected -  {"isUserVisible":false}
2025-10-04 04:33:10.795  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üíì Starting heartbeat mechanism
2025-10-04 04:33:11.384  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:03:11.382 ‚ö†Ô∏è In-flight session request timed out after 5s, clearing and retrying
2025-10-04 04:33:11.385  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:03:11.382 üîê Attempting session recovery using cached tokens
2025-10-04 04:33:11.386  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:03:11.382 üîë getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 04:33:11.789  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 390 - Msg: [outbox-unified] Trigger requested from: realtime-connected (priority: normal)
2025-10-04 04:33:11.795  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 75ms for: realtime-connected
2025-10-04 04:33:11.865  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:03:11.863 üì¶ Starting outbox processing - session outbox-1759532591863
2025-10-04 04:33:11.866  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:03:11.864 üì¶ Outbox pre-check: sqliteReady after 0ms
2025-10-04 04:33:11.871  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364106, pluginId: CapacitorSQLite, methodName: query
2025-10-04 04:33:11.872  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364106, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759532591864],"readonly":false,"isSQL92":true}
2025-10-04 04:33:11.882  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:03:11.880 üì¶ No outbox messages to process; idle
2025-10-04 04:33:14.876  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] ‚è≠Ô∏è Skipping cleanup - channel still active (state: joined)
2025-10-04 04:33:18.074  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:03:18.072 üîÑ Token recovery timed out after 10s
2025-10-04 04:33:20.230  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üì® Realtime INSERT received: id=d54c1d8b-5916-4e86-abe5-be91f89a0a43, group=2e246d9c-356a-4fec-9022-108157fa391a, content="Iuo yut...", user=7bef8c3e-cd57-47be-bcd7-0d9edecad2a5, dedupe=d:7bef8c3e-cd57-47be-bcd7-0d9edecad2a5:2e246d9c-356a-4fec-9022-108157fa391a:1759532599081-hvbowqubxtd
2025-10-04 04:33:20.342  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üì® Built message from row: id=d54c1d8b-5916-4e86-abe5-be91f89a0a43, group=2e246d9c-356a-4fec-9022-108157fa391a, delivery_status=delivered
2025-10-04 04:33:20.345  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: üì® attachMessageToState: action=added-new, id=d54c1d8b-5916-4e86-abe5-be91f89a0a43, oldId=null, before=51, after=52
2025-10-04 04:33:20.346  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 364 - Msg: üì¶ MessageCache: CACHED 50 messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 04:33:20.347  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: üì¶ MessageCache updated for group 2e246d9c-356a-4fec-9022-108157fa391a after realtime insert (52 messages)
2025-10-04 04:33:20.348  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üì® Message attached to state: id=d54c1d8b-5916-4e86-abe5-be91f89a0a43 (active group)
2025-10-04 04:33:20.412  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: üîç MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=52
2025-10-04 04:33:20.455  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364107, pluginId: CapacitorSQLite, methodName: run
2025-10-04 04:33:20.455  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364107, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["d54c1d8b-5916-4e86-abe5-be91f89a0a43","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Iuo yut",1,"text",null,null,null,1759532599943,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 04:33:20.520  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üì® Message persisted to SQLite: id=d54c1d8b-5916-4e86-abe5-be91f89a0a43
2025-10-04 04:33:20.525  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364108, pluginId: CapacitorSQLite, methodName: run
2025-10-04 04:33:20.525  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364108, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759532600518,"2e246d9c-356a-4fec-9022-108157fa391a"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 04:33:21.843  5380-12733 Capacitor/...gingPlugin com.confessr.app                     V  Notifying listeners for event notificationReceived
2025-10-04 04:33:21.850  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üîî CRITICAL: FirebaseMessaging.notificationReceived FIRED! [object Object]
2025-10-04 04:33:21.850  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üîî Raw notification object: {"notification":{"id":"0:1759532601492047%5612aab15612aab1","data":{"message_id":"d54c1d8b-5916-4e86-abe5-be91f89a0a43","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-03T23:03:19.962Z"},"title":"New message","body":"You have a new message in Confessr","clickAction":"FLUTTER_NOTIFICATION_CLICK"}}
2025-10-04 04:33:21.851  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üîî Extracted data: {"message_id":"d54c1d8b-5916-4e86-abe5-be91f89a0a43","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-03T23:03:19.962Z"}
2025-10-04 04:33:21.851  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üîî Notification received, reason=data, data: [object Object]
2025-10-04 04:33:21.852  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] üì• Attempting direct fetch for message d54c1d8b-5916-4e86-abe5-be91f89a0a43
2025-10-04 04:33:21.852  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-LfmIYHP2.js - Line 2 - Msg: [bg-sync] üöÄ Starting fetch for message d54c1d8b-5916-4e86-abe5-be91f89a0a43 in group 2e246d9c-356a-4fec-9022-108157fa391a (attempt 1/3)
2025-10-04 04:33:21.860  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364109, pluginId: CapacitorSQLite, methodName: query
2025-10-04 04:33:21.860  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364109, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT 1 FROM messages WHERE id = ? LIMIT 1","values":["d54c1d8b-5916-4e86-abe5-be91f89a0a43"],"readonly":false,"isSQL92":true}
2025-10-04 04:33:21.867  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-LfmIYHP2.js - Line 2 - Msg: [bg-sync] ‚úÖ Message d54c1d8b-5916-4e86-abe5-be91f89a0a43 already exists (delivered via realtime), skipping fetch (18ms)
2025-10-04 04:33:21.869  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: [push] ‚úÖ Direct fetch succeeded for message d54c1d8b-5916-4e86-abe5-be91f89a0a43
2025-10-04 04:33:22.208  5380-5380  Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillHide
2025-10-04 04:33:22.208  5380-5380  Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillHide
2025-10-04 04:33:22.457  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 364 - Msg: [unread] Marking group 2e246d9c-356a-4fec-9022-108157fa391a as read, lastMessageId=d54c1d8b-5916-4e86-abe5-be91f89a0a43
2025-10-04 04:33:22.458  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: ‚úÖ Marked group 2e246d9c-356a-4fec-9022-108157fa391a as read up to message d54c1d8b-5916-4e86-abe5-be91f89a0a43
2025-10-04 04:33:22.791  5380-5380  Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidHide
2025-10-04 04:33:22.791  5380-5380  Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidHide
2025-10-04 04:33:26.516  5380-5380  Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event backButton
2025-10-04 04:33:26.604  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-04 04:33:26.614  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: üì± Loading groups from local storage first (local-first approach)
2025-10-04 04:33:26.615  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364110, pluginId: CapacitorSQLite, methodName: query
2025-10-04 04:33:26.616  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364110, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-04 04:33:26.646  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: üì± Found 7 groups in local storage
2025-10-04 04:33:26.647  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: ‚úÖ Loaded 7 groups from local storage
2025-10-04 04:33:26.651  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364111, pluginId: Network, methodName: getStatus
2025-10-04 04:33:26.651  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364111, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-04 04:33:26.876  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: ÔøΩ B ackground syncing groups with Supabase...
2025-10-04 04:33:26.876  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: üåê Fetching groups from Supabase...
2025-10-04 04:33:26.876  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:03:26.827 üîë getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 04:33:26.877  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:03:26.827 üîÑ Starting background session refresh with cached tokens
2025-10-04 04:33:27.554  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: üîç MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=0
2025-10-04 04:33:27.554  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: üí¨ ChatArea: Opening chat for group 2e246d9c-356a-4fec-9022-108157fa391a (Hackathon Partners ‚ù§Ô∏è)
2025-10-04 04:33:27.554  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: üîÑ Fetching messages for group: 2e246d9c-356a-4fec-9022-108157fa391a (started at 23:03:27.553Z)
2025-10-04 04:33:27.561  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: üì± SQLite ready check: true (6ms)
2025-10-04 04:33:27.561  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 364 - Msg: üì¶ MessageCache: HIT for group 2e246d9c-356a-4fec-9022-108157fa391a (50 messages)
2025-10-04 04:33:27.561  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: üì¶ Cache check completed in 1ms, found 50 messages
2025-10-04 04:33:27.561  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: ‚ö° INSTANT: Loading messages from in-memory cache
2025-10-04 04:33:27.562  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: üîÑ mergeWithPending: incoming=50, existing=0, optimistic=0, realtime=0, final=50
2025-10-04 04:33:27.562  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: ‚ö° INSTANT: Displayed 50 cached messages instantly
2025-10-04 04:33:27.562  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: üì± Background refresh from SQLite (started at 7ms from group open)
2025-10-04 04:33:27.617  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: üîç MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=50
2025-10-04 04:33:27.621  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364112, pluginId: CapacitorSQLite, methodName: query
2025-10-04 04:33:27.621  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364112, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a",50],"readonly":false,"isSQL92":true}
2025-10-04 04:33:27.710  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: üîÑ Background: Refreshing messages from SQLite to ensure cache is current
2025-10-04 04:33:27.768  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 361 - Msg: [supabase-pipeline] 23:03:27.767 üîë getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 04:33:27.811  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: üì± SQLite query completed in 250ms, got 50 messages
2025-10-04 04:33:27.811  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 364 - Msg: üì¶ MessageCache: CACHED 50 messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 04:33:27.811  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: üîÑ mergeWithPending: incoming=50, existing=50, optimistic=0, realtime=0, final=50
2025-10-04 04:33:27.813  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: üîÑ Background: Updated UI with 50 fresh messages from SQLite
2025-10-04 04:33:27.841  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364113, pluginId: Network, methodName: getStatus
2025-10-04 04:33:27.841  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364113, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-04 04:33:27.847  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: üåê Background: Fetching messages from Supabase (non-blocking)...
2025-10-04 04:33:27.847  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: üí¨ ChatArea: Messages loaded in 292.80ms
2025-10-04 04:33:27.912  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 366 - Msg: üîÑ Loading remaining messages in background...
2025-10-04 04:33:27.913  5380-5380  Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42364114, pluginId: CapacitorSQLite, methodName: query
2025-10-04 04:33:27.913  5380-5380  Capacitor               com.confessr.app                     V  callback: 42364114, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a",50],"readonly":false,"isSQL92":true}
2025-10-04 04:33:29.845  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 364 - Msg: [unread] Marking group 2e246d9c-356a-4fec-9022-108157fa391a as read, lastMessageId=d54c1d8b-5916-4e86-abe5-be91f89a0a43
2025-10-04 04:33:29.847  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 741 - Msg: ‚úÖ Marked group 2e246d9c-356a-4fec-9022-108157fa391a as read up to message d54c1d8b-5916-4e86-abe5-be91f89a0a43
2025-10-04 04:33:31.606  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] ‚è≠Ô∏è Skipping cleanup - channel still active (state: joined)
2025-10-04 04:33:40.792  5380-5380  Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DZRyX8N7.js - Line 394 - Msg: [realtime-v2] üíì Heartbeat sent
