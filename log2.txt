---------------------------- PROCESS ENDED (15933) for package com.confessr.app ----------------------------
---------------------------- PROCESS STARTED (18758) for package com.confessr.app ----------------------------
2025-10-18 03:02:00.999 18758-18758 Capacitor               com.confessr.app                     D  Registering plugin instance: CapacitorCookies
2025-10-18 03:02:01.002 18758-18758 Capacitor               com.confessr.app                     D  Registering plugin instance: WebView
2025-10-18 03:02:01.003 18758-18758 Capacitor               com.confessr.app                     D  Registering plugin instance: CapacitorHttp
2025-10-18 03:02:01.005 18758-18758 Capacitor               com.confessr.app                     D  Registering plugin instance: TruecallerAuth
2025-10-18 03:02:01.028 18758-18758 Capacitor               com.confessr.app                     D  Registering plugin instance: CapacitorSQLite
2025-10-18 03:02:01.196 18758-18758 Capacitor               com.confessr.app                     D  Registering plugin instance: FirebaseMessaging
2025-10-18 03:02:01.197 18758-18758 Capacitor               com.confessr.app                     D  Registering plugin instance: App
2025-10-18 03:02:01.198 18758-18758 Capacitor               com.confessr.app                     D  Registering plugin instance: Haptics
2025-10-18 03:02:01.201 18758-18758 Capacitor               com.confessr.app                     D  Registering plugin instance: Keyboard
2025-10-18 03:02:01.202 18758-18758 Capacitor               com.confessr.app                     D  Registering plugin instance: Network
2025-10-18 03:02:01.203 18758-18758 Capacitor               com.confessr.app                     D  Registering plugin instance: Preferences
2025-10-18 03:02:01.231 18758-18758 Capacitor               com.confessr.app                     W  Unable to read file at path public/plugins
2025-10-18 03:02:01.235 18758-18758 Capacitor               com.confessr.app                     D  Loading app at https://localhost
2025-10-18 03:02:01.359 18758-18758 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event pause
2025-10-18 03:02:01.359 18758-18758 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event pause
2025-10-18 03:02:01.360 18758-18758 Capacitor               com.confessr.app                     D  App paused
2025-10-18 03:02:01.653 18758-18758 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: true
2025-10-18 03:02:01.653 18758-18758 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-18 03:02:01.653 18758-18758 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event appStateChange
2025-10-18 03:02:01.653 18758-18758 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event resume
2025-10-18 03:02:01.653 18758-18758 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event resume
2025-10-18 03:02:01.655 18758-18758 Capacitor               com.confessr.app                     D  App resumed
2025-10-18 03:02:01.688 18758-27408 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-18 03:02:01.688 18758-27408 Capacitor/NetworkPlugin com.confessr.app                     D  No listeners found for event networkStatusChange
2025-10-18 03:02:01.740 18758-27280 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/index-CF78nw6v.js
2025-10-18 03:02:01.742 18758-27257 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/index-VW7d3Me2.css
2025-10-18 03:02:01.751 18758-18758 Capacitor/Console       com.confessr.app                     E  File: https://localhost/ - Line 1 - Msg: Uncaught TypeError: Cannot read properties of undefined (reading 'triggerEvent')
2025-10-18 03:02:01.752 18758-18758 Capacitor/Console       com.confessr.app                     E  File: https://localhost/ - Line 1 - Msg: Uncaught TypeError: Cannot read properties of undefined (reading 'triggerEvent')
2025-10-18 03:02:02.247 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:02.238 🚀 Pipeline initialized
2025-10-18 03:02:02.247 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:02.245 🧪 Debug tag: v2025-09-24.stage-markers.v2
2025-10-18 03:02:02.247 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:02.245 🧪 Marker pack installed: entered-send, pre-network, POST markers, 5s timeout→outbox, watchdog job creation
2025-10-18 03:02:02.247 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:02.246 ✅ Proactive token refresh timer started (checks every 5 minutes)
2025-10-18 03:02:02.247 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:02.246 🔄 initialize() called - force=false isInitialized=false hasClient=false initPromiseActive=false
2025-10-18 03:02:02.247 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:02.246 🔄 Initializing Supabase client...
2025-10-18 03:02:02.248 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:02.246 🔄 Supabase env present? url=true anonKey=true
2025-10-18 03:02:02.258 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:02.257 🔄 Supabase client created ONCE (persistSession=true, autoRefreshToken=true)
2025-10-18 03:02:02.264 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: 💧 Rehydrating auth state...
2025-10-18 03:02:02.265 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: 💧 Auth state rehydrated with user: null
2025-10-18 03:02:02.265 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 364 - Msg: 📦 MessageCache: Initialized with 15min expiry, max 10 chats, 50 messages per chat
2025-10-18 03:02:02.265 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 394 - Msg: [webview-lifecycle] 21:32:02 🌐 WebView Lifecycle Manager initialized
2025-10-18 03:02:02.266 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 394 - Msg: [general] 21:32:02 ℹ️ Mobile Logger initialized - Session: 1760736722264-8k7jdoui1, Platform: android
2025-10-18 03:02:02.279 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 394 - Msg: [realtime-v2] Initializing auth state listener for chat store
2025-10-18 03:02:02.280 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 394 - Msg: [realtime-v2] Setting up auth state listener for realtime
2025-10-18 03:02:02.281 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:02.280 🔑 getClient() called - hasClient=true isInitialized=false initPromiseActive=true
2025-10-18 03:02:02.282 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:02.280 🔑 getClient() -> calling initialize()
2025-10-18 03:02:02.282 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:02.280 🔄 initialize() called - force=false isInitialized=false hasClient=true initPromiseActive=true
2025-10-18 03:02:02.282 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:02.280 🔄 initialize() waiting for existing initializePromise
2025-10-18 03:02:02.289 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 395 - Msg: [device-lock] 21:32:02 🔒 Device Lock Detection Manager initialized
2025-10-18 03:02:02.291 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 395 - Msg: [whatsapp-connection] 21:32:02 📱 WhatsApp-Style Connection Manager initialized
2025-10-18 03:02:02.362 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: [push] 🚀 CRITICAL: Module load - starting listener registration
2025-10-18 03:02:02.363 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: [push] 🚀 FIRST IMPORT: Starting @capacitor-firebase/messaging import
2025-10-18 03:02:02.366 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: [main] 🚀 IIFE starting - about to initialize push notifications
2025-10-18 03:02:02.366 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: [main] 🔥 Inside async IIFE - before try block
2025-10-18 03:02:02.367 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: [main] 📱 Initializing push notifications...
2025-10-18 03:02:02.370 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: [push] 🚀 initPush() called
2025-10-18 03:02:02.370 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: [push] ✅ Starting push initialization...
2025-10-18 03:02:02.370 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: [push] 📦 Waiting for FirebaseMessaging import (shared with listener registration)...
2025-10-18 03:02:02.372 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:02.368 ✅ Supabase client initialized successfully (PERMANENT INSTANCE)
2025-10-18 03:02:02.375 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570538, pluginId: App, methodName: addListener
2025-10-18 03:02:02.375 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570538, pluginId: App, methodName: addListener, methodData: {"eventName":"appStateChange"}
2025-10-18 03:02:02.376 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570539, pluginId: App, methodName: addListener
2025-10-18 03:02:02.376 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570539, pluginId: App, methodName: addListener, methodData: {"eventName":"resume"}
2025-10-18 03:02:02.378 18758-27253 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/index-DlPU6k19.js
2025-10-18 03:02:02.414 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 394 - Msg: [webview-lifecycle] 21:32:02 ✅ WebView context fully restored and ready
2025-10-18 03:02:02.435 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: 🚀 App mounted, setting up auth...
2025-10-18 03:02:02.435 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: 📱 Native platform detected, initializing SQLite...
2025-10-18 03:02:02.451 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 107 - Msg: 🗄️ Initializing SQLite database...
2025-10-18 03:02:02.451 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: 🎨 App render state: [object Object]
2025-10-18 03:02:02.453 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570540, pluginId: App, methodName: addListener
2025-10-18 03:02:02.453 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570540, pluginId: App, methodName: addListener, methodData: {"eventName":"backButton"}
2025-10-18 03:02:02.482 18758-27252 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/favicon.ico
2025-10-18 03:02:02.498 18758-27252 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/favicon.ico
2025-10-18 03:02:02.818 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: [push] ✅ FirebaseMessaging module imported successfully
2025-10-18 03:02:02.818 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: [push] 🎯 CRITICAL: Registering all listeners NOW
2025-10-18 03:02:02.819 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: [push] ✅ FirebaseMessaging imported successfully
2025-10-18 03:02:02.819 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: [push] ⏳ Waiting for listeners to be registered...
2025-10-18 03:02:02.820 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: [push] ✅ CRITICAL: notificationReceived listener registered and handle stored!
2025-10-18 03:02:02.820 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: [push] ✅ tokenReceived listener registered and handle stored!
2025-10-18 03:02:02.820 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: [push] ✅ notificationActionPerformed listener registered and handle stored!
2025-10-18 03:02:02.820 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: [push] ✅✅✅ ALL LISTENERS REGISTERED SUCCESSFULLY ✅✅✅
2025-10-18 03:02:02.820 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: [push] ✅ Listeners confirmed registered, proceeding with initialization
2025-10-18 03:02:02.821 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570541, pluginId: App, methodName: addListener
2025-10-18 03:02:02.821 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570541, pluginId: App, methodName: addListener, methodData: {"eventName":"appStateChange"}
2025-10-18 03:02:02.822 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570542, pluginId: Preferences, methodName: get
2025-10-18 03:02:02.822 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570542, pluginId: Preferences, methodName: get, methodData: {"key":"sqlite_encryption_key"}
2025-10-18 03:02:02.834 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570543, pluginId: FirebaseMessaging, methodName: addListener
2025-10-18 03:02:02.834 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570543, pluginId: FirebaseMessaging, methodName: addListener, methodData: {"eventName":"notificationReceived"}
2025-10-18 03:02:02.834 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570544, pluginId: FirebaseMessaging, methodName: addListener
2025-10-18 03:02:02.834 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570544, pluginId: FirebaseMessaging, methodName: addListener, methodData: {"eventName":"tokenReceived"}
2025-10-18 03:02:02.837 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570545, pluginId: FirebaseMessaging, methodName: addListener
2025-10-18 03:02:02.837 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570545, pluginId: FirebaseMessaging, methodName: addListener, methodData: {"eventName":"notificationActionPerformed"}
2025-10-18 03:02:02.838 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570546, pluginId: FirebaseMessaging, methodName: checkPermissions
2025-10-18 03:02:02.838 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570546, pluginId: FirebaseMessaging, methodName: checkPermissions, methodData: {}
2025-10-18 03:02:03.122 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:03.067 🔑 Token cached: user=undefined hasAccess=false hasRefresh=false
2025-10-18 03:02:03.123 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: [push] permission before(FirebaseMessaging): granted
2025-10-18 03:02:03.127 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570547, pluginId: CapacitorSQLite, methodName: setEncryptionSecret
2025-10-18 03:02:03.127 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570547, pluginId: CapacitorSQLite, methodName: setEncryptionSecret, methodData: {"passphrase":"66f3d49e8e514204b885794206a8fec2"}
2025-10-18 03:02:03.128 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 394 - Msg: [realtime-v2] Auth event: INITIAL_SESSION
2025-10-18 03:02:03.129 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 394 - Msg: [realtime-v2] Token applied; channel healthy, no reconnect
2025-10-18 03:02:03.129 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-18 03:02:03.165 18758-27343 com.getcap...RetHandler com.confessr.app                     V  *** ERROR SetEncryptionSecret: a passphrase has already been set 
2025-10-18 03:02:03.165 18758-27343 Capacitor               com.confessr.app                     D  Sending plugin error: {"save":false,"callbackId":"30570547","pluginId":"CapacitorSQLite","methodName":"setEncryptionSecret","success":false,"error":{"message":"SetEncryptionSecret: a passphrase has already been set "}}
2025-10-18 03:02:03.229 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570548, pluginId: FirebaseMessaging, methodName: getToken
2025-10-18 03:02:03.230 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570548, pluginId: FirebaseMessaging, methodName: getToken, methodData: {}
2025-10-18 03:02:03.639 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 390 - Msg: [outbox-unified] Trigger requested from: auth-token-refreshed (priority: high)
2025-10-18 03:02:03.640 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: auth-token-refreshed
2025-10-18 03:02:03.694 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:03.682 📦 Starting outbox processing - session outbox-1760736723682
2025-10-18 03:02:03.902 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 107 - Msg: ✅ Security pragma set
2025-10-18 03:02:03.903 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 107 - Msg: 📊 Creating tables in encrypted database...
2025-10-18 03:02:03.921 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570560, pluginId: CapacitorSQLite, methodName: execute
2025-10-18 03:02:03.922 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570560, pluginId: CapacitorSQLite, methodName: execute, methodData: {"database":"confessr_db","statements":"\n      CREATE TABLE IF NOT EXISTS messages (\n        id TEXT PRIMARY KEY,\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        content TEXT NOT NULL,\n        is_ghost INTEGER DEFAULT 0,\n        message_type TEXT DEFAULT 'text',\n        category TEXT,\n        parent_id TEXT,\n        image_url TEXT,\n        created_at INTEGER NOT NULL,\n        local_id INTEGER UNIQUE,\n        updated_at INTEGER,\n        deleted_at INTEGER\n      );\n\n      CREATE TABLE IF NOT EXISTS groups (\n        id TEXT PRIMARY KEY,\n        name TEXT NOT NULL,\n        description TEXT,\n        invite_code TEXT,\n        created_by TEXT NOT NULL,\n        created_at INTEGER NOT NULL,\n        last_sync_timestamp INTEGER DEFAULT 0,\n        avatar_url TEXT,\n        is_archived INTEGER DEFAULT 0\n      );\n\n      CREATE TABLE IF NOT EXISTS users (\n        id TEXT PRIMARY KEY,\n        display_name TEXT NOT NULL,\n        phone_number TEXT,\n        avatar_url TEXT,\n        is_onboarded INTEGER DEFAULT 0,\n        created_at INTEGER NOT NULL\n      );\n\n      CREATE TABLE IF NOT EXISTS outbox (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        content TEXT NOT NULL,\n        retry_count INTEGER DEFAULT 0,\n        next_retry_at INTEGER NOT NULL,\n        message_type TEXT DEFAULT 'text',\n        category TEXT,\n        parent_id TEXT,\n        image_url TEXT,\n        is_ghost INTEGER DEFAULT 0\n      );\n\n      CREATE TABLE IF NOT EXISTS sync_state (\n        key TEXT PRIMARY KEY,\n        value TEXT NOT NULL\n      );\n\n      \/* Polls table *\/\n      CREATE TABLE IF NOT EXISTS polls (\n        id TEXT PRIMARY KEY,\n        message_id TEXT NOT NULL,\n        question TEXT NOT NULL,\n        options TEXT NOT NULL, -- JSON string\n        created_at INTEGER NOT NULL,\n        closes_at INTEGER NOT NULL,\n        created_by TEXT NOT NULL,\n        FOREIGN KEY (message_id) REFERENCES messages(id)\n      );\n\n      \/* Poll votes table *\/\n      CREATE TABLE IF NOT EXISTS poll_votes (\n        poll_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        option_index INTEGER NOT NULL,\n        created_at INTEGER NOT NULL,\n        PRIMARY KEY (poll_id, user_id),\n        FOREIGN KEY (poll_id) REFERENCES polls(id)\n      );\n\n      \/* Reactions table *\/\n      CREATE TABLE IF NOT EXISTS reactions (\n        id TEXT PRIMARY KEY,\n        message_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        emoji TEXT NOT NULL,\n        created_at INTEGER NOT NULL,\n        FOREIGN KEY (message_id) REFERENCES messages(id)\n      );\n\n      \/* Group members table *\/\n      CREATE TABLE IF NOT EXISTS group_members (\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        role TEXT DEFAULT 'participant',\n        joined_at INTEGER NOT NULL,\n        last_read_at INTEGER DEFAULT 0,\n        last_read_message_id TEXT,\n        PRIMARY KEY (group_id, user_id),\n        FOREIGN KEY (group_id) REFERENCES groups(id),\n        FOREIGN KEY (user_id) REFERENCES users(id)\n      );\n\n      \/* User pseudonyms for ghost messages *\/\n      CREATE TABLE IF NOT EXISTS user_pseudonyms (\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        pseudonym TEXT NOT NULL,\n        created_at INTEGER NOT NULL,\n        PRIMARY KEY (group_id, user_id)\n      );\n\n      \/* Confessions table for confession messages *\/\n      CREATE TABLE IF NOT EXISTS confessions (\n        id TEXT PRIMARY KEY,\n        message_id TEXT NOT NULL,\n        confession_type TEXT NOT NULL,\n        is_anonymous INTEGER DEFAULT 1,\n        FOREIGN KEY (message_id) REFERENCES messages(id)\n      );\n\n      \/* indexes *\/\n      CREATE INDEX IF NOT EXISTS idx_msg_group_date_asc\n        ON messages(group_id, created_at ASC);\n      CREATE INDEX IF NOT EXISTS idx_msg_group_date_desc\n        ON
2025-10-18 03:02:03.994 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570561, pluginId: CapacitorSQLite, methodName: query
2025-10-18 03:02:03.994 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570561, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(messages);","values":[],"readonly":false,"isSQL92":true}
2025-10-18 03:02:04.083 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570562, pluginId: CapacitorSQLite, methodName: query
2025-10-18 03:02:04.083 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570562, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(groups);","values":[],"readonly":false,"isSQL92":true}
2025-10-18 03:02:04.533 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570569, pluginId: CapacitorSQLite, methodName: query
2025-10-18 03:02:04.533 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570569, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM messages WHERE group_id = ? ORDER BY created_at ASC LIMIT 50 OFFSET 0","values":["test-group-id"],"readonly":false,"isSQL92":true}
2025-10-18 03:02:04.617 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: 🔄 Auth state changed: INITIAL_SESSION no-user
2025-10-18 03:02:04.618 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: 📡 Auth event: INITIAL_SESSION
2025-10-18 03:02:04.653 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: 🚫 No active session found
2025-10-18 03:02:04.653 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: 🏁 Auth initialization complete
2025-10-18 03:02:04.705 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: 🎨 App render state: [object Object]
2025-10-18 03:02:04.705 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: ✅ Auth setup complete
2025-10-18 03:02:04.736 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570570, pluginId: TruecallerAuth, methodName: isAvailable
2025-10-18 03:02:04.736 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570570, pluginId: TruecallerAuth, methodName: isAvailable, methodData: {}
2025-10-18 03:02:04.980 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 678 - Msg: [Truecaller] Available: true
2025-10-18 03:02:05.740 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 678 - Msg: [Truecaller] Starting verification...
2025-10-18 03:02:05.750 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570571, pluginId: TruecallerAuth, methodName: verifyWithTruecaller
2025-10-18 03:02:05.750 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570571, pluginId: TruecallerAuth, methodName: verifyWithTruecaller, methodData: {}
2025-10-18 03:02:05.854 18758-18758 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event pause
2025-10-18 03:02:05.854 18758-18758 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event pause
2025-10-18 03:02:05.856 18758-18758 Capacitor               com.confessr.app                     D  App paused
2025-10-18 03:02:08.203 18758-18758 Capacitor               com.confessr.app                     D  Unable to find a Capacitor plugin to handle requestCode, trying Cordova plugins 100
2025-10-18 03:02:08.213 18758-18758 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: true
2025-10-18 03:02:08.213 18758-18758 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-18 03:02:08.215 18758-18758 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event resume
2025-10-18 03:02:08.221 18758-18758 Capacitor               com.confessr.app                     D  App resumed
2025-10-18 03:02:08.223 18758-27408 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-18 03:02:08.225 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 678 - Msg: [Truecaller] Authorization code received
2025-10-18 03:02:08.225 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 678 - Msg: [Truecaller] Calling backend: https://sxykfyqrqwifkirveqgr.supabase.co/functions/v1/truecaller-verify
2025-10-18 03:02:08.239 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 395 - Msg: [device-lock] 21:32:08 App foreground event while not locked, treating as activity
2025-10-18 03:02:08.240 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 741 - Msg: 📱 App state changed: active
2025-10-18 03:02:08.241 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 394 - Msg: [device-lifecycle] 21:32:08 ℹ️ App resume from appStateChange {"timeSinceLastResume":1760736728237,"source":"appStateChange"}
2025-10-18 03:02:08.241 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.238 📱 App resume detected - checking session state
2025-10-18 03:02:08.241 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.238 🔄 Recovering session using cached tokens...
2025-10-18 03:02:08.242 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.238 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-18 03:02:08.242 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.238 🔄 No cached tokens available for recovery
2025-10-18 03:02:08.242 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.238 ⚠️ App resume: token recovery failed, session may need refresh
2025-10-18 03:02:08.243 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.238 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-18 03:02:08.243 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.239 📦 Triggering outbox processing from: app-resume
2025-10-18 03:02:08.244 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.239 ✅ App resume completed using token recovery strategy
2025-10-18 03:02:08.244 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 394 - Msg: [general] 21:32:08 ℹ️ Triggered outbox processing on app resume
2025-10-18 03:02:08.244 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 394 - Msg: [device-lifecycle] 21:32:08 ℹ️ App resume processed from appStateChange
2025-10-18 03:02:08.245 18758-18758 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-18 03:02:08.245 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 395 - Msg: [device-lock] 21:32:08 App foreground event while not locked, treating as activity
2025-10-18 03:02:08.245 18758-18758 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-18 03:02:08.269 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 390 - Msg: [outbox-unified] Trigger requested from: app-resume (priority: high)
2025-10-18 03:02:08.269 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: app-resume
2025-10-18 03:02:08.269 18758-18758 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-18 03:02:08.270 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 394 - Msg: [device-lifecycle] 21:32:08 ℹ️ App resume from resume {"timeSinceLastResume":7,"source":"resume"}
2025-10-18 03:02:08.270 18758-18758 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-CF78nw6v.js - Line 394 - Msg: [device-lifecycle] 21:32:08 🔍 Resume debounced (too soon after last resume)
2025-10-18 03:02:08.270 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 394 - Msg: [network] 21:32:08 ℹ️ Network status: online {"isOnline":true,"connectionType":"wifi"}
2025-10-18 03:02:08.270 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 394 - Msg: [network] 21:32:08 ℹ️ Network reconnected
2025-10-18 03:02:08.270 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [realtime-v2] Network came online
2025-10-18 03:02:08.270 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [realtime-v2] Network online - triggering outbox processing only
2025-10-18 03:02:08.271 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 390 - Msg: [outbox-unified] Trigger requested from: network-online (priority: high)
2025-10-18 03:02:08.271 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 390 - Msg: [outbox-unified] Coalescing trigger (debounced) from: network-online
2025-10-18 03:02:08.271 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: network-online
2025-10-18 03:02:08.271 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.252 🌐 Network reconnection detected - triggering background session refresh
2025-10-18 03:02:08.271 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.252 🔄 Recovering session using cached tokens...
2025-10-18 03:02:08.271 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.252 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-18 03:02:08.271 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.252 📦 Trigger coalesced (debounced 300ms) from: network-reconnect
2025-10-18 03:02:08.271 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.252 ✅ Network reconnect handler completed (session refresh in background)
2025-10-18 03:02:08.271 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.252 🔄 No cached tokens available for recovery
2025-10-18 03:02:08.272 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.252 ⚠️ Background session refresh failed (will retry on next API call)
2025-10-18 03:02:08.272 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.254 📦 Starting outbox processing - session outbox-1760736728254
2025-10-18 03:02:08.272 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.254 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-18 03:02:08.276 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570572, pluginId: CapacitorSQLite, methodName: query
2025-10-18 03:02:08.277 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570572, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1760736728254],"readonly":false,"isSQL92":true}
2025-10-18 03:02:08.289 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.288 📦 No outbox messages to process; idle
2025-10-18 03:02:08.301 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.300 📦 Starting outbox processing - session outbox-1760736728300
2025-10-18 03:02:08.302 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.300 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-18 03:02:08.303 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570573, pluginId: CapacitorSQLite, methodName: query
2025-10-18 03:02:08.303 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570573, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1760736728300],"readonly":false,"isSQL92":true}
2025-10-18 03:02:08.305 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:08.305 📦 No outbox messages to process; idle
2025-10-18 03:02:08.752 18758-27252 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/reconnectionManager-B9x3vRR6.js
2025-10-18 03:02:08.759 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-B9x3vRR6.js - Line 2 - Msg: [reconnection-mgr] 21:32:08 🧭 Triggers coalesced; assessing health - reason: network-online [cid=1760736728758-53w9vm]
2025-10-18 03:02:08.960 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-B9x3vRR6.js - Line 2 - Msg: [reconnection-mgr] 21:32:08 📱 Waiting for WebView readiness
2025-10-18 03:02:08.962 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 394 - Msg: [webview-lifecycle] 21:32:08 WebView already ready
2025-10-18 03:02:08.962 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-B9x3vRR6.js - Line 2 - Msg: [reconnection-mgr] 21:32:08 ✅ WebView is ready
2025-10-18 03:02:08.962 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-B9x3vRR6.js - Line 2 - Msg: [reconnection-mgr] 21:32:08 🔐 Validating SQLite encryption
2025-10-18 03:02:08.975 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 107 - Msg: [sqlite-encryption] 21:32:08 🔓 Validating encryption key after device unlock
2025-10-18 03:02:08.975 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 107 - Msg: [sqlite-encryption] 21:32:08 🔍 Validating SQLite encryption key accessibility
2025-10-18 03:02:08.977 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570574, pluginId: Preferences, methodName: set
2025-10-18 03:02:08.978 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570574, pluginId: Preferences, methodName: set, methodData: {"key":"sqlite_key_validation_test","value":"validation_1760736728963"}
2025-10-18 03:02:08.991 18758-18758 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-18 03:02:08.993 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570575, pluginId: Preferences, methodName: get
2025-10-18 03:02:08.993 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570575, pluginId: Preferences, methodName: get, methodData: {"key":"sqlite_key_validation_test"}
2025-10-18 03:02:09.008 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570576, pluginId: Preferences, methodName: remove
2025-10-18 03:02:09.008 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570576, pluginId: Preferences, methodName: remove, methodData: {"key":"sqlite_key_validation_test"}
2025-10-18 03:02:09.010 18758-18758 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-18 03:02:09.012 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570577, pluginId: Preferences, methodName: get
2025-10-18 03:02:09.012 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570577, pluginId: Preferences, methodName: get, methodData: {"key":"sqlite_encryption_key"}
2025-10-18 03:02:09.049 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 107 - Msg: [sqlite-encryption] 21:32:09 ✅ Primary encryption key validation successful
2025-10-18 03:02:09.049 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 107 - Msg: [sqlite-encryption] 21:32:09 ✅ Encryption key accessible after unlock (primary, 70ms)
2025-10-18 03:02:09.049 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-B9x3vRR6.js - Line 2 - Msg: [reconnection-mgr] 21:32:09 ✅ SQLite encryption validated
2025-10-18 03:02:09.049 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-B9x3vRR6.js - Line 2 - Msg: [reconnection-mgr] 21:32:09 🌐 Checking network stability
2025-10-18 03:02:09.049 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-B9x3vRR6.js - Line 2 - Msg: [reconnection-mgr] 21:32:09 ✅ Network is stable
2025-10-18 03:02:09.050 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-B9x3vRR6.js - Line 2 - Msg: [reconnection-mgr] 21:32:09 ⚡ Fast path resume: assessing current channel
2025-10-18 03:02:09.050 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-B9x3vRR6.js - Line 2 - Msg: [reconnection-mgr] 21:32:09 Reconnection decision: reconnecting
2025-10-18 03:02:09.050 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-B9x3vRR6.js - Line 2 - Msg: [reconnection-mgr] 21:32:09 🔄 Starting WhatsApp-like reconnection sequence - reason: network-online [cid=1760736728758-53w9vm]
2025-10-18 03:02:09.050 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-B9x3vRR6.js - Line 2 - Msg: [reconnection-mgr] 21:32:09 🔗 Applying token to realtime client
2025-10-18 03:02:09.050 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:09.034 🔐 Fetching fresh session from Supabase
2025-10-18 03:02:09.050 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:09.034 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-18 03:02:09.059 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:09.049 📨 setRealtimeAuth: token unchanged (cleared)
2025-10-18 03:02:09.059 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-B9x3vRR6.js - Line 2 - Msg: [reconnection-mgr] 21:32:09 ✅ Token unchanged; no resubscribe required if channel healthy
2025-10-18 03:02:09.059 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-B9x3vRR6.js - Line 2 - Msg: [reconnection-mgr] 21:32:09 🟡 Fast path: no active group; skipping subscribe
2025-10-18 03:02:09.060 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-B9x3vRR6.js - Line 2 - Msg: [reconnection-mgr] 21:32:09 🟡 No active group/channel – skipping SUBSCRIBED wait
2025-10-18 03:02:09.060 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:09.050 🌐 Network reconnection detected - triggering background session refresh
2025-10-18 03:02:09.060 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:09.050 🔄 Recovering session using cached tokens...
2025-10-18 03:02:09.060 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:09.050 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-18 03:02:09.060 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:09.050 📦 Triggering outbox processing from: network-reconnect
2025-10-18 03:02:09.060 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:09.050 ✅ Network reconnect handler completed (session refresh in background)
2025-10-18 03:02:09.060 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:09.050 🔄 No cached tokens available for recovery
2025-10-18 03:02:09.060 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-B9x3vRR6.js - Line 2 - Msg: [reconnection-mgr] 21:32:09 📦 No active group: nudged outbox via onNetworkReconnect
2025-10-18 03:02:09.060 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-B9x3vRR6.js - Line 2 - Msg: [reconnection-mgr] 21:32:09 ✅ Reconnection sequence completed (no active group) - reason: network-online
2025-10-18 03:02:09.060 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:09.050 ⚠️ Background session refresh failed (will retry on next API call)
2025-10-18 03:02:09.060 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-B9x3vRR6.js - Line 2 - Msg: [reconnection-mgr] 21:32:09 ✅ Reconnection completed - reason: network-online
2025-10-18 03:02:09.061 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:09.050 📦 Starting outbox processing - session outbox-1760736729050
2025-10-18 03:02:09.061 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:09.050 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-18 03:02:09.062 18758-18758 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 30570578, pluginId: CapacitorSQLite, methodName: query
2025-10-18 03:02:09.062 18758-18758 Capacitor               com.confessr.app                     V  callback: 30570578, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1760736729050],"readonly":false,"isSQL92":true}
2025-10-18 03:02:09.076 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 361 - Msg: [supabase-pipeline] 21:32:09.075 📦 No outbox messages to process; idle
2025-10-18 03:02:10.471 18758-18758 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-CF78nw6v.js - Line 678 - Msg: [Truecaller] Backend response status: 500
2025-10-18 03:02:10.472 18758-18758 Capacitor/Console       com.confessr.app                     E  File: https://localhost/assets/index-CF78nw6v.js - Line 678 - Msg: [Truecaller] Backend error response: [object Object]
2025-10-18 03:02:10.472 18758-18758 Capacitor/Console       com.confessr.app                     E  File: https://localhost/assets/index-CF78nw6v.js - Line 678 - Msg: [Truecaller] Verification error: Error: Failed to create authentication session (HTTP 500)
