--------- beginning of system
--------- beginning of main
---------------------------- PROCESS STARTED (13177) for package com.confessr.app ----------------------------
2025-10-03 21:23:20.111 13177-13177 Capacitor               com.confessr.app                     D  Starting BridgeActivity
2025-10-03 21:23:20.127 13177-13177 Capacitor               com.confessr.app                     D  Registering plugin instance: CapacitorCookies
2025-10-03 21:23:20.129 13177-13177 Capacitor               com.confessr.app                     D  Registering plugin instance: WebView
2025-10-03 21:23:20.130 13177-13177 Capacitor               com.confessr.app                     D  Registering plugin instance: CapacitorHttp
2025-10-03 21:23:20.132 13177-13177 Capacitor               com.confessr.app                     D  Registering plugin instance: CapacitorSQLite
2025-10-03 21:23:20.256 13177-13177 Capacitor               com.confessr.app                     D  Registering plugin instance: FirebaseMessaging
2025-10-03 21:23:20.257 13177-13177 Capacitor               com.confessr.app                     D  Registering plugin instance: App
2025-10-03 21:23:20.258 13177-13177 Capacitor               com.confessr.app                     D  Registering plugin instance: Haptics
2025-10-03 21:23:20.261 13177-13177 Capacitor               com.confessr.app                     D  Registering plugin instance: Keyboard
2025-10-03 21:23:20.262 13177-13177 Capacitor               com.confessr.app                     D  Registering plugin instance: Network
2025-10-03 21:23:20.263 13177-13177 Capacitor               com.confessr.app                     D  Registering plugin instance: Preferences
2025-10-03 21:23:20.287 13177-13177 Capacitor               com.confessr.app                     W  Unable to read file at path public/plugins
2025-10-03 21:23:20.290 13177-13177 Capacitor               com.confessr.app                     D  Loading app at https://localhost
2025-10-03 21:23:20.312 13177-14953 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/
2025-10-03 21:23:20.321 13177-13177 Capacitor               com.confessr.app                     D  App started
2025-10-03 21:23:20.323 13177-13177 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: true
2025-10-03 21:23:20.323 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-03 21:23:20.323 13177-13177 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event appStateChange
2025-10-03 21:23:20.328 13177-13177 Capacitor               com.confessr.app                     D  App resumed
2025-10-03 21:23:20.334 13177-15006 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-03 21:23:20.334 13177-15006 Capacitor/NetworkPlugin com.confessr.app                     D  No listeners found for event networkStatusChange
2025-10-03 21:23:20.432 13177-14952 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/index-BYWxzT5N.js
2025-10-03 21:23:20.432 13177-14953 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/index-BHPGbWI5.css
2025-10-03 21:23:20.685 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:20.683 🚀 Pipeline initialized
2025-10-03 21:23:20.685 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:20.684 🧪 Debug tag: v2025-09-24.stage-markers.v2
2025-10-03 21:23:20.685 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:20.684 🧪 Marker pack installed: entered-send, pre-network, POST markers, 5s timeout→outbox, watchdog job creation
2025-10-03 21:23:20.685 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:20.685 🔄 initialize() called - force=false isInitialized=false hasClient=false initPromiseActive=false
2025-10-03 21:23:20.686 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:20.685 🔄 Initializing Supabase client...
2025-10-03 21:23:20.686 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:20.685 🔄 Supabase env present? url=true anonKey=true
2025-10-03 21:23:20.692 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:20.690 🔄 Supabase client created ONCE (persistSession=true, autoRefreshToken=true)
2025-10-03 21:23:20.693 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 💧 Rehydrating auth state...
2025-10-03 21:23:20.694 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 💧 Auth state rehydrated with user: 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-03 21:23:20.695 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: Initialized with 15min expiry, max 10 chats, 50 messages per chat
2025-10-03 21:23:20.695 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview-lifecycle] 15:53:20 🌐 WebView Lifecycle Manager initialized
2025-10-03 21:23:20.696 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [general] 15:53:20 ℹ️ Mobile Logger initialized - Session: 1759506800693-c9w05mc7k, Platform: android
2025-10-03 21:23:20.697 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Initializing auth state listener for chat store
2025-10-03 21:23:20.698 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Setting up auth state listener for realtime
2025-10-03 21:23:20.699 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:20.698 🔑 getClient() called - hasClient=true isInitialized=false initPromiseActive=true
2025-10-03 21:23:20.699 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:20.698 🔑 getClient() -> calling initialize()
2025-10-03 21:23:20.699 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:20.698 🔄 initialize() called - force=false isInitialized=false hasClient=true initPromiseActive=true
2025-10-03 21:23:20.699 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:20.698 🔄 initialize() waiting for existing initializePromise
2025-10-03 21:23:20.702 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [device-lock] 15:53:20 🔒 Device Lock Detection Manager initialized
2025-10-03 21:23:20.703 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:53:20 📱 WhatsApp-Style Connection Manager initialized
2025-10-03 21:23:20.749 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🚀 CRITICAL: Module load - starting listener registration
2025-10-03 21:23:20.749 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🚀 FIRST IMPORT: Starting @capacitor-firebase/messaging import
2025-10-03 21:23:20.752 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [main] 🚀 IIFE starting - about to initialize push notifications
2025-10-03 21:23:20.752 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [main] 🔥 Inside async IIFE - before try block
2025-10-03 21:23:20.752 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [main] 📱 Initializing push notifications...
2025-10-03 21:23:20.752 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🚀 initPush() called
2025-10-03 21:23:20.752 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ Starting push initialization...
2025-10-03 21:23:20.752 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 📦 Waiting for FirebaseMessaging import (shared with listener registration)...
2025-10-03 21:23:20.753 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:20.752 ✅ Supabase client initialized successfully (PERMANENT INSTANCE)
2025-10-03 21:23:20.756 13177-14952 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/index-DAIPjusy.js
2025-10-03 21:23:20.756 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251275, pluginId: App, methodName: addListener
2025-10-03 21:23:20.756 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251275, pluginId: App, methodName: addListener, methodData: {"eventName":"appStateChange"}
2025-10-03 21:23:20.757 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251276, pluginId: App, methodName: addListener
2025-10-03 21:23:20.758 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251276, pluginId: App, methodName: addListener, methodData: {"eventName":"resume"}
2025-10-03 21:23:20.779 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview-lifecycle] 15:53:20 ✅ WebView context fully restored and ready
2025-10-03 21:23:20.788 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🚀 App mounted, setting up auth...
2025-10-03 21:23:20.788 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📱 Native platform detected, initializing SQLite...
2025-10-03 21:23:20.788 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: 🗄️ Initializing SQLite database...
2025-10-03 21:23:20.788 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🎨 App render state: [object Object]
2025-10-03 21:23:20.790 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251277, pluginId: App, methodName: addListener
2025-10-03 21:23:20.790 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251277, pluginId: App, methodName: addListener, methodData: {"eventName":"backButton"}
2025-10-03 21:23:20.791 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251278, pluginId: App, methodName: addListener
2025-10-03 21:23:20.791 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251278, pluginId: App, methodName: addListener, methodData: {"eventName":"appStateChange"}
2025-10-03 21:23:20.791 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251279, pluginId: Preferences, methodName: get
2025-10-03 21:23:20.791 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251279, pluginId: Preferences, methodName: get, methodData: {"key":"sqlite_encryption_key"}
2025-10-03 21:23:20.805 13177-14952 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/favicon.ico
2025-10-03 21:23:20.805 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:20.804 🔑 Token cached: user=839d1d4a hasAccess=true hasRefresh=true
2025-10-03 21:23:20.805 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Auth event: SIGNED_IN
2025-10-03 21:23:20.805 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Token applied; channel healthy, no reconnect
2025-10-03 21:23:20.805 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-03 21:23:20.834 13177-14952 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/favicon.ico
2025-10-03 21:23:20.919 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ FirebaseMessaging module imported successfully
2025-10-03 21:23:20.920 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🎯 CRITICAL: Registering all listeners NOW
2025-10-03 21:23:20.921 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ FirebaseMessaging imported successfully
2025-10-03 21:23:20.922 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ⏳ Waiting for listeners to be registered...
2025-10-03 21:23:20.925 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ CRITICAL: notificationReceived listener registered and handle stored!
2025-10-03 21:23:20.926 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ tokenReceived listener registered and handle stored!
2025-10-03 21:23:20.926 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ notificationActionPerformed listener registered and handle stored!
2025-10-03 21:23:20.927 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅✅✅ ALL LISTENERS REGISTERED SUCCESSFULLY ✅✅✅
2025-10-03 21:23:20.930 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:20.928 🔑 Token cached: user=839d1d4a hasAccess=true hasRefresh=true
2025-10-03 21:23:20.932 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251280, pluginId: CapacitorSQLite, methodName: setEncryptionSecret
2025-10-03 21:23:20.932 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251280, pluginId: CapacitorSQLite, methodName: setEncryptionSecret, methodData: {"passphrase":"66f3d49e8e514204b885794206a8fec2"}
2025-10-03 21:23:20.933 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251281, pluginId: FirebaseMessaging, methodName: addListener
2025-10-03 21:23:20.933 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251281, pluginId: FirebaseMessaging, methodName: addListener, methodData: {"eventName":"notificationReceived"}
2025-10-03 21:23:20.934 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251282, pluginId: FirebaseMessaging, methodName: addListener
2025-10-03 21:23:20.934 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251282, pluginId: FirebaseMessaging, methodName: addListener, methodData: {"eventName":"tokenReceived"}
2025-10-03 21:23:20.934 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251283, pluginId: FirebaseMessaging, methodName: addListener
2025-10-03 21:23:20.934 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251283, pluginId: FirebaseMessaging, methodName: addListener, methodData: {"eventName":"notificationActionPerformed"}
2025-10-03 21:23:20.935 13177-14994 com.getcap...RetHandler com.confessr.app                     V  *** ERROR SetEncryptionSecret: a passphrase has already been set 
2025-10-03 21:23:20.935 13177-14994 Capacitor               com.confessr.app                     D  Sending plugin error: {"save":false,"callbackId":"42251280","pluginId":"CapacitorSQLite","methodName":"setEncryptionSecret","success":false,"error":{"message":"SetEncryptionSecret: a passphrase has already been set "}}
2025-10-03 21:23:20.936 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ Listeners confirmed registered, proceeding with initialization
2025-10-03 21:23:20.937 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Auth event: INITIAL_SESSION
2025-10-03 21:23:20.937 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Token applied; channel healthy, no reconnect
2025-10-03 21:23:20.937 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251284, pluginId: FirebaseMessaging, methodName: checkPermissions
2025-10-03 21:23:20.937 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251284, pluginId: FirebaseMessaging, methodName: checkPermissions, methodData: {}
2025-10-03 21:23:20.938 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-03 21:23:20.939 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: 🔑 SQLite encryption key was already set
2025-10-03 21:23:20.940 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251285, pluginId: CapacitorSQLite, methodName: isDatabase
2025-10-03 21:23:20.940 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251285, pluginId: CapacitorSQLite, methodName: isDatabase, methodData: {"database":"confessr_db"}
2025-10-03 21:23:21.120 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] permission before(FirebaseMessaging): granted
2025-10-03 21:23:21.149 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: Database exists check: true
2025-10-03 21:23:21.150 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: 🔓 Opening encrypted database with secret mode...
2025-10-03 21:23:21.153 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251286, pluginId: FirebaseMessaging, methodName: getToken
2025-10-03 21:23:21.153 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251286, pluginId: FirebaseMessaging, methodName: getToken, methodData: {}
2025-10-03 21:23:21.190 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251287, pluginId: CapacitorSQLite, methodName: createConnection
2025-10-03 21:23:21.190 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251287, pluginId: CapacitorSQLite, methodName: createConnection, methodData: {"database":"confessr_db","encrypted":true,"mode":"secret","version":1,"readonly":false}
2025-10-03 21:23:21.203 13177-14994 com.getcap...e.Database com.confessr.app                     V  &&& file path /data/user/0/com.confessr.app/databases/confessr_dbSQLite.db
2025-10-03 21:23:21.237 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] token received(firebase): dFtsHt…
2025-10-03 21:23:21.238 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:21.192 🗄️ Executing upsert device token...
2025-10-03 21:23:21.238 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:21.192 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:23:21.239 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ Push initialization complete
2025-10-03 21:23:21.240 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:21.193 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:23:21.243 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ✅ Push initialization completed successfully
2025-10-03 21:23:21.243 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [main] ✅ Push notifications initialized
2025-10-03 21:23:21.244 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [general] 15:53:21 ℹ️ Initializing WhatsApp-style connection system
2025-10-03 21:23:21.268 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:21.248 [38;5;159m[fetch][0m POST https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/user_devices?on_conflict=token
2025-10-03 21:23:21.269 13177-13177 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-03 21:23:21.273 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251288, pluginId: App, methodName: addListener
2025-10-03 21:23:21.273 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251288, pluginId: App, methodName: addListener, methodData: {"eventName":"resume"}
2025-10-03 21:23:21.274 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251289, pluginId: App, methodName: addListener
2025-10-03 21:23:21.274 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251289, pluginId: App, methodName: addListener, methodData: {"eventName":"appUrlOpen"}
2025-10-03 21:23:21.275 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251290, pluginId: Network, methodName: addListener
2025-10-03 21:23:21.275 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251290, pluginId: Network, methodName: addListener, methodData: {"eventName":"networkStatusChange"}
2025-10-03 21:23:21.275 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251291, pluginId: Network, methodName: getStatus
2025-10-03 21:23:21.275 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251291, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:23:21.292 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251292, pluginId: CapacitorSQLite, methodName: open
2025-10-03 21:23:21.292 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251292, pluginId: CapacitorSQLite, methodName: open, methodData: {"database":"confessr_db","readonly":false}
2025-10-03 21:23:21.325 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [network] 15:53:21 ℹ️ Initial network status: online {"connectionType":"wifi"}
2025-10-03 21:23:21.325 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:53:21 📊 Status: connecting -  
2025-10-03 21:23:21.325 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 15:53:21 ℹ️ Connection status: connecting -  {"isUserVisible":false}
2025-10-03 21:23:21.326 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: auth-token-refreshed (priority: high)
2025-10-03 21:23:21.326 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: auth-token-refreshed
2025-10-03 21:23:21.330 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251293, pluginId: App, methodName: addListener
2025-10-03 21:23:21.330 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251293, pluginId: App, methodName: addListener, methodData: {"eventName":"appStateChange"}
2025-10-03 21:23:21.331 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251294, pluginId: App, methodName: addListener
2025-10-03 21:23:21.331 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251294, pluginId: App, methodName: addListener, methodData: {"eventName":"resume"}
2025-10-03 21:23:21.331 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251295, pluginId: Network, methodName: addListener
2025-10-03 21:23:21.331 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251295, pluginId: Network, methodName: addListener, methodData: {"eventName":"networkStatusChange"}
2025-10-03 21:23:21.385 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:21.375 📦 Starting outbox processing - session outbox-1759506801375
2025-10-03 21:23:21.472 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: auth-token-refreshed (priority: high)
2025-10-03 21:23:21.473 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: auth-token-refreshed
2025-10-03 21:23:21.509 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:21.504 📦 Outbox processing already in progress; skipping
2025-10-03 21:23:21.865 13177-13177 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-03 21:23:21.865 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: ✅ Encrypted database opened successfully
2025-10-03 21:23:21.889 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251296, pluginId: CapacitorSQLite, methodName: execute
2025-10-03 21:23:21.889 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251296, pluginId: CapacitorSQLite, methodName: execute, methodData: {"database":"confessr_db","statements":"PRAGMA cipher_memory_security = ON;","transaction":true,"readonly":false,"isSQL92":true}
2025-10-03 21:23:21.945 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: ✅ Security pragma set
2025-10-03 21:23:21.945 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: 📊 Creating tables in encrypted database...
2025-10-03 21:23:21.975 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251297, pluginId: CapacitorSQLite, methodName: execute
2025-10-03 21:23:21.976 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251297, pluginId: CapacitorSQLite, methodName: execute, methodData: {"database":"confessr_db","statements":"\n      CREATE TABLE IF NOT EXISTS messages (\n        id TEXT PRIMARY KEY,\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        content TEXT NOT NULL,\n        is_ghost INTEGER DEFAULT 0,\n        message_type TEXT DEFAULT 'text',\n        category TEXT,\n        parent_id TEXT,\n        image_url TEXT,\n        created_at INTEGER NOT NULL,\n        local_id INTEGER UNIQUE,\n        updated_at INTEGER,\n        deleted_at INTEGER\n      );\n\n      CREATE TABLE IF NOT EXISTS groups (\n        id TEXT PRIMARY KEY,\n        name TEXT NOT NULL,\n        description TEXT,\n        invite_code TEXT,\n        created_by TEXT NOT NULL,\n        created_at INTEGER NOT NULL,\n        last_sync_timestamp INTEGER DEFAULT 0,\n        avatar_url TEXT,\n        is_archived INTEGER DEFAULT 0\n      );\n\n      CREATE TABLE IF NOT EXISTS users (\n        id TEXT PRIMARY KEY,\n        display_name TEXT NOT NULL,\n        phone_number TEXT,\n        avatar_url TEXT,\n        is_onboarded INTEGER DEFAULT 0,\n        created_at INTEGER NOT NULL\n      );\n\n      CREATE TABLE IF NOT EXISTS outbox (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        content TEXT NOT NULL,\n        retry_count INTEGER DEFAULT 0,\n        next_retry_at INTEGER NOT NULL,\n        message_type TEXT DEFAULT 'text',\n        category TEXT,\n        parent_id TEXT,\n        image_url TEXT,\n        is_ghost INTEGER DEFAULT 0\n      );\n\n      CREATE TABLE IF NOT EXISTS sync_state (\n        key TEXT PRIMARY KEY,\n        value TEXT NOT NULL\n      );\n\n      \/* Polls table *\/\n      CREATE TABLE IF NOT EXISTS polls (\n        id TEXT PRIMARY KEY,\n        message_id TEXT NOT NULL,\n        question TEXT NOT NULL,\n        options TEXT NOT NULL, -- JSON string\n        created_at INTEGER NOT NULL,\n        closes_at INTEGER NOT NULL,\n        created_by TEXT NOT NULL,\n        FOREIGN KEY (message_id) REFERENCES messages(id)\n      );\n\n      \/* Poll votes table *\/\n      CREATE TABLE IF NOT EXISTS poll_votes (\n        poll_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        option_index INTEGER NOT NULL,\n        created_at INTEGER NOT NULL,\n        PRIMARY KEY (poll_id, user_id),\n        FOREIGN KEY (poll_id) REFERENCES polls(id)\n      );\n\n      \/* Reactions table *\/\n      CREATE TABLE IF NOT EXISTS reactions (\n        id TEXT PRIMARY KEY,\n        message_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        emoji TEXT NOT NULL,\n        created_at INTEGER NOT NULL,\n        FOREIGN KEY (message_id) REFERENCES messages(id)\n      );\n\n      \/* Group members table *\/\n      CREATE TABLE IF NOT EXISTS group_members (\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        role TEXT DEFAULT 'participant',\n        joined_at INTEGER NOT NULL,\n        last_read_at INTEGER DEFAULT 0,\n        last_read_message_id TEXT,\n        PRIMARY KEY (group_id, user_id),\n        FOREIGN KEY (group_id) REFERENCES groups(id),\n        FOREIGN KEY (user_id) REFERENCES users(id)\n      );\n\n      \/* User pseudonyms for ghost messages *\/\n      CREATE TABLE IF NOT EXISTS user_pseudonyms (\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        pseudonym TEXT NOT NULL,\n        created_at INTEGER NOT NULL,\n        PRIMARY KEY (group_id, user_id)\n      );\n\n      \/* Confessions table for confession messages *\/\n      CREATE TABLE IF NOT EXISTS confessions (\n        id TEXT PRIMARY KEY,\n        message_id TEXT NOT NULL,\n        confession_type TEXT NOT NULL,\n        is_anonymous INTEGER DEFAULT 1,\n        FOREIGN KEY (message_id) REFERENCES messages(id)\n      );\n\n      \/* indexes *\/\n      CREATE INDEX IF NOT EXISTS idx_msg_group_date_asc\n        ON messages(group_id, created_at ASC);\n      CREATE INDEX IF NOT EXISTS idx_msg_group_date_desc\n        ON
2025-10-03 21:23:22.066 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251298, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:22.066 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251298, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(messages);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:23:22.120 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:22.094 🗄️ upsert device token success
2025-10-03 21:23:22.120 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 2025-10-03T15:53:22.094Z token:registered android dFtsHt…
2025-10-03 21:23:22.146 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251299, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:22.146 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251299, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(messages);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:23:22.229 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251300, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:22.229 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251300, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(groups);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:23:22.316 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251301, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:22.316 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251301, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(groups);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:23:22.391 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251302, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:22.391 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251302, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(groups);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:23:22.441 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251303, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:22.441 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251303, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(groups);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:23:22.447 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251304, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:22.447 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251304, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(groups);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:23:22.513 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251305, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:22.513 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251305, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(groups);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:23:22.562 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251306, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:22.562 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251306, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(groups);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:23:22.631 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251307, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:22.631 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251307, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(users);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:23:22.695 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251308, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:22.695 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251308, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(users);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:23:22.736 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251309, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:22.736 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251309, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(users);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:23:22.801 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251310, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:22.802 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251310, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(group_members);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:23:22.873 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251311, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:22.873 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251311, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(group_members);","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:23:22.913 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 254 - Msg: ✅ Database migration completed
2025-10-03 21:23:22.913 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: ✅ Tables created in encrypted database
2025-10-03 21:23:22.913 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: ✅ Encrypted SQLite ready
2025-10-03 21:23:22.913 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 254 - Msg: 🧪 Testing local storage...
2025-10-03 21:23:22.937 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251312, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:23:22.937 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251312, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n        INSERT OR REPLACE INTO users (id, display_name, phone_number, avatar_url, is_onboarded, created_at)\n        VALUES (?, ?, ?, ?, ?, ?)\n      ","values":["test-user-id","Test User","+1234567890",null,1,1759506802892],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:23:22.984 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 257 - Msg: ✅ Test user saved
2025-10-03 21:23:23.001 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:22.985 📦 Outbox pre-check: sqliteReady after 1610ms
2025-10-03 21:23:23.002 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251313, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:23.002 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251313, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["test-user-id"],"readonly":false,"isSQL92":true}
2025-10-03 21:23:23.026 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251314, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:23.026 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251314, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759506802986],"readonly":false,"isSQL92":true}
2025-10-03 21:23:23.040 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 257 - Msg: 📋 Retrieved user: [object Object]
2025-10-03 21:23:23.040 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 257 - Msg: ✅ Local storage test passed! Data was successfully saved and retrieved.
2025-10-03 21:23:23.060 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:23.044 📦 No outbox messages to process; idle
2025-10-03 21:23:23.061 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251315, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:23:23.061 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251315, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n         (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["test-message-id","test-group-id","test-user-id","Test message content",0,"text",null,null,null,1759506803027,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:23:23.104 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 259 - Msg: ✅ Test message saved
2025-10-03 21:23:23.123 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251316, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:23.123 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251316, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM messages WHERE group_id = ? ORDER BY created_at ASC LIMIT 50 OFFSET 0","values":["test-group-id"],"readonly":false,"isSQL92":true}
2025-10-03 21:23:23.163 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 259 - Msg: 📋 Retrieved messages: [object Object]
2025-10-03 21:23:23.163 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 259 - Msg: ✅ Message storage test passed! Message was successfully saved and retrieved.
2025-10-03 21:23:23.163 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ SQLite initialized successfully
2025-10-03 21:23:23.163 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🌐 Network status monitoring handled centrally in main.tsx
2025-10-03 21:23:23.163 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 🎧 Setting up auth state listener...
2025-10-03 21:23:23.163 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:23.143 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:23:23.164 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 🔍 Initializing authentication...
2025-10-03 21:23:23.164 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:23.144 🔐 Attempting session recovery using cached tokens
2025-10-03 21:23:23.164 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:23.144 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:23:23.183 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 🔄 Auth state changed: INITIAL_SESSION 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-03 21:23:23.183 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 📡 Auth event: INITIAL_SESSION
2025-10-03 21:23:23.207 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:23.189 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-03 21:23:23.470 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:23.470 🔑 Token cached: user=839d1d4a hasAccess=true hasRefresh=true
2025-10-03 21:23:23.470 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Auth event: SIGNED_IN
2025-10-03 21:23:23.471 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Token applied; channel healthy, no reconnect
2025-10-03 21:23:23.471 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-03 21:23:23.471 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 🔄 Auth state changed: SIGNED_IN 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-03 21:23:23.471 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 🔄 User signed in (during init), letting initializeAuth handle it
2025-10-03 21:23:23.472 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:23.472 🔐 Session recovered successfully using cached tokens
2025-10-03 21:23:23.472 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 👤 Active session found for user: 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-03 21:23:23.497 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 🔄 Syncing user profile for: 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-03 21:23:23.513 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:23.499 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/users?select=*&id=eq.839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-03 21:23:23.860 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: ✅ User profile found and loaded
2025-10-03 21:23:23.860 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🎨 App render state: [object Object]
2025-10-03 21:23:23.860 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 🏁 Auth initialization complete
2025-10-03 21:23:23.862 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🚀 Starting outbox processor...
2025-10-03 21:23:23.863 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-03 21:23:23.863 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: processor-start (priority: immediate)
2025-10-03 21:23:23.863 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 0ms for: processor-start
2025-10-03 21:23:23.863 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🎨 App render state: [object Object]
2025-10-03 21:23:23.863 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Auth setup complete
2025-10-03 21:23:23.863 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:23.857 📦 Starting outbox processing - session outbox-1759506803857
2025-10-03 21:23:23.863 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:23.858 📦 Outbox pre-check: sqliteReady after 1ms
2025-10-03 21:23:23.892 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251317, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:23.892 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251317, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759506803858],"readonly":false,"isSQL92":true}
2025-10-03 21:23:23.911 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Loading groups from local storage first (local-first approach)
2025-10-03 21:23:23.913 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251318, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:23.913 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251318, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:23:23.933 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:23.932 📦 No outbox messages to process; idle
2025-10-03 21:23:23.934 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Found 7 groups in local storage
2025-10-03 21:23:23.934 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ✅ Loaded 7 groups from local storage
2025-10-03 21:23:23.993 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: auth-token-refreshed (priority: high)
2025-10-03 21:23:23.993 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: auth-token-refreshed
2025-10-03 21:23:23.994 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:23.994 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-03 21:23:24.003 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251319, pluginId: Network, methodName: getStatus
2025-10-03 21:23:24.003 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251319, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:23:24.006 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: � B ackground syncing groups with Supabase...
2025-10-03 21:23:24.006 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Fetching groups from Supabase...
2025-10-03 21:23:24.007 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:24.006 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:23:24.024 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:24.021 📦 Starting outbox processing - session outbox-1759506804021
2025-10-03 21:23:24.024 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:24.021 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:23:24.025 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251320, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:24.025 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251320, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759506804021],"readonly":false,"isSQL92":true}
2025-10-03 21:23:24.037 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:24.026 📦 No outbox messages to process; idle
2025-10-03 21:23:24.210 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:24.209 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-03 21:23:24.376 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:24.374 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/group_members?select=group_id&user_id=eq.839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-03 21:23:24.379 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:24.375 [38;5;159m[fetch][0m POST https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/rpc/get_all_unread_counts
2025-10-03 21:23:24.638 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:24.637 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/groups?select=*&id=in.%286af01500-2e15-490e-9077-316348aef93e%2C2e246d9c-356a-4fec-9022-108157fa391a%2C080c089f-e355-4ab7-a3b9-92bc9dd94f32%2Cfcf73372-c86c-4e53-ac3d-f28896ce1d30%2C78045bbf-7474-46df-aac1-f34936b67d24%2C87faebb0-0bf4-49c9-8119-8d56abe52be2%2Ce96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b%29
2025-10-03 21:23:24.879 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251321, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:23:24.879 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251321, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30","Dy Patil",null,"6E7RGJ","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1751445247708,1759506804876,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:23:24.893 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251322, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:23:24.893 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251322, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["87faebb0-0bf4-49c9-8119-8d56abe52be2","didi",null,"8KZ2QK","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1751450471719,1759506804891,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:23:24.907 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251323, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:23:24.907 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251323, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a","Hackathon Partners ❤️",null,"TP61XI","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1751995671920,1759506804905,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:23:24.917 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251324, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:23:24.918 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251324, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["080c089f-e355-4ab7-a3b9-92bc9dd94f32","New year",null,"QDPXM5","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1754296685816,1759506804915,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:23:24.928 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251325, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:23:24.929 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251325, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["6af01500-2e15-490e-9077-316348aef93e","Local tusker",null,"6S4CZQ","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1754296867925,1759506804926,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:23:24.940 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251326, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:23:24.941 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251326, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b","Test",null,"9QZ6KE","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1759333688718,1759506804938,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:23:24.952 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251327, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:23:24.952 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251327, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24","Tab",null,"2PUKD3","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5",1759333855926,1759506804948,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:23:24.961 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Synced 7 groups to local storage
2025-10-03 21:23:24.963 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251328, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:24.963 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251328, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:23:24.980 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ✅ UI updated with 7 synced groups
2025-10-03 21:23:24.990 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:24.988 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-03 21:23:25.174 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:25.173 [38;5;159m[fetch][0m POST https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/rpc/get_all_unread_counts
2025-10-03 21:23:34.686 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event pause
2025-10-03 21:23:34.686 13177-13177 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event pause
2025-10-03 21:23:34.690 13177-13177 Capacitor               com.confessr.app                     D  App paused
2025-10-03 21:23:34.760 13177-13177 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: false
2025-10-03 21:23:34.761 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-03 21:23:34.766 13177-13177 Capacitor               com.confessr.app                     D  App stopped
2025-10-03 21:23:34.779 13177-13177 Capacitor               com.confessr.app                     D  Saving instance state!
2025-10-03 21:23:34.787 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [device-lock] 15:53:34 📱 Device locked/app backgrounded
2025-10-03 21:23:34.788 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📱 App state changed: inactive
2025-10-03 21:23:34.789 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📱 App going to background/pause
2025-10-03 21:23:34.789 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [lifecycle] App paused - resetting outbox processing state
2025-10-03 21:23:34.790 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-03 21:23:58.177 13177-13177 Capacitor               com.confessr.app                     D  App restarted
2025-10-03 21:23:58.178 13177-13177 Capacitor               com.confessr.app                     D  App started
2025-10-03 21:23:58.181 13177-13177 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: true
2025-10-03 21:23:58.181 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-03 21:23:58.183 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event resume
2025-10-03 21:23:58.188 13177-13177 Capacitor               com.confessr.app                     D  App resumed
2025-10-03 21:23:58.196 13177-14953 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/reconnectionManager-DoMJZsZm.js
2025-10-03 21:23:58.207 13177-15006 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-03 21:23:58.220 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [device-lock] 15:53:58 🔓 Device unlocked after 23s (short lock)
2025-10-03 21:23:58.220 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:53:58 🔓 Device unlocked: short lock (23s)
2025-10-03 21:23:58.221 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📱 App state changed: active
2025-10-03 21:23:58.221 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [device-lifecycle] 15:53:58 ℹ️ App resume from appStateChange {"timeSinceLastResume":1759506838192,"source":"appStateChange"}
2025-10-03 21:23:58.221 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:58.197 📱 App resume detected - checking session state
2025-10-03 21:23:58.221 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:58.198 🔄 Recovering session using cached tokens...
2025-10-03 21:23:58.221 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:58.198 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:23:58.221 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:58.198 🔄 Starting background session refresh with cached tokens
2025-10-03 21:23:58.221 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:58.198 🔄 Using cached tokens to recover session
2025-10-03 21:23:58.222 13177-13177 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-03 21:23:58.222 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [device-lock] 15:53:58 App foreground event while not locked, treating as activity
2025-10-03 21:23:58.222 13177-13177 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-03 21:23:58.222 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: app-resume (priority: high)
2025-10-03 21:23:58.222 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: app-resume
2025-10-03 21:23:58.222 13177-13177 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-03 21:23:58.223 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [device-lifecycle] 15:53:58 ℹ️ App resume from resume {"timeSinceLastResume":9,"source":"resume"}
2025-10-03 21:23:58.223 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [device-lifecycle] 15:53:58 🔍 Resume debounced (too soon after last resume)
2025-10-03 21:23:58.265 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [network] 15:53:58 ℹ️ Network status: online {"isOnline":true,"connectionType":"wifi"}
2025-10-03 21:23:58.266 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [network] 15:53:58 ℹ️ Network reconnected
2025-10-03 21:23:58.266 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Network came online
2025-10-03 21:23:58.266 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Network online - triggering outbox processing only
2025-10-03 21:23:58.266 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: network-online (priority: high)
2025-10-03 21:23:58.266 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Coalescing trigger (debounced) from: network-online
2025-10-03 21:23:58.266 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: network-online
2025-10-03 21:23:58.310 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:58.304 🌐 Network reconnection detected - refreshing session
2025-10-03 21:23:58.310 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:58.304 🔄 Recovering session using cached tokens...
2025-10-03 21:23:58.311 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:58.304 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:23:58.311 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:58.305 🔄 Using cached tokens to recover session
2025-10-03 21:23:58.348 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:58.345 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-03 21:23:58.368 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:58.368 📦 Starting outbox processing - session outbox-1759506838368
2025-10-03 21:23:58.369 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:58.368 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:23:58.369 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251329, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:58.370 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251329, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759506838368],"readonly":false,"isSQL92":true}
2025-10-03 21:23:58.411 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 15:53:58 🧭 Triggers coalesced; assessing health - reason: device-unlock-short [cid=1759506838377-6diuvi]
2025-10-03 21:23:58.412 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:58.402 📦 No outbox messages to process; idle
2025-10-03 21:23:58.470 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:58.469 🔑 Token cached: user=839d1d4a hasAccess=true hasRefresh=true
2025-10-03 21:23:58.476 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Auth event: SIGNED_IN
2025-10-03 21:23:58.476 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Token applied; channel healthy, no reconnect
2025-10-03 21:23:58.476 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-03 21:23:58.477 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 🔄 Auth state changed: SIGNED_IN 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-03 21:23:58.477 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: ✅ User signed in (post-init), syncing profile...
2025-10-03 21:23:58.477 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 📝 Setting session: 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-03 21:23:58.477 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: 🔄 Syncing user profile for: 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-03 21:23:58.599 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 15:53:58 📱 Waiting for WebView readiness
2025-10-03 21:23:58.600 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview-lifecycle] 15:53:58 WebView already ready
2025-10-03 21:23:58.601 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 15:53:58 ✅ WebView is ready
2025-10-03 21:23:58.601 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 15:53:58 🔐 Validating SQLite encryption
2025-10-03 21:23:58.601 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: [sqlite-encryption] 15:53:58 🔓 Validating encryption key after device unlock
2025-10-03 21:23:58.601 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: [sqlite-encryption] 15:53:58 🔍 Validating SQLite encryption key accessibility
2025-10-03 21:23:58.602 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251330, pluginId: Preferences, methodName: set
2025-10-03 21:23:58.602 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251330, pluginId: Preferences, methodName: set, methodData: {"key":"sqlite_key_validation_test","value":"validation_1759506838601"}
2025-10-03 21:23:58.604 13177-13177 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-03 21:23:58.605 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251331, pluginId: Preferences, methodName: get
2025-10-03 21:23:58.605 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251331, pluginId: Preferences, methodName: get, methodData: {"key":"sqlite_key_validation_test"}
2025-10-03 21:23:58.607 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251332, pluginId: Preferences, methodName: remove
2025-10-03 21:23:58.607 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251332, pluginId: Preferences, methodName: remove, methodData: {"key":"sqlite_key_validation_test"}
2025-10-03 21:23:58.609 13177-13177 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-03 21:23:58.609 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251333, pluginId: Preferences, methodName: get
2025-10-03 21:23:58.609 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251333, pluginId: Preferences, methodName: get, methodData: {"key":"sqlite_encryption_key"}
2025-10-03 21:23:58.611 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: [sqlite-encryption] 15:53:58 ✅ Primary encryption key validation successful
2025-10-03 21:23:58.611 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 107 - Msg: [sqlite-encryption] 15:53:58 ✅ Encryption key accessible after unlock (primary, 10ms)
2025-10-03 21:23:58.612 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 15:53:58 ✅ SQLite encryption validated
2025-10-03 21:23:58.612 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 15:53:58 🌐 Checking network stability
2025-10-03 21:23:58.612 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 15:53:58 ✅ Network is stable
2025-10-03 21:23:58.612 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 15:53:58 ⚡ Fast path resume: assessing current channel
2025-10-03 21:23:58.612 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 15:53:58 Reconnection decision: reconnecting
2025-10-03 21:23:58.612 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 15:53:58 🔄 Starting WhatsApp-like reconnection sequence - reason: device-unlock-short [cid=1759506838377-6diuvi]
2025-10-03 21:23:58.612 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 15:53:58 🔗 Applying token to realtime client
2025-10-03 21:23:58.613 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:58.612 🔐 Attempting session recovery using cached tokens
2025-10-03 21:23:58.613 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:58.612 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:23:58.766 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 15:53:58 Reconnect debounced (393ms since last) - reason: network-online
2025-10-03 21:23:58.970 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: auth-token-refreshed (priority: high)
2025-10-03 21:23:58.971 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: auth-token-refreshed
2025-10-03 21:23:59.021 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:59.020 📦 Starting outbox processing - session outbox-1759506839020
2025-10-03 21:23:59.021 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:59.021 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:23:59.023 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251334, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:23:59.023 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251334, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759506839021],"readonly":false,"isSQL92":true}
2025-10-03 21:23:59.026 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:53:59.025 📦 No outbox messages to process; idle
2025-10-03 21:24:06.029 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=0
2025-10-03 21:24:06.030 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 💬 ChatArea: Opening chat for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b (Test)
2025-10-03 21:24:06.033 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Fetching messages for group: e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b (started at 15:54:06.031Z)
2025-10-03 21:24:06.048 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite ready check: true (16ms)
2025-10-03 21:24:06.048 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: MISS for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b
2025-10-03 21:24:06.048 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📦 Cache check completed in 0ms, found 0 messages
2025-10-03 21:24:06.048 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Loading from SQLite (started at 16ms from group open)
2025-10-03 21:24:06.049 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251335, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:24:06.049 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251335, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b",50],"readonly":false,"isSQL92":true}
2025-10-03 21:24:06.075 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite query completed in 24ms, got 11 messages
2025-10-03 21:24:06.075 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 11 messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b
2025-10-03 21:24:06.075 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=11, existing=0, optimistic=0, realtime=0, final=11
2025-10-03 21:24:06.075 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ✅ Loaded 11 recent messages and 0 polls from SQLite
2025-10-03 21:24:06.144 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=11
2025-10-03 21:24:06.164 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview] 15:54:06 ℹ️ Checking WebView readiness for realtime setup
2025-10-03 21:24:06.164 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview-lifecycle] 15:54:06 WebView already ready
2025-10-03 21:24:06.165 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:06.152 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:24:06.165 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Setting up simplified realtime subscription for group: e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b
2025-10-03 21:24:06.165 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [timing] 15:54:06 🔍 Started timing: realtime-setup {"groupId":"e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"}
2025-10-03 21:24:06.165 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Skipping blocking auth check; proceeding with local auth state
2025-10-03 21:24:06.165 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:06.153 🔐 Waiting for in-flight session request
2025-10-03 21:24:06.166 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251336, pluginId: Network, methodName: getStatus
2025-10-03 21:24:06.166 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251336, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:24:06.166 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251337, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:24:06.166 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251337, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-03 21:24:06.167 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251338, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:24:06.167 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251338, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-03 21:24:06.167 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251339, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:24:06.167 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251339, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-03 21:24:06.168 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251340, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:24:06.168 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251340, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-03 21:24:06.168 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251341, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:24:06.168 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251341, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-03 21:24:06.169 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251342, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:24:06.169 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251342, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-03 21:24:06.169 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251343, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:24:06.169 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251343, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-03 21:24:06.169 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251344, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:24:06.169 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251344, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-03 21:24:06.170 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251345, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:24:06.170 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251345, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-03 21:24:06.170 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251346, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:24:06.170 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251346, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-03 21:24:06.171 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251347, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:24:06.171 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251347, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-03 21:24:06.290 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Background: Fetching messages from Supabase (non-blocking)...
2025-10-03 21:24:06.290 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 💬 ChatArea: Messages loaded in 158.60ms
2025-10-03 21:24:06.290 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Loading remaining messages in background...
2025-10-03 21:24:06.321 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251348, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:24:06.321 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251348, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b",50],"readonly":false,"isSQL92":true}
2025-10-03 21:24:07.970 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:07.953 🔄 Recovering session using cached tokens...
2025-10-03 21:24:07.971 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:07.954 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:24:07.971 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:07.954 🔄 Using cached tokens to recover session
2025-10-03 21:24:08.112 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Marking group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b as read, lastMessageId=1759502540400-7y038ne79l
2025-10-03 21:24:08.112 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Marked group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b as read up to message 1759502540400-7y038ne79l
2025-10-03 21:24:08.227 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:08.206 🔄 Token recovery timed out after 10s
2025-10-03 21:24:08.227 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:08.206 ⚠️ App resume: token recovery failed, session may need refresh
2025-10-03 21:24:08.228 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:08.206 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:24:08.228 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:08.206 ✅ App resume: token applied to realtime
2025-10-03 21:24:08.228 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:08.206 📦 Triggering outbox processing from: app-resume
2025-10-03 21:24:08.228 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:08.207 ✅ App resume completed using token recovery strategy
2025-10-03 21:24:08.229 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [general] 15:54:08 ℹ️ Triggered outbox processing on app resume
2025-10-03 21:24:08.229 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [device-lifecycle] 15:54:08 ℹ️ App resume processed from appStateChange
2025-10-03 21:24:08.230 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:08.209 📦 Starting outbox processing - session outbox-1759506848209
2025-10-03 21:24:08.231 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:08.209 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:24:08.248 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251349, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:24:08.249 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251349, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759506848209],"readonly":false,"isSQL92":true}
2025-10-03 21:24:08.283 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:08.270 📦 No outbox messages to process; idle
2025-10-03 21:24:08.312 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:08.305 🔄 Token recovery timed out after 10s
2025-10-03 21:24:08.313 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:08.305 📦 Trigger coalesced (debounced 300ms) from: network-reconnect
2025-10-03 21:24:08.314 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:08.305 ✅ Network reconnect session refresh completed
2025-10-03 21:24:09.766 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:24:09.863 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:54:09 📊 Status: connecting -  
2025-10-03 21:24:09.864 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 15:54:09 ℹ️ Connection status: connecting -  {"isUserVisible":false}
2025-10-03 21:24:09.864 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Creating channel: group-e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b-1759506849763-hlm1vmh68i
2025-10-03 21:24:11.046 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Subscription status: SUBSCRIBED
2025-10-03 21:24:11.047 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ✅ Realtime connected successfully
2025-10-03 21:24:11.123 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:54:11 📊 Status: connected -  
2025-10-03 21:24:11.124 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 15:54:11 ℹ️ Connection status: connected -  {"isUserVisible":false}
2025-10-03 21:24:12.110 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: realtime-connected (priority: normal)
2025-10-03 21:24:12.110 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 75ms for: realtime-connected
2025-10-03 21:24:12.185 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:12.184 📦 Starting outbox processing - session outbox-1759506852184
2025-10-03 21:24:12.185 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:12.184 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:24:12.189 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251350, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:24:12.189 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251350, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759506852184],"readonly":false,"isSQL92":true}
2025-10-03 21:24:12.194 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:12.193 📦 No outbox messages to process; idle
2025-10-03 21:24:14.767 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⏭️ Skipping cleanup - channel still active (state: joined)
2025-10-03 21:24:15.176 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event backButton
2025-10-03 21:24:15.185 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:24:15.213 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:24:15.224 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Loading groups from local storage first (local-first approach)
2025-10-03 21:24:15.225 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251351, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:24:15.225 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251351, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:24:15.242 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Found 7 groups in local storage
2025-10-03 21:24:15.242 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ✅ Loaded 7 groups from local storage
2025-10-03 21:24:15.253 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251352, pluginId: Network, methodName: getStatus
2025-10-03 21:24:15.253 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251352, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:24:15.259 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: � B ackground syncing groups with Supabase...
2025-10-03 21:24:15.259 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Fetching groups from Supabase...
2025-10-03 21:24:15.259 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:15.258 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:24:17.957 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:17.955 🔄 Token recovery timed out after 10s
2025-10-03 21:24:20.214 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⏭️ Skipping cleanup - channel still active (state: joined)
2025-10-03 21:24:21.270 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event pause
2025-10-03 21:24:21.270 13177-13177 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event pause
2025-10-03 21:24:21.272 13177-13177 Capacitor               com.confessr.app                     D  App paused
2025-10-03 21:24:21.869 13177-13177 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: false
2025-10-03 21:24:21.869 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-03 21:24:21.869 13177-13177 Capacitor               com.confessr.app                     D  App stopped
2025-10-03 21:24:21.879 13177-13177 Capacitor               com.confessr.app                     D  Saving instance state!
2025-10-03 21:24:21.879 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [device-lock] 15:54:21 📱 Device locked/app backgrounded
2025-10-03 21:24:21.880 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📱 App state changed: inactive
2025-10-03 21:24:21.880 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📱 App going to background/pause
2025-10-03 21:24:21.880 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [lifecycle] App paused - resetting outbox processing state
2025-10-03 21:24:21.880 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-03 21:24:57.133 13177-13177 Capacitor               com.confessr.app                     D  App restarted
2025-10-03 21:24:57.134 13177-13177 Capacitor               com.confessr.app                     D  App started
2025-10-03 21:24:57.136 13177-13177 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: true
2025-10-03 21:24:57.136 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-03 21:24:57.136 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event resume
2025-10-03 21:24:57.139 13177-13177 Capacitor               com.confessr.app                     D  App resumed
2025-10-03 21:24:57.162 13177-15006 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-03 21:24:57.189 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [device-lock] 15:54:57 🔓 Device unlocked after 35s (short lock)
2025-10-03 21:24:57.189 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:54:57 🔓 Device unlocked: short lock (35s)
2025-10-03 21:24:57.189 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📱 App state changed: active
2025-10-03 21:24:57.189 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [device-lifecycle] 15:54:57 ℹ️ App resume from appStateChange {"timeSinceLastResume":58964,"source":"appStateChange"}
2025-10-03 21:24:57.190 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:57.156 📱 App resume detected - checking session state
2025-10-03 21:24:57.190 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:57.156 🔄 Recovering session using cached tokens...
2025-10-03 21:24:57.190 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:57.156 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:24:57.190 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:57.156 🔄 Starting background session refresh with cached tokens
2025-10-03 21:24:57.190 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:57.156 🔄 Using cached tokens to recover session
2025-10-03 21:24:57.190 13177-13177 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-03 21:24:57.190 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [device-lock] 15:54:57 App foreground event while not locked, treating as activity
2025-10-03 21:24:57.190 13177-13177 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-03 21:24:57.191 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: app-resume (priority: high)
2025-10-03 21:24:57.191 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: app-resume
2025-10-03 21:24:57.191 13177-13177 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-03 21:24:57.191 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [device-lifecycle] 15:54:57 ℹ️ App resume from resume {"timeSinceLastResume":1,"source":"resume"}
2025-10-03 21:24:57.191 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [device-lifecycle] 15:54:57 🔍 Resume debounced (too soon after last resume)
2025-10-03 21:24:57.191 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 15:54:57 Reconnect already in progress, waiting - reason: device-unlock-short
2025-10-03 21:24:57.212 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [network] 15:54:57 ℹ️ Network status: online {"isOnline":true,"connectionType":"wifi"}
2025-10-03 21:24:57.227 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [network] 15:54:57 ℹ️ Network reconnected
2025-10-03 21:24:57.227 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Network came online
2025-10-03 21:24:57.228 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Network online - triggering outbox processing only
2025-10-03 21:24:57.228 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: network-online (priority: high)
2025-10-03 21:24:57.228 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Coalescing trigger (debounced) from: network-online
2025-10-03 21:24:57.228 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: network-online
2025-10-03 21:24:57.240 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:57.237 🌐 Network reconnection detected - refreshing session
2025-10-03 21:24:57.240 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:57.237 🔄 Recovering session using cached tokens...
2025-10-03 21:24:57.241 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:57.238 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:24:57.241 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:57.238 🔄 Using cached tokens to recover session
2025-10-03 21:24:57.267 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:57.266 📦 Starting outbox processing - session outbox-1759506897266
2025-10-03 21:24:57.268 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:57.267 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:24:57.268 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251353, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:24:57.269 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251353, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759506897267],"readonly":false,"isSQL92":true}
2025-10-03 21:24:57.275 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:54:57.272 📦 No outbox messages to process; idle
2025-10-03 21:24:57.717 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 15:54:57 Reconnect already in progress, waiting - reason: network-online
2025-10-03 21:25:07.160 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:07.157 🔄 Token recovery timed out after 10s
2025-10-03 21:25:07.161 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:07.157 ⚠️ App resume: token recovery failed, session may need refresh
2025-10-03 21:25:07.162 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:07.158 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:25:07.163 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:07.158 ✅ App resume: token applied to realtime
2025-10-03 21:25:07.164 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:07.158 📦 Triggering outbox processing from: app-resume
2025-10-03 21:25:07.165 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:07.159 ✅ App resume completed using token recovery strategy
2025-10-03 21:25:07.165 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [general] 15:55:07 ℹ️ Triggered outbox processing on app resume
2025-10-03 21:25:07.166 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [device-lifecycle] 15:55:07 ℹ️ App resume processed from appStateChange
2025-10-03 21:25:07.167 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:07.160 📦 Starting outbox processing - session outbox-1759506907160
2025-10-03 21:25:07.168 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:07.160 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:25:07.174 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251354, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:07.175 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251354, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759506907160],"readonly":false,"isSQL92":true}
2025-10-03 21:25:07.197 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:07.194 📦 No outbox messages to process; idle
2025-10-03 21:25:07.241 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:07.238 🔄 Token recovery timed out after 10s
2025-10-03 21:25:07.242 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:07.239 📦 Trigger coalesced (debounced 300ms) from: network-reconnect
2025-10-03 21:25:07.243 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:07.239 ✅ Network reconnect session refresh completed
2025-10-03 21:25:07.839 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=0
2025-10-03 21:25:07.842 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 💬 ChatArea: Opening chat for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b (Test)
2025-10-03 21:25:07.843 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Fetching messages for group: e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b (started at 15:55:07.836Z)
2025-10-03 21:25:07.863 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite ready check: true (25ms)
2025-10-03 21:25:07.864 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: HIT for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b (11 messages)
2025-10-03 21:25:07.864 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📦 Cache check completed in 0ms, found 11 messages
2025-10-03 21:25:07.864 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⚡ INSTANT: Loading messages from in-memory cache
2025-10-03 21:25:07.865 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=11, existing=0, optimistic=0, realtime=0, final=11
2025-10-03 21:25:07.865 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⚡ INSTANT: Displayed 11 cached messages instantly
2025-10-03 21:25:07.865 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Background refresh from SQLite (started at 27ms from group open)
2025-10-03 21:25:07.908 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=11
2025-10-03 21:25:07.911 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251355, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:07.911 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251355, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b",50],"readonly":false,"isSQL92":true}
2025-10-03 21:25:07.960 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite query completed in 96ms, got 11 messages
2025-10-03 21:25:07.961 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 11 messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b
2025-10-03 21:25:07.961 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=11, existing=11, optimistic=0, realtime=0, final=11
2025-10-03 21:25:07.961 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Background: Updated UI with 11 fresh messages from SQLite
2025-10-03 21:25:08.178 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview] 15:55:07 ℹ️ Checking WebView readiness for realtime setup
2025-10-03 21:25:08.179 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview-lifecycle] 15:55:07 WebView already ready
2025-10-03 21:25:08.179 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:07.995 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:25:08.179 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Setting up simplified realtime subscription for group: e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b
2025-10-03 21:25:08.179 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [timing] 15:55:07 🔍 Started timing: realtime-setup {"groupId":"e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"}
2025-10-03 21:25:08.180 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Skipping blocking auth check; proceeding with local auth state
2025-10-03 21:25:08.180 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:07.995 🔐 Waiting for in-flight session request
2025-10-03 21:25:08.180 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Background: Refreshing messages from SQLite to ensure cache is current
2025-10-03 21:25:08.180 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Loading remaining messages in background...
2025-10-03 21:25:08.237 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251356, pluginId: Network, methodName: getStatus
2025-10-03 21:25:08.237 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251356, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:25:08.238 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251357, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:08.238 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251357, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b",50],"readonly":false,"isSQL92":true}
2025-10-03 21:25:08.389 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Background: Fetching messages from Supabase (non-blocking)...
2025-10-03 21:25:08.390 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 💬 ChatArea: Messages loaded in 510.80ms
2025-10-03 21:25:09.799 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:09.796 🔄 Recovering session using cached tokens...
2025-10-03 21:25:09.800 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:09.797 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:25:09.801 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:09.797 🔄 Using cached tokens to recover session
2025-10-03 21:25:10.021 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Marking group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b as read, lastMessageId=1759502540400-7y038ne79l
2025-10-03 21:25:10.021 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Marked group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b as read up to message 1759502540400-7y038ne79l
2025-10-03 21:25:11.621 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:25:11.728 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:55:11 📊 Status: connecting -  
2025-10-03 21:25:11.729 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 15:55:11 ℹ️ Connection status: connecting -  {"isUserVisible":false}
2025-10-03 21:25:11.730 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Creating channel: group-e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b-1759506911597-vvkd7jn5kel
2025-10-03 21:25:11.863 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Subscription status: SUBSCRIBED
2025-10-03 21:25:11.864 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ✅ Realtime connected successfully
2025-10-03 21:25:11.911 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:55:11 📊 Status: connected -  
2025-10-03 21:25:11.912 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 15:55:11 ℹ️ Connection status: connected -  {"isUserVisible":false}
2025-10-03 21:25:12.881 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: realtime-connected (priority: normal)
2025-10-03 21:25:12.883 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 75ms for: realtime-connected
2025-10-03 21:25:12.961 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:12.955 📦 Starting outbox processing - session outbox-1759506912955
2025-10-03 21:25:12.962 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:12.955 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:25:12.967 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251358, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:12.968 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251358, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759506912955],"readonly":false,"isSQL92":true}
2025-10-03 21:25:12.979 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:12.976 📦 No outbox messages to process; idle
2025-10-03 21:25:15.996 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillShow
2025-10-03 21:25:15.996 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillShow
2025-10-03 21:25:16.305 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidShow
2025-10-03 21:25:16.305 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidShow
2025-10-03 21:25:16.601 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⏭️ Skipping cleanup - channel still active (state: joined)
2025-10-03 21:25:18.738 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📤 Send button clicked, processing message... [object Object]
2025-10-03 21:25:18.744 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📤 About to send message: [object Object]
2025-10-03 21:25:18.744 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📤 sendMessage called: [object Object]
2025-10-03 21:25:18.744 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Message dispatched, clearing input
2025-10-03 21:25:18.750 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251359, pluginId: Network, methodName: getStatus
2025-10-03 21:25:18.750 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251359, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:25:18.757 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 🌐 Network status: [object Object]
2025-10-03 21:25:18.813 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=12
2025-10-03 21:25:18.836 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251360, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:25:18.836 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251360, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["1759506918756-ygqfqdbxox","e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b","839d1d4a-e72b-47bb-b74e-ef28a15f43ee","Other",1,"text",null,null,null,1759506918757,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:25:18.928 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.914 📤 Sending message 1759506918756-ygqfqdbxox...
2025-10-03 21:25:18.928 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.916 [send-1759506918756-ygqfqdbxox] stage: entered send
2025-10-03 21:25:18.929 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.916 [send-1759506918756-ygqfqdbxox] input: group=e96c7e8d user=839d1d4a ghost=true type=text dedupe=true
2025-10-03 21:25:18.929 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.916 [send-1759506918756-ygqfqdbxox] checkHealth() -> start
2025-10-03 21:25:18.944 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251361, pluginId: Network, methodName: getStatus
2025-10-03 21:25:18.945 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251361, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:25:18.982 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.961 🌐 Network state: online=true webViewReady=true type=wifi
2025-10-03 21:25:18.982 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.961 🏥 Health check: starting (online=true webViewReady=true)
2025-10-03 21:25:18.982 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.961 🏥 Health check: using cached access token (healthy)
2025-10-03 21:25:18.982 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.961 [send-1759506918756-ygqfqdbxox] checkHealth() -> healthy
2025-10-03 21:25:18.982 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.961 [send-1759506918756-ygqfqdbxox] stage: health ok
2025-10-03 21:25:18.982 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.961 📤 Direct send attempt 1/3 - message 1759506918756-ygqfqdbxox
2025-10-03 21:25:18.983 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.961 [send-1759506918756-ygqfqdbxox] stage: pre-network
2025-10-03 21:25:18.983 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.962 [send-1759506918756-ygqfqdbxox] pre-network: acquiring full client (≤10000ms)
2025-10-03 21:25:18.983 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.962 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:25:18.983 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.962 [send-1759506918756-ygqfqdbxox] using full client
2025-10-03 21:25:18.983 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.962 [send-1759506918756-ygqfqdbxox] auth: using cached token snapshot=true
2025-10-03 21:25:18.983 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.962 [send-1759506918756-ygqfqdbxox] postgrest present=true hasAuthFn=false
2025-10-03 21:25:18.983 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.962 [send-1759506918756-ygqfqdbxox] fast-path: using direct REST upsert (snapshot token)
2025-10-03 21:25:18.984 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.962 [send-1759506918756-ygqfqdbxox] stage: network attempt started (path=rest)
2025-10-03 21:25:18.984 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.962 [send-1759506918756-ygqfqdbxox] POST /messages (fast-path)
2025-10-03 21:25:18.984 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.962 [send-1759506918756-ygqfqdbxox] stage: pre-network
2025-10-03 21:25:18.984 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.962 [send-1759506918756-ygqfqdbxox] fast-path: direct REST upsert -> https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?on_conflict=dedupe_key&select=*,reactions(*),users!messages_user_id_fkey(display_name,avatar_url)
2025-10-03 21:25:18.984 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.962 [send-1759506918756-ygqfqdbxox] POST /messages (fast-path)
2025-10-03 21:25:18.984 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:18.962 [send-1759506918756-ygqfqdbxox] stage: network attempt started (path=rest)
2025-10-03 21:25:19.832 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:19.806 🔄 Token recovery timed out after 10s
2025-10-03 21:25:19.868 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:19.857 [send-1759506918756-ygqfqdbxox] fast-path: direct REST upsert successful (server ID: 6fc08ece-703e-41e5-b233-2cd3d60aa526)
2025-10-03 21:25:19.869 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:19.858 [send-1759506918756-ygqfqdbxox] stage: response received
2025-10-03 21:25:19.869 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:19.858 ✅ Direct send successful - message 1759506918756-ygqfqdbxox (server ID: 6fc08ece-703e-41e5-b233-2cd3d60aa526)
2025-10-03 21:25:19.870 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:19.859 [TERMINAL] DIRECT_SUCCESS id=1759506918756-ygqfqdbxox ts=2025-10-03T15:55:19.859Z
2025-10-03 21:25:19.870 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 357 - Msg: [send-1759506918756-ygqfqdbxox] attempt-1: 897.72607421875 ms
2025-10-03 21:25:19.871 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:19.864 ✅ Message 1759506918756-ygqfqdbxox sent successfully (server ID: 6fc08ece-703e-41e5-b233-2cd3d60aa526)
2025-10-03 21:25:19.872 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:19.864 [supabase-pipeline] push-fanout call: origin=https://localhost headers=[Content-Type,apikey,Authorization]
2025-10-03 21:25:19.872 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:19.864 [supabase-pipeline] 🔑 Using server message ID for FCM: 6fc08ece-703e-41e5-b233-2cd3d60aa526 (optimistic was: 1759506918756-ygqfqdbxox)
2025-10-03 21:25:20.109 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⚠️ Ignoring stale realtime INSERT (token mismatch)
2025-10-03 21:25:20.110 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Realtime INSERT received: id=6fc08ece-703e-41e5-b233-2cd3d60aa526, content="Other...", user=839d1d4a-e72b-47bb-b74e-ef28a15f43ee, dedupe=d:839d1d4a-e72b-47bb-b74e-ef28a15f43ee:e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b:1759506918756-ygqfqdbxox
2025-10-03 21:25:20.174 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Built message from row: id=6fc08ece-703e-41e5-b233-2cd3d60aa526, delivery_status=delivered
2025-10-03 21:25:20.189 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📨 attachMessageToState: action=replaced-by-dedupe, id=6fc08ece-703e-41e5-b233-2cd3d60aa526, oldId=1759506918756-ygqfqdbxox, before=12, after=12
2025-10-03 21:25:20.189 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 12 messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b
2025-10-03 21:25:20.190 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📦 MessageCache updated for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b after realtime insert (12 messages)
2025-10-03 21:25:20.190 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message attached to state: id=6fc08ece-703e-41e5-b233-2cd3d60aa526
2025-10-03 21:25:20.237 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251362, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:25:20.238 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251362, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["6fc08ece-703e-41e5-b233-2cd3d60aa526","e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b","839d1d4a-e72b-47bb-b74e-ef28a15f43ee","Other",1,"text",null,null,null,1759506919738,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:25:20.240 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251363, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:25:20.240 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251363, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"DELETE FROM messages WHERE id = ?","values":["1759506918756-ygqfqdbxox"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:25:20.258 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message persisted to SQLite: id=6fc08ece-703e-41e5-b233-2cd3d60aa526
2025-10-03 21:25:20.261 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251364, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:25:20.262 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251364, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759506920257,"e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:25:20.280 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 284 - Msg: 🗑️ Deleted message: 1759506918756-ygqfqdbxox
2025-10-03 21:25:20.281 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 🗑️ Deleted old optimistic message from SQLite: 1759506918756-ygqfqdbxox (replaced by server message: 6fc08ece-703e-41e5-b233-2cd3d60aa526)
2025-10-03 21:25:20.625 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:20.623 [supabase-pipeline] push-fanout response: status=200
2025-10-03 21:25:20.628 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 357 - Msg: [send-1759506918756-ygqfqdbxox] total: 1709.3740234375 ms
2025-10-03 21:25:20.629 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:20.626 [send-1759506918756-ygqfqdbxox] finished
2025-10-03 21:25:22.691 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Marking group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b as read, lastMessageId=6fc08ece-703e-41e5-b233-2cd3d60aa526
2025-10-03 21:25:22.692 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Marked group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b as read up to message 6fc08ece-703e-41e5-b233-2cd3d60aa526
2025-10-03 21:25:24.646 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:25:24.703 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillHide
2025-10-03 21:25:24.703 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillHide
2025-10-03 21:25:24.708 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:25:24.708 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Loading groups from local storage first (local-first approach)
2025-10-03 21:25:24.727 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251365, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:24.728 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251365, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:25:24.750 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Found 7 groups in local storage
2025-10-03 21:25:24.751 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ✅ Loaded 7 groups from local storage
2025-10-03 21:25:24.755 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251366, pluginId: Network, methodName: getStatus
2025-10-03 21:25:24.755 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251366, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:25:24.758 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: � B ackground syncing groups with Supabase...
2025-10-03 21:25:24.758 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Fetching groups from Supabase...
2025-10-03 21:25:24.759 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:24.758 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:25:25.002 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidHide
2025-10-03 21:25:25.002 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidHide
2025-10-03 21:25:29.699 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⏭️ Skipping cleanup - channel still active (state: joined)
2025-10-03 21:25:42.593 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=0
2025-10-03 21:25:42.594 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 💬 ChatArea: Opening chat for group 78045bbf-7474-46df-aac1-f34936b67d24 (Tab)
2025-10-03 21:25:42.594 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Fetching messages for group: 78045bbf-7474-46df-aac1-f34936b67d24 (started at 15:55:42.594Z)
2025-10-03 21:25:42.607 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite ready check: true (12ms)
2025-10-03 21:25:42.607 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: MISS for group 78045bbf-7474-46df-aac1-f34936b67d24
2025-10-03 21:25:42.607 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📦 Cache check completed in 0ms, found 0 messages
2025-10-03 21:25:42.608 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Loading from SQLite (started at 12ms from group open)
2025-10-03 21:25:42.608 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251367, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.608 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251367, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24",50],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.632 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite query completed in 25ms, got 50 messages
2025-10-03 21:25:42.633 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251368, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.633 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251368, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["7bef8c3e-cd57-47be-bcd7-0d9edecad2a5"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.642 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group 78045bbf-7474-46df-aac1-f34936b67d24
2025-10-03 21:25:42.642 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=50, existing=0, optimistic=0, realtime=0, final=50
2025-10-03 21:25:42.642 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ✅ Loaded 50 recent messages and 0 polls from SQLite
2025-10-03 21:25:42.740 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=50
2025-10-03 21:25:42.766 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251369, pluginId: Network, methodName: getStatus
2025-10-03 21:25:42.766 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251369, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:25:42.767 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251370, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.767 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251370, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.767 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251371, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.767 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251371, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.768 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251372, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.768 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251372, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.768 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251373, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.768 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251373, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.768 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251374, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.768 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251374, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.769 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251375, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.769 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251375, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.769 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251376, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.769 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251376, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.770 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251377, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.770 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251377, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.771 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251378, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.771 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251378, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.771 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251379, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.771 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251379, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.772 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251380, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.772 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251380, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.772 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251381, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.772 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251381, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.772 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251382, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.772 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251382, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.773 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251383, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.773 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251383, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.773 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251384, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.773 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251384, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.773 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251385, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.773 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251385, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.774 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251386, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.774 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251386, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.774 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251387, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.774 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251387, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.775 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251388, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.775 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251388, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.775 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251389, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.775 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251389, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.775 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251390, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.775 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251390, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.775 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251391, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.775 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251391, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.776 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251392, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.776 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251392, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.776 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251393, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.776 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251393, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.776 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251394, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.776 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251394, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.777 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251395, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.777 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251395, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.777 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251396, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.777 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251396, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.778 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251397, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.778 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251397, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.778 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251398, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.778 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251398, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.779 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251399, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.779 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251399, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.779 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251400, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.779 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251400, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.779 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251401, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.779 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251401, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.780 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251402, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.780 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251402, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.780 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251403, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.780 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251403, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.780 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251404, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.780 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251404, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.781 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251405, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.781 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251405, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.781 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251406, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.781 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251406, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.781 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251407, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.782 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251407, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.782 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251408, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.782 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251408, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.782 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251409, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.782 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251409, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.783 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251410, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.783 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251410, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.783 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251411, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.783 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251411, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.783 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251412, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.783 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251412, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.784 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251413, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:42.784 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251413, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-03 21:25:42.972 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview] 15:55:42 ℹ️ Checking WebView readiness for realtime setup
2025-10-03 21:25:42.972 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview-lifecycle] 15:55:42 WebView already ready
2025-10-03 21:25:42.972 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:42.918 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:25:42.972 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:42.918 🔄 Starting background session refresh with cached tokens
2025-10-03 21:25:42.972 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Setting up simplified realtime subscription for group: 78045bbf-7474-46df-aac1-f34936b67d24
2025-10-03 21:25:42.972 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [timing] 15:55:42 🔍 Started timing: realtime-setup {"groupId":"78045bbf-7474-46df-aac1-f34936b67d24"}
2025-10-03 21:25:42.972 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Skipping blocking auth check; proceeding with local auth state
2025-10-03 21:25:42.972 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:42.919 🔐 Waiting for in-flight session request
2025-10-03 21:25:43.056 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Loading remaining messages in background...
2025-10-03 21:25:43.056 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Background: Fetching messages from Supabase (non-blocking)...
2025-10-03 21:25:43.057 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 💬 ChatArea: Messages loaded in 431.60ms
2025-10-03 21:25:43.097 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251414, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:43.097 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251414, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24",50],"readonly":false,"isSQL92":true}
2025-10-03 21:25:44.712 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Marking group 78045bbf-7474-46df-aac1-f34936b67d24 as read, lastMessageId=d1756163-1fd9-4355-93c5-e2da8113cbe3
2025-10-03 21:25:44.712 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Marked group 78045bbf-7474-46df-aac1-f34936b67d24 as read up to message d1756163-1fd9-4355-93c5-e2da8113cbe3
2025-10-03 21:25:44.737 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:44.719 🔄 Recovering session using cached tokens...
2025-10-03 21:25:44.737 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:44.719 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:25:44.737 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:44.719 🔄 Using cached tokens to recover session
2025-10-03 21:25:46.538 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:25:46.630 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:55:46 📊 Status: connecting -  
2025-10-03 21:25:46.631 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 15:55:46 ℹ️ Connection status: connecting -  {"isUserVisible":false}
2025-10-03 21:25:46.632 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Creating channel: group-78045bbf-7474-46df-aac1-f34936b67d24-1759506946519-dr1i3odlslv
2025-10-03 21:25:46.893 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Subscription status: SUBSCRIBED
2025-10-03 21:25:46.894 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ✅ Realtime connected successfully
2025-10-03 21:25:46.985 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:55:46 📊 Status: connected -  
2025-10-03 21:25:46.985 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 15:55:46 ℹ️ Connection status: connected -  {"isUserVisible":false}
2025-10-03 21:25:47.964 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: realtime-connected (priority: normal)
2025-10-03 21:25:47.964 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 75ms for: realtime-connected
2025-10-03 21:25:48.039 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:48.038 📦 Starting outbox processing - session outbox-1759506948038
2025-10-03 21:25:48.040 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:48.038 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:25:48.042 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251415, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:25:48.042 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251415, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759506948038],"readonly":false,"isSQL92":true}
2025-10-03 21:25:48.046 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:48.045 📦 No outbox messages to process; idle
2025-10-03 21:25:51.526 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⏭️ Skipping cleanup - channel still active (state: joined)
2025-10-03 21:25:54.722 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:55:54.720 🔄 Token recovery timed out after 10s
2025-10-03 21:26:17.284 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillShow
2025-10-03 21:26:17.284 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillShow
2025-10-03 21:26:17.586 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidShow
2025-10-03 21:26:17.586 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidShow
2025-10-03 21:26:19.101 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📤 Send button clicked, processing message... [object Object]
2025-10-03 21:26:19.106 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📤 About to send message: [object Object]
2025-10-03 21:26:19.106 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📤 sendMessage called: [object Object]
2025-10-03 21:26:19.106 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Message dispatched, clearing input
2025-10-03 21:26:19.109 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251416, pluginId: Network, methodName: getStatus
2025-10-03 21:26:19.109 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251416, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:26:19.132 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 🌐 Network status: [object Object]
2025-10-03 21:26:19.184 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=51
2025-10-03 21:26:19.287 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251417, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:26:19.288 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251417, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["1759506979130-b4i5ja7vtvn","78045bbf-7474-46df-aac1-f34936b67d24","839d1d4a-e72b-47bb-b74e-ef28a15f43ee","Uditxkg",1,"text",null,null,null,1759506979130,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:26:19.341 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.337 📤 Sending message 1759506979130-b4i5ja7vtvn...
2025-10-03 21:26:19.341 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.337 [send-1759506979130-b4i5ja7vtvn] stage: entered send
2025-10-03 21:26:19.341 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.337 [send-1759506979130-b4i5ja7vtvn] input: group=78045bbf user=839d1d4a ghost=true type=text dedupe=true
2025-10-03 21:26:19.342 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.337 [send-1759506979130-b4i5ja7vtvn] checkHealth() -> start
2025-10-03 21:26:19.353 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251418, pluginId: Network, methodName: getStatus
2025-10-03 21:26:19.353 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251418, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:26:19.520 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.513 🌐 Network state: online=true webViewReady=true type=wifi
2025-10-03 21:26:19.520 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.513 🏥 Health check: starting (online=true webViewReady=true)
2025-10-03 21:26:19.520 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.513 🏥 Health check: using cached access token (healthy)
2025-10-03 21:26:19.520 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.513 [send-1759506979130-b4i5ja7vtvn] checkHealth() -> healthy
2025-10-03 21:26:19.520 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.513 [send-1759506979130-b4i5ja7vtvn] stage: health ok
2025-10-03 21:26:19.520 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.513 📤 Direct send attempt 1/3 - message 1759506979130-b4i5ja7vtvn
2025-10-03 21:26:19.520 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.513 [send-1759506979130-b4i5ja7vtvn] stage: pre-network
2025-10-03 21:26:19.521 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.513 [send-1759506979130-b4i5ja7vtvn] pre-network: acquiring full client (≤10000ms)
2025-10-03 21:26:19.521 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.513 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:26:19.521 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.513 🔄 Starting background session refresh with cached tokens
2025-10-03 21:26:19.521 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.513 [send-1759506979130-b4i5ja7vtvn] using full client
2025-10-03 21:26:19.521 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.514 [send-1759506979130-b4i5ja7vtvn] auth: using cached token snapshot=true
2025-10-03 21:26:19.521 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.514 [send-1759506979130-b4i5ja7vtvn] postgrest present=true hasAuthFn=false
2025-10-03 21:26:19.521 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.514 [send-1759506979130-b4i5ja7vtvn] fast-path: using direct REST upsert (snapshot token)
2025-10-03 21:26:19.521 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.514 [send-1759506979130-b4i5ja7vtvn] stage: network attempt started (path=rest)
2025-10-03 21:26:19.521 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.514 [send-1759506979130-b4i5ja7vtvn] POST /messages (fast-path)
2025-10-03 21:26:19.521 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.514 [send-1759506979130-b4i5ja7vtvn] stage: pre-network
2025-10-03 21:26:19.521 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.514 [send-1759506979130-b4i5ja7vtvn] fast-path: direct REST upsert -> https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?on_conflict=dedupe_key&select=*,reactions(*),users!messages_user_id_fkey(display_name,avatar_url)
2025-10-03 21:26:19.522 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.514 [send-1759506979130-b4i5ja7vtvn] POST /messages (fast-path)
2025-10-03 21:26:19.522 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:19.514 [send-1759506979130-b4i5ja7vtvn] stage: network attempt started (path=rest)
2025-10-03 21:26:20.060 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:20.057 [send-1759506979130-b4i5ja7vtvn] fast-path: direct REST upsert successful (server ID: 6d2984b1-f239-4a1f-8d11-bfdb1ddf352f)
2025-10-03 21:26:20.061 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:20.057 [send-1759506979130-b4i5ja7vtvn] stage: response received
2025-10-03 21:26:20.062 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:20.057 ✅ Direct send successful - message 1759506979130-b4i5ja7vtvn (server ID: 6d2984b1-f239-4a1f-8d11-bfdb1ddf352f)
2025-10-03 21:26:20.063 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:20.057 [TERMINAL] DIRECT_SUCCESS id=1759506979130-b4i5ja7vtvn ts=2025-10-03T15:56:20.057Z
2025-10-03 21:26:20.063 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 357 - Msg: [send-1759506979130-b4i5ja7vtvn] attempt-1: 544.236083984375 ms
2025-10-03 21:26:20.064 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:20.060 ✅ Message 1759506979130-b4i5ja7vtvn sent successfully (server ID: 6d2984b1-f239-4a1f-8d11-bfdb1ddf352f)
2025-10-03 21:26:20.065 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:20.062 [supabase-pipeline] push-fanout call: origin=https://localhost headers=[Content-Type,apikey,Authorization]
2025-10-03 21:26:20.066 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:20.062 [supabase-pipeline] 🔑 Using server message ID for FCM: 6d2984b1-f239-4a1f-8d11-bfdb1ddf352f (optimistic was: 1759506979130-b4i5ja7vtvn)
2025-10-03 21:26:20.300 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Realtime INSERT received: id=6d2984b1-f239-4a1f-8d11-bfdb1ddf352f, content="Uditxkg...", user=839d1d4a-e72b-47bb-b74e-ef28a15f43ee, dedupe=d:839d1d4a-e72b-47bb-b74e-ef28a15f43ee:78045bbf-7474-46df-aac1-f34936b67d24:1759506979130-b4i5ja7vtvn
2025-10-03 21:26:20.398 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Built message from row: id=6d2984b1-f239-4a1f-8d11-bfdb1ddf352f, delivery_status=delivered
2025-10-03 21:26:20.399 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📨 attachMessageToState: action=replaced-by-dedupe, id=6d2984b1-f239-4a1f-8d11-bfdb1ddf352f, oldId=1759506979130-b4i5ja7vtvn, before=51, after=51
2025-10-03 21:26:20.399 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group 78045bbf-7474-46df-aac1-f34936b67d24
2025-10-03 21:26:20.399 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📦 MessageCache updated for group 78045bbf-7474-46df-aac1-f34936b67d24 after realtime insert (51 messages)
2025-10-03 21:26:20.400 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message attached to state: id=6d2984b1-f239-4a1f-8d11-bfdb1ddf352f
2025-10-03 21:26:20.481 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251419, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:26:20.482 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251419, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["6d2984b1-f239-4a1f-8d11-bfdb1ddf352f","78045bbf-7474-46df-aac1-f34936b67d24","839d1d4a-e72b-47bb-b74e-ef28a15f43ee","Uditxkg",1,"text",null,null,null,1759506980070,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:26:20.484 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251420, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:26:20.485 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251420, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"DELETE FROM messages WHERE id = ?","values":["1759506979130-b4i5ja7vtvn"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:26:20.507 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message persisted to SQLite: id=6d2984b1-f239-4a1f-8d11-bfdb1ddf352f
2025-10-03 21:26:20.509 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251421, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:26:20.509 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251421, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759506980501,"78045bbf-7474-46df-aac1-f34936b67d24"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:26:20.529 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 284 - Msg: 🗑️ Deleted message: 1759506979130-b4i5ja7vtvn
2025-10-03 21:26:20.529 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 🗑️ Deleted old optimistic message from SQLite: 1759506979130-b4i5ja7vtvn (replaced by server message: 6d2984b1-f239-4a1f-8d11-bfdb1ddf352f)
2025-10-03 21:26:22.266 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:22.265 [supabase-pipeline] push-fanout response: status=200
2025-10-03 21:26:22.267 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 357 - Msg: [send-1759506979130-b4i5ja7vtvn] total: 2928.3291015625 ms
2025-10-03 21:26:22.267 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:22.265 [send-1759506979130-b4i5ja7vtvn] finished
2025-10-03 21:26:24.347 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Marking group 78045bbf-7474-46df-aac1-f34936b67d24 as read, lastMessageId=6d2984b1-f239-4a1f-8d11-bfdb1ddf352f
2025-10-03 21:26:24.348 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Marked group 78045bbf-7474-46df-aac1-f34936b67d24 as read up to message 6d2984b1-f239-4a1f-8d11-bfdb1ddf352f
2025-10-03 21:26:31.123 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillHide
2025-10-03 21:26:31.123 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillHide
2025-10-03 21:26:31.444 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidHide
2025-10-03 21:26:31.444 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidHide
2025-10-03 21:26:32.231 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📤 Send button clicked, processing message... [object Object]
2025-10-03 21:26:32.238 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📤 About to send message: [object Object]
2025-10-03 21:26:32.238 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📤 sendMessage called: [object Object]
2025-10-03 21:26:32.238 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Message dispatched, clearing input
2025-10-03 21:26:32.239 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251422, pluginId: Network, methodName: getStatus
2025-10-03 21:26:32.239 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251422, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:26:32.278 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 🌐 Network status: [object Object]
2025-10-03 21:26:32.364 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=52
2025-10-03 21:26:32.408 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillShow
2025-10-03 21:26:32.408 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillShow
2025-10-03 21:26:32.430 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251423, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:26:32.430 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251423, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["1759506992278-vouqzbgj5","78045bbf-7474-46df-aac1-f34936b67d24","839d1d4a-e72b-47bb-b74e-ef28a15f43ee","Hdicyock f",0,"text",null,null,null,1759506992279,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:26:32.561 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.558 📤 Sending message 1759506992278-vouqzbgj5...
2025-10-03 21:26:32.561 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.558 [send-1759506992278-vouqzbgj5] stage: entered send
2025-10-03 21:26:32.561 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.558 [send-1759506992278-vouqzbgj5] input: group=78045bbf user=839d1d4a ghost=false type=text dedupe=true
2025-10-03 21:26:32.562 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.558 [send-1759506992278-vouqzbgj5] checkHealth() -> start
2025-10-03 21:26:32.578 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251424, pluginId: Network, methodName: getStatus
2025-10-03 21:26:32.578 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251424, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:26:32.614 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.596 🌐 Network state: online=true webViewReady=true type=wifi
2025-10-03 21:26:32.614 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.597 🏥 Health check: starting (online=true webViewReady=true)
2025-10-03 21:26:32.614 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.597 🏥 Health check: using cached access token (healthy)
2025-10-03 21:26:32.614 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.597 [send-1759506992278-vouqzbgj5] checkHealth() -> healthy
2025-10-03 21:26:32.614 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.597 [send-1759506992278-vouqzbgj5] stage: health ok
2025-10-03 21:26:32.615 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.597 📤 Direct send attempt 1/3 - message 1759506992278-vouqzbgj5
2025-10-03 21:26:32.615 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.597 [send-1759506992278-vouqzbgj5] stage: pre-network
2025-10-03 21:26:32.615 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.597 [send-1759506992278-vouqzbgj5] pre-network: acquiring full client (≤10000ms)
2025-10-03 21:26:32.615 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.597 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:26:32.615 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.597 [send-1759506992278-vouqzbgj5] using full client
2025-10-03 21:26:32.615 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.598 [send-1759506992278-vouqzbgj5] auth: using cached token snapshot=true
2025-10-03 21:26:32.615 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.598 [send-1759506992278-vouqzbgj5] postgrest present=true hasAuthFn=false
2025-10-03 21:26:32.615 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.598 [send-1759506992278-vouqzbgj5] fast-path: using direct REST upsert (snapshot token)
2025-10-03 21:26:32.615 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.598 [send-1759506992278-vouqzbgj5] stage: network attempt started (path=rest)
2025-10-03 21:26:32.615 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.598 [send-1759506992278-vouqzbgj5] POST /messages (fast-path)
2025-10-03 21:26:32.616 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.598 [send-1759506992278-vouqzbgj5] stage: pre-network
2025-10-03 21:26:32.616 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.599 [send-1759506992278-vouqzbgj5] fast-path: direct REST upsert -> https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?on_conflict=dedupe_key&select=*,reactions(*),users!messages_user_id_fkey(display_name,avatar_url)
2025-10-03 21:26:32.616 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.599 [send-1759506992278-vouqzbgj5] POST /messages (fast-path)
2025-10-03 21:26:32.616 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.599 [send-1759506992278-vouqzbgj5] stage: network attempt started (path=rest)
2025-10-03 21:26:32.713 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidShow
2025-10-03 21:26:32.713 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidShow
2025-10-03 21:26:32.825 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.817 [send-1759506992278-vouqzbgj5] fast-path: direct REST upsert successful (server ID: 516707f1-d2de-4e6d-800d-93196b98f970)
2025-10-03 21:26:32.825 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.817 [send-1759506992278-vouqzbgj5] stage: response received
2025-10-03 21:26:32.825 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.818 ✅ Direct send successful - message 1759506992278-vouqzbgj5 (server ID: 516707f1-d2de-4e6d-800d-93196b98f970)
2025-10-03 21:26:32.825 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.818 [TERMINAL] DIRECT_SUCCESS id=1759506992278-vouqzbgj5 ts=2025-10-03T15:56:32.818Z
2025-10-03 21:26:32.825 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 357 - Msg: [send-1759506992278-vouqzbgj5] attempt-1: 221.058837890625 ms
2025-10-03 21:26:32.826 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.818 ✅ Message 1759506992278-vouqzbgj5 sent successfully (server ID: 516707f1-d2de-4e6d-800d-93196b98f970)
2025-10-03 21:26:32.826 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.819 [supabase-pipeline] push-fanout call: origin=https://localhost headers=[Content-Type,apikey,Authorization]
2025-10-03 21:26:32.826 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:32.819 [supabase-pipeline] 🔑 Using server message ID for FCM: 516707f1-d2de-4e6d-800d-93196b98f970 (optimistic was: 1759506992278-vouqzbgj5)
2025-10-03 21:26:32.903 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Realtime INSERT received: id=516707f1-d2de-4e6d-800d-93196b98f970, content="Hdicyock f...", user=839d1d4a-e72b-47bb-b74e-ef28a15f43ee, dedupe=d:839d1d4a-e72b-47bb-b74e-ef28a15f43ee:78045bbf-7474-46df-aac1-f34936b67d24:1759506992278-vouqzbgj5
2025-10-03 21:26:33.019 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251425, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:26:33.019 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251425, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-03 21:26:33.042 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Built message from row: id=516707f1-d2de-4e6d-800d-93196b98f970, delivery_status=delivered
2025-10-03 21:26:33.042 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📨 attachMessageToState: action=replaced-by-dedupe, id=516707f1-d2de-4e6d-800d-93196b98f970, oldId=1759506992278-vouqzbgj5, before=52, after=52
2025-10-03 21:26:33.043 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group 78045bbf-7474-46df-aac1-f34936b67d24
2025-10-03 21:26:33.043 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📦 MessageCache updated for group 78045bbf-7474-46df-aac1-f34936b67d24 after realtime insert (52 messages)
2025-10-03 21:26:33.043 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message attached to state: id=516707f1-d2de-4e6d-800d-93196b98f970
2025-10-03 21:26:33.181 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251426, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:26:33.182 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251426, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["516707f1-d2de-4e6d-800d-93196b98f970","78045bbf-7474-46df-aac1-f34936b67d24","839d1d4a-e72b-47bb-b74e-ef28a15f43ee","Hdicyock f",0,"text",null,null,null,1759506992849,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:26:33.184 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251427, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:26:33.184 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251427, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"DELETE FROM messages WHERE id = ?","values":["1759506992278-vouqzbgj5"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:26:33.198 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message persisted to SQLite: id=516707f1-d2de-4e6d-800d-93196b98f970
2025-10-03 21:26:33.200 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251428, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:26:33.200 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251428, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759506993197,"78045bbf-7474-46df-aac1-f34936b67d24"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:26:33.254 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 284 - Msg: 🗑️ Deleted message: 1759506992278-vouqzbgj5
2025-10-03 21:26:33.255 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 🗑️ Deleted old optimistic message from SQLite: 1759506992278-vouqzbgj5 (replaced by server message: 516707f1-d2de-4e6d-800d-93196b98f970)
2025-10-03 21:26:34.759 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:34.757 [supabase-pipeline] push-fanout response: status=200
2025-10-03 21:26:34.760 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 357 - Msg: [send-1759506992278-vouqzbgj5] total: 2199.923095703125 ms
2025-10-03 21:26:34.761 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:34.758 [send-1759506992278-vouqzbgj5] finished
2025-10-03 21:26:36.897 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Marking group 78045bbf-7474-46df-aac1-f34936b67d24 as read, lastMessageId=516707f1-d2de-4e6d-800d-93196b98f970
2025-10-03 21:26:36.898 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Marked group 78045bbf-7474-46df-aac1-f34936b67d24 as read up to message 516707f1-d2de-4e6d-800d-93196b98f970
2025-10-03 21:26:40.950 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillHide
2025-10-03 21:26:40.950 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillHide
2025-10-03 21:26:41.256 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidHide
2025-10-03 21:26:41.256 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidHide
2025-10-03 21:26:50.462 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event backButton
2025-10-03 21:26:50.467 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:26:50.575 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:26:50.593 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Loading groups from local storage first (local-first approach)
2025-10-03 21:26:50.594 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251429, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:26:50.595 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251429, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:26:50.616 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Found 7 groups in local storage
2025-10-03 21:26:50.616 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ✅ Loaded 7 groups from local storage
2025-10-03 21:26:50.627 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251430, pluginId: Network, methodName: getStatus
2025-10-03 21:26:50.627 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251430, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:26:50.631 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: � B ackground syncing groups with Supabase...
2025-10-03 21:26:50.631 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Fetching groups from Supabase...
2025-10-03 21:26:50.631 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:50.630 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:26:50.631 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:50.630 🔄 Starting background session refresh with cached tokens
2025-10-03 21:26:52.454 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=0
2025-10-03 21:26:52.456 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 💬 ChatArea: Opening chat for group 78045bbf-7474-46df-aac1-f34936b67d24 (Tab)
2025-10-03 21:26:52.457 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Fetching messages for group: 78045bbf-7474-46df-aac1-f34936b67d24 (started at 15:56:52.454Z)
2025-10-03 21:26:52.476 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite ready check: true (20ms)
2025-10-03 21:26:52.476 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: HIT for group 78045bbf-7474-46df-aac1-f34936b67d24 (50 messages)
2025-10-03 21:26:52.477 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📦 Cache check completed in 1ms, found 50 messages
2025-10-03 21:26:52.477 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⚡ INSTANT: Loading messages from in-memory cache
2025-10-03 21:26:52.477 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=50, existing=0, optimistic=0, realtime=0, final=50
2025-10-03 21:26:52.478 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⚡ INSTANT: Displayed 50 cached messages instantly
2025-10-03 21:26:52.478 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Background refresh from SQLite (started at 23ms from group open)
2025-10-03 21:26:52.560 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=50
2025-10-03 21:26:52.564 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251431, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:26:52.564 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251431, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24",50],"readonly":false,"isSQL92":true}
2025-10-03 21:26:52.767 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Background: Refreshing messages from SQLite to ensure cache is current
2025-10-03 21:26:52.767 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Canceling pending cleanup timer (reusing connection)
2025-10-03 21:26:52.767 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview] 15:56:52 ℹ️ Checking WebView readiness for realtime setup
2025-10-03 21:26:52.767 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview-lifecycle] 15:56:52 WebView already ready
2025-10-03 21:26:52.768 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:52.731 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:26:52.768 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Setting up simplified realtime subscription for group: 78045bbf-7474-46df-aac1-f34936b67d24
2025-10-03 21:26:52.768 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [timing] 15:56:52 🔍 Started timing: realtime-setup {"groupId":"78045bbf-7474-46df-aac1-f34936b67d24"}
2025-10-03 21:26:52.768 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Skipping blocking auth check; proceeding with local auth state
2025-10-03 21:26:52.768 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:52.731 🔐 Waiting for in-flight session request
2025-10-03 21:26:52.789 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite query completed in 297ms, got 50 messages
2025-10-03 21:26:52.873 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251432, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:26:52.873 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251432, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-03 21:26:52.985 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251433, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:26:52.985 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251433, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["7bef8c3e-cd57-47be-bcd7-0d9edecad2a5"],"readonly":false,"isSQL92":true}
2025-10-03 21:26:53.035 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group 78045bbf-7474-46df-aac1-f34936b67d24
2025-10-03 21:26:53.036 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=50, existing=50, optimistic=0, realtime=0, final=50
2025-10-03 21:26:53.036 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Background: Updated UI with 50 fresh messages from SQLite
2025-10-03 21:26:53.101 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251434, pluginId: Network, methodName: getStatus
2025-10-03 21:26:53.101 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251434, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:26:53.126 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Loading remaining messages in background...
2025-10-03 21:26:53.143 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Background: Fetching messages from Supabase (non-blocking)...
2025-10-03 21:26:53.143 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 💬 ChatArea: Messages loaded in 676.00ms
2025-10-03 21:26:53.143 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251435, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:26:53.144 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251435, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24",50],"readonly":false,"isSQL92":true}
2025-10-03 21:26:54.555 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:54.533 🔄 Recovering session using cached tokens...
2025-10-03 21:26:54.557 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:54.533 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:26:54.557 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:54.535 🔄 Using cached tokens to recover session
2025-10-03 21:26:55.117 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Marking group 78045bbf-7474-46df-aac1-f34936b67d24 as read, lastMessageId=516707f1-d2de-4e6d-800d-93196b98f970
2025-10-03 21:26:55.119 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Marked group 78045bbf-7474-46df-aac1-f34936b67d24 as read up to message 516707f1-d2de-4e6d-800d-93196b98f970
2025-10-03 21:26:56.377 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:26:56.515 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:56:56 📊 Status: connecting -  
2025-10-03 21:26:56.515 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 15:56:56 ℹ️ Connection status: connecting -  {"isUserVisible":false}
2025-10-03 21:26:56.516 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Creating channel: group-78045bbf-7474-46df-aac1-f34936b67d24-1759507016337-7qutqtjzt9u
2025-10-03 21:26:56.731 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Subscription status: SUBSCRIBED
2025-10-03 21:26:56.732 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ✅ Realtime connected successfully
2025-10-03 21:26:56.781 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:56:56 📊 Status: connected -  
2025-10-03 21:26:56.782 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 15:56:56 ℹ️ Connection status: connected -  {"isUserVisible":false}
2025-10-03 21:26:57.777 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: realtime-connected (priority: normal)
2025-10-03 21:26:57.778 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 75ms for: realtime-connected
2025-10-03 21:26:57.853 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:57.850 📦 Starting outbox processing - session outbox-1759507017850
2025-10-03 21:26:57.855 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:57.851 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:26:57.861 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251436, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:26:57.862 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251436, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759507017853],"readonly":false,"isSQL92":true}
2025-10-03 21:26:57.873 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:56:57.869 📦 No outbox messages to process; idle
2025-10-03 21:27:01.341 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⏭️ Skipping cleanup - channel still active (state: joined)
2025-10-03 21:27:04.541 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:04.537 🔄 Token recovery timed out after 10s
2025-10-03 21:27:45.396 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillShow
2025-10-03 21:27:45.396 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillShow
2025-10-03 21:27:45.708 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidShow
2025-10-03 21:27:45.709 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidShow
2025-10-03 21:27:48.158 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📤 Send button clicked, processing message... [object Object]
2025-10-03 21:27:48.166 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📤 About to send message: [object Object]
2025-10-03 21:27:48.166 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📤 sendMessage called: [object Object]
2025-10-03 21:27:48.167 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Message dispatched, clearing input
2025-10-03 21:27:48.195 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251437, pluginId: Network, methodName: getStatus
2025-10-03 21:27:48.195 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251437, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:27:48.269 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 🌐 Network status: [object Object]
2025-10-03 21:27:48.307 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=51
2025-10-03 21:27:48.391 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251438, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:27:48.391 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251438, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["1759507068249-d2hgeoxqbgv","78045bbf-7474-46df-aac1-f34936b67d24","839d1d4a-e72b-47bb-b74e-ef28a15f43ee","Jzjggk🎉😁🎉🦀💤😊",0,"text",null,null,null,1759507068251,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:27:48.647 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.642 📤 Sending message 1759507068249-d2hgeoxqbgv...
2025-10-03 21:27:48.647 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.643 [send-1759507068249-d2hgeoxqbgv] stage: entered send
2025-10-03 21:27:48.648 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.643 [send-1759507068249-d2hgeoxqbgv] input: group=78045bbf user=839d1d4a ghost=false type=text dedupe=true
2025-10-03 21:27:48.648 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.643 [send-1759507068249-d2hgeoxqbgv] checkHealth() -> start
2025-10-03 21:27:48.660 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251439, pluginId: Network, methodName: getStatus
2025-10-03 21:27:48.660 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251439, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:27:48.688 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.674 🌐 Network state: online=true webViewReady=true type=wifi
2025-10-03 21:27:48.688 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.675 🏥 Health check: starting (online=true webViewReady=true)
2025-10-03 21:27:48.688 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.675 🏥 Health check: using cached access token (healthy)
2025-10-03 21:27:48.688 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.675 [send-1759507068249-d2hgeoxqbgv] checkHealth() -> healthy
2025-10-03 21:27:48.689 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.675 [send-1759507068249-d2hgeoxqbgv] stage: health ok
2025-10-03 21:27:48.689 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.675 📤 Direct send attempt 1/3 - message 1759507068249-d2hgeoxqbgv
2025-10-03 21:27:48.689 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.675 [send-1759507068249-d2hgeoxqbgv] stage: pre-network
2025-10-03 21:27:48.689 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.676 [send-1759507068249-d2hgeoxqbgv] pre-network: acquiring full client (≤10000ms)
2025-10-03 21:27:48.689 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.676 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:27:48.689 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.676 🔄 Starting background session refresh with cached tokens
2025-10-03 21:27:48.689 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.676 [send-1759507068249-d2hgeoxqbgv] using full client
2025-10-03 21:27:48.689 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.676 [send-1759507068249-d2hgeoxqbgv] auth: using cached token snapshot=true
2025-10-03 21:27:48.690 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.676 [send-1759507068249-d2hgeoxqbgv] postgrest present=true hasAuthFn=false
2025-10-03 21:27:48.690 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.676 [send-1759507068249-d2hgeoxqbgv] fast-path: using direct REST upsert (snapshot token)
2025-10-03 21:27:48.690 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.676 [send-1759507068249-d2hgeoxqbgv] stage: network attempt started (path=rest)
2025-10-03 21:27:48.690 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.676 [send-1759507068249-d2hgeoxqbgv] POST /messages (fast-path)
2025-10-03 21:27:48.690 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.676 [send-1759507068249-d2hgeoxqbgv] stage: pre-network
2025-10-03 21:27:48.690 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.676 [send-1759507068249-d2hgeoxqbgv] fast-path: direct REST upsert -> https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?on_conflict=dedupe_key&select=*,reactions(*),users!messages_user_id_fkey(display_name,avatar_url)
2025-10-03 21:27:48.690 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.676 [send-1759507068249-d2hgeoxqbgv] POST /messages (fast-path)
2025-10-03 21:27:48.690 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:48.676 [send-1759507068249-d2hgeoxqbgv] stage: network attempt started (path=rest)
2025-10-03 21:27:49.025 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:49.024 [send-1759507068249-d2hgeoxqbgv] fast-path: direct REST upsert successful (server ID: a4299257-b19a-4a86-957d-53acd4f7b787)
2025-10-03 21:27:49.026 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:49.024 [send-1759507068249-d2hgeoxqbgv] stage: response received
2025-10-03 21:27:49.027 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:49.024 ✅ Direct send successful - message 1759507068249-d2hgeoxqbgv (server ID: a4299257-b19a-4a86-957d-53acd4f7b787)
2025-10-03 21:27:49.027 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:49.024 [TERMINAL] DIRECT_SUCCESS id=1759507068249-d2hgeoxqbgv ts=2025-10-03T15:57:49.024Z
2025-10-03 21:27:49.027 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 357 - Msg: [send-1759507068249-d2hgeoxqbgv] attempt-1: 348.988037109375 ms
2025-10-03 21:27:49.027 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:49.024 ✅ Message 1759507068249-d2hgeoxqbgv sent successfully (server ID: a4299257-b19a-4a86-957d-53acd4f7b787)
2025-10-03 21:27:49.028 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:49.025 [supabase-pipeline] push-fanout call: origin=https://localhost headers=[Content-Type,apikey,Authorization]
2025-10-03 21:27:49.028 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:49.025 [supabase-pipeline] 🔑 Using server message ID for FCM: a4299257-b19a-4a86-957d-53acd4f7b787 (optimistic was: 1759507068249-d2hgeoxqbgv)
2025-10-03 21:27:49.288 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⚠️ Ignoring stale realtime INSERT (token mismatch)
2025-10-03 21:27:49.288 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Realtime INSERT received: id=a4299257-b19a-4a86-957d-53acd4f7b787, content="Jzjggk🎉😁🎉🦀💤😊...", user=839d1d4a-e72b-47bb-b74e-ef28a15f43ee, dedupe=d:839d1d4a-e72b-47bb-b74e-ef28a15f43ee:78045bbf-7474-46df-aac1-f34936b67d24:1759507068249-d2hgeoxqbgv
2025-10-03 21:27:49.412 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Built message from row: id=a4299257-b19a-4a86-957d-53acd4f7b787, delivery_status=delivered
2025-10-03 21:27:49.413 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📨 attachMessageToState: action=replaced-by-dedupe, id=a4299257-b19a-4a86-957d-53acd4f7b787, oldId=1759507068249-d2hgeoxqbgv, before=51, after=51
2025-10-03 21:27:49.414 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group 78045bbf-7474-46df-aac1-f34936b67d24
2025-10-03 21:27:49.415 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📦 MessageCache updated for group 78045bbf-7474-46df-aac1-f34936b67d24 after realtime insert (51 messages)
2025-10-03 21:27:49.416 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message attached to state: id=a4299257-b19a-4a86-957d-53acd4f7b787
2025-10-03 21:27:49.500 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251440, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:27:49.501 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251440, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["a4299257-b19a-4a86-957d-53acd4f7b787","78045bbf-7474-46df-aac1-f34936b67d24","839d1d4a-e72b-47bb-b74e-ef28a15f43ee","Jzjggk🎉😁🎉🦀💤😊",0,"text",null,null,null,1759507069047,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:27:49.504 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251441, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:27:49.505 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251441, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"DELETE FROM messages WHERE id = ?","values":["1759507068249-d2hgeoxqbgv"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:27:49.532 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message persisted to SQLite: id=a4299257-b19a-4a86-957d-53acd4f7b787
2025-10-03 21:27:49.536 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251442, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:27:49.536 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251442, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759507069529,"78045bbf-7474-46df-aac1-f34936b67d24"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:27:49.602 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 284 - Msg: 🗑️ Deleted message: 1759507068249-d2hgeoxqbgv
2025-10-03 21:27:49.603 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 🗑️ Deleted old optimistic message from SQLite: 1759507068249-d2hgeoxqbgv (replaced by server message: a4299257-b19a-4a86-957d-53acd4f7b787)
2025-10-03 21:27:50.741 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:50.738 [supabase-pipeline] push-fanout response: status=200
2025-10-03 21:27:50.743 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 357 - Msg: [send-1759507068249-d2hgeoxqbgv] total: 2096.16015625 ms
2025-10-03 21:27:50.744 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:57:50.739 [send-1759507068249-d2hgeoxqbgv] finished
2025-10-03 21:27:52.852 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Marking group 78045bbf-7474-46df-aac1-f34936b67d24 as read, lastMessageId=a4299257-b19a-4a86-957d-53acd4f7b787
2025-10-03 21:27:52.853 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Marked group 78045bbf-7474-46df-aac1-f34936b67d24 as read up to message a4299257-b19a-4a86-957d-53acd4f7b787
2025-10-03 21:28:16.247 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillHide
2025-10-03 21:28:16.247 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillHide
2025-10-03 21:28:16.561 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidHide
2025-10-03 21:28:16.562 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidHide
2025-10-03 21:28:20.836 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event backButton
2025-10-03 21:28:20.838 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:28:20.936 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:28:20.949 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Loading groups from local storage first (local-first approach)
2025-10-03 21:28:20.951 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251443, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:20.951 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251443, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:28:21.145 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Found 7 groups in local storage
2025-10-03 21:28:21.145 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ✅ Loaded 7 groups from local storage
2025-10-03 21:28:21.155 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251444, pluginId: Network, methodName: getStatus
2025-10-03 21:28:21.155 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251444, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:28:21.215 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: � B ackground syncing groups with Supabase...
2025-10-03 21:28:21.215 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Fetching groups from Supabase...
2025-10-03 21:28:21.215 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:58:21.182 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:28:21.216 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:58:21.182 🔄 Starting background session refresh with cached tokens
2025-10-03 21:28:23.859 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=0
2025-10-03 21:28:23.859 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 💬 ChatArea: Opening chat for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 (Dy Patil)
2025-10-03 21:28:23.859 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Fetching messages for group: fcf73372-c86c-4e53-ac3d-f28896ce1d30 (started at 15:58:23.858Z)
2025-10-03 21:28:23.875 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite ready check: true (15ms)
2025-10-03 21:28:23.875 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: MISS for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:28:23.875 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📦 Cache check completed in 0ms, found 0 messages
2025-10-03 21:28:23.875 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Loading from SQLite (started at 15ms from group open)
2025-10-03 21:28:23.876 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251445, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:23.877 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251445, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30",50],"readonly":false,"isSQL92":true}
2025-10-03 21:28:23.977 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Canceling pending cleanup timer (reusing connection)
2025-10-03 21:28:23.977 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview] 15:58:23 ℹ️ Checking WebView readiness for realtime setup
2025-10-03 21:28:23.978 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview-lifecycle] 15:58:23 WebView already ready
2025-10-03 21:28:23.978 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:58:23.929 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:28:23.979 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Setting up simplified realtime subscription for group: fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:28:23.979 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [timing] 15:58:23 🔍 Started timing: realtime-setup {"groupId":"fcf73372-c86c-4e53-ac3d-f28896ce1d30"}
2025-10-03 21:28:23.979 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Skipping blocking auth check; proceeding with local auth state
2025-10-03 21:28:23.980 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:58:23.930 🔐 Waiting for in-flight session request
2025-10-03 21:28:24.050 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite query completed in 114ms, got 50 messages
2025-10-03 21:28:24.073 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251446, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.073 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251446, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.129 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251447, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.129 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251447, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["5892ff67-983f-46bc-b892-f4cb544c5c0e"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.171 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:28:24.172 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=47, existing=0, optimistic=0, realtime=0, final=47
2025-10-03 21:28:24.173 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ✅ Loaded 47 recent messages and 0 polls from SQLite
2025-10-03 21:28:24.330 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=47
2025-10-03 21:28:24.343 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251448, pluginId: Network, methodName: getStatus
2025-10-03 21:28:24.343 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251448, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:28:24.343 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251449, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.343 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251449, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.343 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251450, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.344 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251450, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.344 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251451, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.344 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251451, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.344 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251452, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.344 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251452, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.344 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251453, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.344 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251453, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.345 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251454, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.345 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251454, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.345 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251455, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.345 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251455, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.345 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251456, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.345 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251456, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.346 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251457, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.346 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251457, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.346 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251458, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.346 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251458, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.347 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251459, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.347 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251459, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.347 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251460, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.347 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251460, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.347 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251461, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.347 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251461, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.348 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251462, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.348 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251462, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.348 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251463, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.348 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251463, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.348 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251464, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.348 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251464, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.349 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251465, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.349 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251465, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.349 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251466, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.349 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251466, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.349 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251467, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.349 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251467, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.350 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251468, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.350 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251468, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.350 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251469, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.350 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251469, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.351 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251470, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.351 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251470, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.351 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251471, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.351 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251471, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.351 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251472, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.351 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251472, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.352 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251473, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.352 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251473, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.352 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251474, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.352 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251474, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.352 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251475, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.352 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251475, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.353 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251476, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.353 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251476, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.353 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251477, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.353 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251477, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.353 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251478, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.353 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251478, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.354 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251479, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.354 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251479, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.354 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251480, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.354 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251480, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.354 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251481, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.355 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251481, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.355 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251482, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.355 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251482, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.355 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251483, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.355 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251483, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.355 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251484, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.355 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251484, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.356 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251485, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.356 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251485, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.356 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251486, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.356 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251486, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.356 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251487, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.356 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251487, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.357 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251488, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.357 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251488, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.357 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251489, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.357 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251489, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.357 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251490, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.357 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251490, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.357 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251491, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.358 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251491, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.358 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251492, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.358 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251492, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:28:24.477 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Loading remaining messages in background...
2025-10-03 21:28:24.478 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Background: Fetching messages from Supabase (non-blocking)...
2025-10-03 21:28:24.478 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 💬 ChatArea: Messages loaded in 608.30ms
2025-10-03 21:28:24.502 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251493, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:24.503 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251493, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30",50],"readonly":false,"isSQL92":true}
2025-10-03 21:28:25.749 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:58:25.730 🔄 Recovering session using cached tokens...
2025-10-03 21:28:25.749 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:58:25.731 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:28:25.749 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:58:25.732 🔄 Using cached tokens to recover session
2025-10-03 21:28:26.349 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Marking group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read, lastMessageId=1759496122227-g432rzzr58b
2025-10-03 21:28:26.351 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Marked group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read up to message 1759496122227-g432rzzr58b
2025-10-03 21:28:27.536 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:28:27.684 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:58:27 📊 Status: connecting -  
2025-10-03 21:28:27.685 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 15:58:27 ℹ️ Connection status: connecting -  {"isUserVisible":false}
2025-10-03 21:28:27.686 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Creating channel: group-fcf73372-c86c-4e53-ac3d-f28896ce1d30-1759507107534-8mrfjis4x7k
2025-10-03 21:28:31.535 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Subscription status: SUBSCRIBED
2025-10-03 21:28:31.536 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ✅ Realtime connected successfully
2025-10-03 21:28:31.673 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:58:31 📊 Status: connected -  
2025-10-03 21:28:31.673 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 15:58:31 ℹ️ Connection status: connected -  {"isUserVisible":false}
2025-10-03 21:28:32.537 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⏭️ Skipping cleanup - channel still active (state: joined)
2025-10-03 21:28:32.664 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: realtime-connected (priority: normal)
2025-10-03 21:28:32.666 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 75ms for: realtime-connected
2025-10-03 21:28:32.741 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:58:32.738 📦 Starting outbox processing - session outbox-1759507112738
2025-10-03 21:28:32.743 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:58:32.739 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:28:32.748 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251494, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:28:32.749 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251494, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759507112739],"readonly":false,"isSQL92":true}
2025-10-03 21:28:32.759 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:58:32.755 📦 No outbox messages to process; idle
2025-10-03 21:28:35.739 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:58:35.736 🔄 Token recovery timed out after 10s
2025-10-03 21:28:56.897 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillShow
2025-10-03 21:28:56.898 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillShow
2025-10-03 21:28:57.190 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidShow
2025-10-03 21:28:57.190 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidShow
2025-10-03 21:29:01.380 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📤 Send button clicked, processing message... [object Object]
2025-10-03 21:29:01.385 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📤 About to send message: [object Object]
2025-10-03 21:29:01.385 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📤 sendMessage called: [object Object]
2025-10-03 21:29:01.385 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Message dispatched, clearing input
2025-10-03 21:29:01.390 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251495, pluginId: Network, methodName: getStatus
2025-10-03 21:29:01.390 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251495, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:29:01.405 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 🌐 Network status: [object Object]
2025-10-03 21:29:01.462 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=48
2025-10-03 21:29:01.501 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251496, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:29:01.502 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251496, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["1759507141404-fwflud00oy","fcf73372-c86c-4e53-ac3d-f28896ce1d30","839d1d4a-e72b-47bb-b74e-ef28a15f43ee","Jfzjgxgk fiysiyd iyiydit etidiy dyidiy diy diys it",0,"text",null,null,null,1759507141404,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:29:01.675 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.673 📤 Sending message 1759507141404-fwflud00oy...
2025-10-03 21:29:01.675 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.674 [send-1759507141404-fwflud00oy] stage: entered send
2025-10-03 21:29:01.675 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.674 [send-1759507141404-fwflud00oy] input: group=fcf73372 user=839d1d4a ghost=false type=text dedupe=true
2025-10-03 21:29:01.675 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.674 [send-1759507141404-fwflud00oy] checkHealth() -> start
2025-10-03 21:29:01.705 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251497, pluginId: Network, methodName: getStatus
2025-10-03 21:29:01.706 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251497, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:29:01.805 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.801 🌐 Network state: online=true webViewReady=true type=wifi
2025-10-03 21:29:01.805 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.801 🏥 Health check: starting (online=true webViewReady=true)
2025-10-03 21:29:01.805 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.802 🏥 Health check: using cached access token (healthy)
2025-10-03 21:29:01.805 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.802 [send-1759507141404-fwflud00oy] checkHealth() -> healthy
2025-10-03 21:29:01.805 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.802 [send-1759507141404-fwflud00oy] stage: health ok
2025-10-03 21:29:01.805 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.802 📤 Direct send attempt 1/3 - message 1759507141404-fwflud00oy
2025-10-03 21:29:01.805 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.802 [send-1759507141404-fwflud00oy] stage: pre-network
2025-10-03 21:29:01.806 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.802 [send-1759507141404-fwflud00oy] pre-network: acquiring full client (≤10000ms)
2025-10-03 21:29:01.806 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.802 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:29:01.806 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.802 🔄 Starting background session refresh with cached tokens
2025-10-03 21:29:01.806 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.803 [send-1759507141404-fwflud00oy] using full client
2025-10-03 21:29:01.806 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.803 [send-1759507141404-fwflud00oy] auth: using cached token snapshot=true
2025-10-03 21:29:01.806 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.803 [send-1759507141404-fwflud00oy] postgrest present=true hasAuthFn=false
2025-10-03 21:29:01.806 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.803 [send-1759507141404-fwflud00oy] fast-path: using direct REST upsert (snapshot token)
2025-10-03 21:29:01.806 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.803 [send-1759507141404-fwflud00oy] stage: network attempt started (path=rest)
2025-10-03 21:29:01.806 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.803 [send-1759507141404-fwflud00oy] POST /messages (fast-path)
2025-10-03 21:29:01.806 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.803 [send-1759507141404-fwflud00oy] stage: pre-network
2025-10-03 21:29:01.806 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.804 [send-1759507141404-fwflud00oy] fast-path: direct REST upsert -> https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?on_conflict=dedupe_key&select=*,reactions(*),users!messages_user_id_fkey(display_name,avatar_url)
2025-10-03 21:29:01.807 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.804 [send-1759507141404-fwflud00oy] POST /messages (fast-path)
2025-10-03 21:29:01.807 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:01.804 [send-1759507141404-fwflud00oy] stage: network attempt started (path=rest)
2025-10-03 21:29:02.024 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:02.020 [send-1759507141404-fwflud00oy] fast-path: direct REST upsert successful (server ID: d3887c23-7a22-4ed3-9b02-51ec59c6a618)
2025-10-03 21:29:02.024 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:02.020 [send-1759507141404-fwflud00oy] stage: response received
2025-10-03 21:29:02.024 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:02.020 ✅ Direct send successful - message 1759507141404-fwflud00oy (server ID: d3887c23-7a22-4ed3-9b02-51ec59c6a618)
2025-10-03 21:29:02.024 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:02.021 [TERMINAL] DIRECT_SUCCESS id=1759507141404-fwflud00oy ts=2025-10-03T15:59:02.021Z
2025-10-03 21:29:02.025 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 357 - Msg: [send-1759507141404-fwflud00oy] attempt-1: 218.483154296875 ms
2025-10-03 21:29:02.025 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:02.021 ✅ Message 1759507141404-fwflud00oy sent successfully (server ID: d3887c23-7a22-4ed3-9b02-51ec59c6a618)
2025-10-03 21:29:02.025 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:02.021 [supabase-pipeline] push-fanout call: origin=https://localhost headers=[Content-Type,apikey,Authorization]
2025-10-03 21:29:02.026 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:02.021 [supabase-pipeline] 🔑 Using server message ID for FCM: d3887c23-7a22-4ed3-9b02-51ec59c6a618 (optimistic was: 1759507141404-fwflud00oy)
2025-10-03 21:29:02.223 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Realtime INSERT received: id=d3887c23-7a22-4ed3-9b02-51ec59c6a618, content="Jfzjgxgk fiysiyd iyi...", user=839d1d4a-e72b-47bb-b74e-ef28a15f43ee, dedupe=d:839d1d4a-e72b-47bb-b74e-ef28a15f43ee:fcf73372-c86c-4e53-ac3d-f28896ce1d30:1759507141404-fwflud00oy
2025-10-03 21:29:02.298 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Built message from row: id=d3887c23-7a22-4ed3-9b02-51ec59c6a618, delivery_status=delivered
2025-10-03 21:29:02.299 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📨 attachMessageToState: action=replaced-by-dedupe, id=d3887c23-7a22-4ed3-9b02-51ec59c6a618, oldId=1759507141404-fwflud00oy, before=48, after=48
2025-10-03 21:29:02.299 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 48 messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:29:02.300 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📦 MessageCache updated for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 after realtime insert (48 messages)
2025-10-03 21:29:02.301 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message attached to state: id=d3887c23-7a22-4ed3-9b02-51ec59c6a618
2025-10-03 21:29:02.407 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251498, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:29:02.408 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251498, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["d3887c23-7a22-4ed3-9b02-51ec59c6a618","fcf73372-c86c-4e53-ac3d-f28896ce1d30","839d1d4a-e72b-47bb-b74e-ef28a15f43ee","Jfzjgxgk fiysiyd iyiydit etidiy dyidiy diy diys it",0,"text",null,null,null,1759507142055,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:29:02.408 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251499, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:29:02.408 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251499, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"DELETE FROM messages WHERE id = ?","values":["1759507141404-fwflud00oy"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:29:02.479 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message persisted to SQLite: id=d3887c23-7a22-4ed3-9b02-51ec59c6a618
2025-10-03 21:29:02.482 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251500, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:29:02.482 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251500, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759507142474,"fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:29:02.492 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 284 - Msg: 🗑️ Deleted message: 1759507141404-fwflud00oy
2025-10-03 21:29:02.492 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 🗑️ Deleted old optimistic message from SQLite: 1759507141404-fwflud00oy (replaced by server message: d3887c23-7a22-4ed3-9b02-51ec59c6a618)
2025-10-03 21:29:03.502 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:03.495 [supabase-pipeline] push-fanout response: status=200
2025-10-03 21:29:03.505 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 357 - Msg: [send-1759507141404-fwflud00oy] total: 1821.84912109375 ms
2025-10-03 21:29:03.505 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:03.495 [send-1759507141404-fwflud00oy] finished
2025-10-03 21:29:03.809 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillHide
2025-10-03 21:29:03.809 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillHide
2025-10-03 21:29:04.112 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidHide
2025-10-03 21:29:04.112 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidHide
2025-10-03 21:29:05.539 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Marking group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read, lastMessageId=d3887c23-7a22-4ed3-9b02-51ec59c6a618
2025-10-03 21:29:05.541 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Marked group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read up to message d3887c23-7a22-4ed3-9b02-51ec59c6a618
2025-10-03 21:29:14.026 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Ignoring stale subscription callback: CHANNEL_ERROR
2025-10-03 21:29:14.027 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Ignoring stale subscription callback: CHANNEL_ERROR
2025-10-03 21:29:14.027 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Ignoring stale subscription callback: CHANNEL_ERROR
2025-10-03 21:29:14.027 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Ignoring stale subscription callback: CHANNEL_ERROR
2025-10-03 21:29:14.027 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Subscription status: CHANNEL_ERROR
2025-10-03 21:29:14.027 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ❌ Connection failed with status: CHANNEL_ERROR
2025-10-03 21:29:14.027 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 🔧 CHANNEL_ERROR detected - attempting session refresh
2025-10-03 21:29:14.028 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:14.027 🔐 Waiting for in-flight session request
2025-10-03 21:29:14.053 13177-15006 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-03 21:29:14.266 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [network] 15:59:14 ℹ️ Network status: offline {"isOnline":false,"connectionType":"none"}
2025-10-03 21:29:14.270 13177-13177 Capacitor/Console       com.confessr.app                     W  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [network] 15:59:14 ⚠️ Network disconnected
2025-10-03 21:29:14.270 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:59:14 📊 Status: disconnected -  
2025-10-03 21:29:14.270 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 15:59:14 ℹ️ Connection status: disconnected -  {"isUserVisible":false}
2025-10-03 21:29:14.271 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:29:19.322 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Executing delayed cleanup (5s passed) - channel state: errored
2025-10-03 21:29:19.323 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Subscription status: CLOSED
2025-10-03 21:29:19.324 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ❌ Connection failed with status: CLOSED
2025-10-03 21:29:19.324 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:19.273 🔐 Waiting for in-flight session request
2025-10-03 21:29:19.410 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:59:19 📊 Status: disconnected -  
2025-10-03 21:29:19.411 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 15:59:19 ℹ️ Connection status: disconnected -  {"isUserVisible":false}
2025-10-03 21:29:33.470 13177-15006 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-03 21:29:33.570 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [network] 15:59:33 ℹ️ Network status: offline {"isOnline":false,"connectionType":"wifi"}
2025-10-03 21:29:33.570 13177-13177 Capacitor/Console       com.confessr.app                     W  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [network] 15:59:33 ⚠️ Network disconnected
2025-10-03 21:29:33.570 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:59:33 📊 Status: disconnected -  
2025-10-03 21:29:33.570 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 15:59:33 ℹ️ Connection status: disconnected -  {"isUserVisible":false}
2025-10-03 21:29:33.570 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:29:35.458 13177-15006 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-03 21:29:35.498 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [network] 15:59:35 ℹ️ Network status: online {"isOnline":true,"connectionType":"wifi"}
2025-10-03 21:29:35.498 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [network] 15:59:35 ℹ️ Network reconnected
2025-10-03 21:29:35.498 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Network came online
2025-10-03 21:29:35.498 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Network online - triggering outbox processing only
2025-10-03 21:29:35.499 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: network-online (priority: high)
2025-10-03 21:29:35.499 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: network-online
2025-10-03 21:29:35.620 13177-15006 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-03 21:29:35.745 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:35.734 🌐 Network reconnection detected - refreshing session
2025-10-03 21:29:35.746 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:35.734 🔄 Recovering session using cached tokens...
2025-10-03 21:29:35.746 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:35.734 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:29:35.746 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:35.735 🔄 Starting background session refresh with cached tokens
2025-10-03 21:29:35.746 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:35.735 🔄 Using cached tokens to recover session
2025-10-03 21:29:35.796 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [network] 15:59:35 ℹ️ Network status: online {"isOnline":true,"connectionType":"wifi"}
2025-10-03 21:29:35.796 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [network] 15:59:35 ℹ️ Network reconnected
2025-10-03 21:29:35.796 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Network came online
2025-10-03 21:29:35.796 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Network online - triggering outbox processing only
2025-10-03 21:29:35.797 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: network-online (priority: high)
2025-10-03 21:29:35.797 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Coalescing trigger (debounced) from: network-online
2025-10-03 21:29:35.797 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: network-online
2025-10-03 21:29:35.878 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:35.851 🌐 Network reconnection detected - refreshing session
2025-10-03 21:29:35.878 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:35.859 🔄 Recovering session using cached tokens...
2025-10-03 21:29:35.879 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:35.860 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:29:35.879 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:35.860 🔄 Using cached tokens to recover session
2025-10-03 21:29:35.879 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:35.866 📦 Starting outbox processing - session outbox-1759507175866
2025-10-03 21:29:35.880 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:35.866 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:29:35.910 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251501, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:29:35.910 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251501, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759507175866],"readonly":false,"isSQL92":true}
2025-10-03 21:29:35.986 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:35.956 📦 No outbox messages to process; idle
2025-10-03 21:29:36.041 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 15:59:35 Reconnect already in progress, waiting - reason: network-online
2025-10-03 21:29:36.099 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Fast path: no existing channel; creating new
2025-10-03 21:29:36.099 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Canceling pending cleanup timer (reusing connection)
2025-10-03 21:29:36.100 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview] 15:59:36 ℹ️ Checking WebView readiness for realtime setup
2025-10-03 21:29:36.100 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview-lifecycle] 15:59:36 WebView already ready
2025-10-03 21:29:36.101 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Fetching messages for group: fcf73372-c86c-4e53-ac3d-f28896ce1d30 (started at 15:59:36.092Z)
2025-10-03 21:29:36.102 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Setting up simplified realtime subscription for group: fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:29:36.103 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [timing] 15:59:36 🔍 Started timing: realtime-setup {"groupId":"fcf73372-c86c-4e53-ac3d-f28896ce1d30"}
2025-10-03 21:29:36.103 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Skipping blocking auth check; proceeding with local auth state
2025-10-03 21:29:36.104 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:36.093 🔐 Waiting for in-flight session request
2025-10-03 21:29:36.161 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite ready check: true (56ms)
2025-10-03 21:29:36.162 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: HIT for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 (48 messages)
2025-10-03 21:29:36.163 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📦 Cache check completed in 0ms, found 48 messages
2025-10-03 21:29:36.163 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⚡ INSTANT: Loading messages from in-memory cache
2025-10-03 21:29:36.164 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=48, existing=48, optimistic=0, realtime=0, final=48
2025-10-03 21:29:36.164 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⚡ INSTANT: Displayed 48 cached messages instantly
2025-10-03 21:29:36.165 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Background refresh from SQLite (started at 57ms from group open)
2025-10-03 21:29:36.318 13177-15006 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-03 21:29:36.339 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Background: Refreshing messages from SQLite to ensure cache is current
2025-10-03 21:29:36.340 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 15:59:36 Reconnect already in progress, waiting - reason: network-online
2025-10-03 21:29:36.342 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251502, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:29:36.342 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251502, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30",50],"readonly":false,"isSQL92":true}
2025-10-03 21:29:36.343 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [network] 15:59:36 ℹ️ Network status: online {"isOnline":true,"connectionType":"wifi"}
2025-10-03 21:29:36.344 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [network] 15:59:36 ℹ️ Network reconnected
2025-10-03 21:29:36.344 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Network came online
2025-10-03 21:29:36.345 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Network online - triggering outbox processing only
2025-10-03 21:29:36.345 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: network-online (priority: high)
2025-10-03 21:29:36.346 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: network-online
2025-10-03 21:29:36.383 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:36.379 🌐 Network reconnection detected - refreshing session
2025-10-03 21:29:36.383 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:36.379 🔄 Recovering session using cached tokens...
2025-10-03 21:29:36.384 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:36.379 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:29:36.384 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:36.380 🔄 Using cached tokens to recover session
2025-10-03 21:29:36.385 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Fast path: no existing channel; creating new
2025-10-03 21:29:36.385 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Connection already in progress, skipping
2025-10-03 21:29:36.386 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Fetching messages for group: fcf73372-c86c-4e53-ac3d-f28896ce1d30 (started at 15:59:36.381Z)
2025-10-03 21:29:36.386 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⏭️ Skipping duplicate fetchMessages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:29:36.390 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite query completed in 239ms, got 50 messages
2025-10-03 21:29:36.441 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:36.391 📦 Starting outbox processing - session outbox-1759507176391
2025-10-03 21:29:36.441 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:36.391 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:29:36.444 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251503, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:29:36.444 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251503, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-03 21:29:36.484 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251504, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:29:36.485 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251504, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759507176391],"readonly":false,"isSQL92":true}
2025-10-03 21:29:36.518 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251505, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:29:36.518 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251505, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["5892ff67-983f-46bc-b892-f4cb544c5c0e"],"readonly":false,"isSQL92":true}
2025-10-03 21:29:36.520 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:36.518 📦 No outbox messages to process; idle
2025-10-03 21:29:36.587 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:29:36.587 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=47, existing=48, optimistic=0, realtime=0, final=47
2025-10-03 21:29:36.588 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Background: Updated UI with 47 fresh messages from SQLite
2025-10-03 21:29:36.630 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=47
2025-10-03 21:29:36.679 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251506, pluginId: Network, methodName: getStatus
2025-10-03 21:29:36.679 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251506, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:29:36.712 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Loading remaining messages in background...
2025-10-03 21:29:36.794 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Background: Fetching messages from Supabase (non-blocking)...
2025-10-03 21:29:36.795 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251507, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:29:36.795 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251507, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30",50],"readonly":false,"isSQL92":true}
2025-10-03 21:29:36.848 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 15:59:36 Reconnect already in progress, waiting - reason: network-online
2025-10-03 21:29:36.953 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Fast path: no existing channel; creating new
2025-10-03 21:29:36.953 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Connection already in progress, skipping
2025-10-03 21:29:36.953 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Fetching messages for group: fcf73372-c86c-4e53-ac3d-f28896ce1d30 (started at 15:59:36.942Z)
2025-10-03 21:29:37.011 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite ready check: true (68ms)
2025-10-03 21:29:37.012 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: HIT for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 (50 messages)
2025-10-03 21:29:37.012 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📦 Cache check completed in 0ms, found 50 messages
2025-10-03 21:29:37.013 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⚡ INSTANT: Loading messages from in-memory cache
2025-10-03 21:29:37.013 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=47, existing=47, optimistic=0, realtime=0, final=47
2025-10-03 21:29:37.013 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⚡ INSTANT: Displayed 47 cached messages instantly
2025-10-03 21:29:37.013 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Background refresh from SQLite (started at 69ms from group open)
2025-10-03 21:29:37.071 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Background: Refreshing messages from SQLite to ensure cache is current
2025-10-03 21:29:37.071 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251508, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:29:37.071 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251508, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30",50],"readonly":false,"isSQL92":true}
2025-10-03 21:29:37.133 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite query completed in 98ms, got 50 messages
2025-10-03 21:29:37.147 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251509, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:29:37.147 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251509, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-03 21:29:37.209 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251510, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:29:37.209 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251510, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["5892ff67-983f-46bc-b892-f4cb544c5c0e"],"readonly":false,"isSQL92":true}
2025-10-03 21:29:37.255 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:29:37.255 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=47, existing=47, optimistic=0, realtime=0, final=47
2025-10-03 21:29:37.255 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Background: Updated UI with 47 fresh messages from SQLite
2025-10-03 21:29:37.301 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251511, pluginId: Network, methodName: getStatus
2025-10-03 21:29:37.302 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251511, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:29:37.346 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Background: Fetching messages from Supabase (non-blocking)...
2025-10-03 21:29:37.346 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Loading remaining messages in background...
2025-10-03 21:29:37.362 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251512, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:29:37.362 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251512, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30",50],"readonly":false,"isSQL92":true}
2025-10-03 21:29:37.911 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:37.893 🔄 Recovering session using cached tokens...
2025-10-03 21:29:37.911 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:37.894 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:29:37.912 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:37.894 🔄 Using cached tokens to recover session
2025-10-03 21:29:39.294 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Marking group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read, lastMessageId=d3887c23-7a22-4ed3-9b02-51ec59c6a618
2025-10-03 21:29:39.295 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Marked group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read up to message d3887c23-7a22-4ed3-9b02-51ec59c6a618
2025-10-03 21:29:39.705 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:29:39.816 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:59:39 📊 Status: connecting -  
2025-10-03 21:29:39.816 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 15:59:39 ℹ️ Connection status: connecting -  {"isUserVisible":false}
2025-10-03 21:29:39.816 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Creating channel: group-fcf73372-c86c-4e53-ac3d-f28896ce1d30-1759507179694-806bowqv275
2025-10-03 21:29:44.733 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Executing delayed cleanup (5s passed) - no channel
2025-10-03 21:29:44.825 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:59:44 📊 Status: disconnected -  
2025-10-03 21:29:44.826 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 15:59:44 ℹ️ Connection status: disconnected -  {"isUserVisible":false}
2025-10-03 21:29:45.709 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Subscription status: SUBSCRIBED
2025-10-03 21:29:45.712 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ✅ Realtime connected successfully
2025-10-03 21:29:45.871 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 15:59:45 📊 Status: connected -  
2025-10-03 21:29:45.872 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 15:59:45 ℹ️ Connection status: connected -  {"isUserVisible":false}
2025-10-03 21:29:45.880 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:45.874 🔄 Token recovery timed out after 10s
2025-10-03 21:29:45.881 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:45.874 📦 Triggering outbox processing from: network-reconnect
2025-10-03 21:29:45.881 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:45.874 ✅ Network reconnect session refresh completed
2025-10-03 21:29:45.926 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:45.924 🔄 Token recovery timed out after 10s
2025-10-03 21:29:45.927 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:45.925 📦 Trigger coalesced (debounced 300ms) from: network-reconnect
2025-10-03 21:29:45.928 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:45.925 ✅ Network reconnect session refresh completed
2025-10-03 21:29:45.929 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:45.925 📦 Starting outbox processing - session outbox-1759507185925
2025-10-03 21:29:45.930 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:45.925 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:29:45.934 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251513, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:29:45.936 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251513, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759507185925],"readonly":false,"isSQL92":true}
2025-10-03 21:29:45.982 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:45.944 📦 No outbox messages to process; idle
2025-10-03 21:29:46.449 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:46.441 🔄 Token recovery timed out after 10s
2025-10-03 21:29:46.451 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:46.441 📦 Triggering outbox processing from: network-reconnect
2025-10-03 21:29:46.452 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:46.441 ✅ Network reconnect session refresh completed
2025-10-03 21:29:46.453 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:46.442 📦 Starting outbox processing - session outbox-1759507186442
2025-10-03 21:29:46.455 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:46.442 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:29:46.460 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251514, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:29:46.460 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251514, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759507186442],"readonly":false,"isSQL92":true}
2025-10-03 21:29:46.472 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:46.467 📦 No outbox messages to process; idle
2025-10-03 21:29:46.835 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: realtime-connected (priority: normal)
2025-10-03 21:29:46.836 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 75ms for: realtime-connected
2025-10-03 21:29:46.917 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:46.910 📦 Starting outbox processing - session outbox-1759507186909
2025-10-03 21:29:46.918 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:46.910 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:29:46.922 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251515, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:29:46.923 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251515, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759507186910],"readonly":false,"isSQL92":true}
2025-10-03 21:29:46.933 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:46.930 📦 No outbox messages to process; idle
2025-10-03 21:29:47.897 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 15:59:47.895 🔄 Token recovery timed out after 10s
2025-10-03 21:29:52.188 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Ignoring stale subscription callback: SUBSCRIBED
2025-10-03 21:29:52.189 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Ignoring stale subscription callback: SUBSCRIBED
2025-10-03 21:29:52.190 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Ignoring stale subscription callback: SUBSCRIBED
2025-10-03 21:29:52.195 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Ignoring stale subscription callback: SUBSCRIBED
2025-10-03 21:30:36.072 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillShow
2025-10-03 21:30:36.072 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillShow
2025-10-03 21:30:36.399 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidShow
2025-10-03 21:30:36.399 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidShow
2025-10-03 21:30:38.633 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📤 Send button clicked, processing message... [object Object]
2025-10-03 21:30:38.633 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📤 About to send message: [object Object]
2025-10-03 21:30:38.634 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📤 sendMessage called: [object Object]
2025-10-03 21:30:38.634 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Message dispatched, clearing input
2025-10-03 21:30:38.667 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251516, pluginId: Network, methodName: getStatus
2025-10-03 21:30:38.667 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251516, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:30:38.702 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 🌐 Network status: [object Object]
2025-10-03 21:30:38.751 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=48
2025-10-03 21:30:38.850 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251517, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:30:38.850 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251517, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["1759507238685-336p9nbm8f6","fcf73372-c86c-4e53-ac3d-f28896ce1d30","839d1d4a-e72b-47bb-b74e-ef28a15f43ee","Jtxtkcgj♥️💯💯😎😢",0,"text",null,null,null,1759507238687,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:30:39.042 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.041 📤 Sending message 1759507238685-336p9nbm8f6...
2025-10-03 21:30:39.042 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.042 [send-1759507238685-336p9nbm8f6] stage: entered send
2025-10-03 21:30:39.042 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.042 [send-1759507238685-336p9nbm8f6] input: group=fcf73372 user=839d1d4a ghost=false type=text dedupe=true
2025-10-03 21:30:39.042 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.042 [send-1759507238685-336p9nbm8f6] checkHealth() -> start
2025-10-03 21:30:39.056 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251518, pluginId: Network, methodName: getStatus
2025-10-03 21:30:39.056 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251518, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:30:39.082 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.069 🌐 Network state: online=true webViewReady=true type=wifi
2025-10-03 21:30:39.082 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.069 🏥 Health check: starting (online=true webViewReady=true)
2025-10-03 21:30:39.082 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.069 🏥 Health check: using cached access token (healthy)
2025-10-03 21:30:39.083 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.069 [send-1759507238685-336p9nbm8f6] checkHealth() -> healthy
2025-10-03 21:30:39.083 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.069 [send-1759507238685-336p9nbm8f6] stage: health ok
2025-10-03 21:30:39.083 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.069 📤 Direct send attempt 1/3 - message 1759507238685-336p9nbm8f6
2025-10-03 21:30:39.083 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.069 [send-1759507238685-336p9nbm8f6] stage: pre-network
2025-10-03 21:30:39.083 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.069 [send-1759507238685-336p9nbm8f6] pre-network: acquiring full client (≤10000ms)
2025-10-03 21:30:39.083 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.069 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:30:39.083 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.069 🔄 Starting background session refresh with cached tokens
2025-10-03 21:30:39.083 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.069 [send-1759507238685-336p9nbm8f6] using full client
2025-10-03 21:30:39.083 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.069 [send-1759507238685-336p9nbm8f6] auth: using cached token snapshot=true
2025-10-03 21:30:39.083 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.070 [send-1759507238685-336p9nbm8f6] postgrest present=true hasAuthFn=false
2025-10-03 21:30:39.083 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.070 [send-1759507238685-336p9nbm8f6] fast-path: using direct REST upsert (snapshot token)
2025-10-03 21:30:39.084 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.070 [send-1759507238685-336p9nbm8f6] stage: network attempt started (path=rest)
2025-10-03 21:30:39.084 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.070 [send-1759507238685-336p9nbm8f6] POST /messages (fast-path)
2025-10-03 21:30:39.084 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.070 [send-1759507238685-336p9nbm8f6] stage: pre-network
2025-10-03 21:30:39.084 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.070 [send-1759507238685-336p9nbm8f6] fast-path: direct REST upsert -> https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?on_conflict=dedupe_key&select=*,reactions(*),users!messages_user_id_fkey(display_name,avatar_url)
2025-10-03 21:30:39.084 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.070 [send-1759507238685-336p9nbm8f6] POST /messages (fast-path)
2025-10-03 21:30:39.084 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.070 [send-1759507238685-336p9nbm8f6] stage: network attempt started (path=rest)
2025-10-03 21:30:39.325 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.322 [send-1759507238685-336p9nbm8f6] fast-path: direct REST upsert successful (server ID: eaee49cb-4a1f-4448-bebf-4e93df662387)
2025-10-03 21:30:39.325 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.323 [send-1759507238685-336p9nbm8f6] stage: response received
2025-10-03 21:30:39.325 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.323 ✅ Direct send successful - message 1759507238685-336p9nbm8f6 (server ID: eaee49cb-4a1f-4448-bebf-4e93df662387)
2025-10-03 21:30:39.325 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.323 [TERMINAL] DIRECT_SUCCESS id=1759507238685-336p9nbm8f6 ts=2025-10-03T16:00:39.323Z
2025-10-03 21:30:39.325 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 357 - Msg: [send-1759507238685-336p9nbm8f6] attempt-1: 254.037109375 ms
2025-10-03 21:30:39.326 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.324 ✅ Message 1759507238685-336p9nbm8f6 sent successfully (server ID: eaee49cb-4a1f-4448-bebf-4e93df662387)
2025-10-03 21:30:39.326 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.324 [supabase-pipeline] push-fanout call: origin=https://localhost headers=[Content-Type,apikey,Authorization]
2025-10-03 21:30:39.326 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:39.324 [supabase-pipeline] 🔑 Using server message ID for FCM: eaee49cb-4a1f-4448-bebf-4e93df662387 (optimistic was: 1759507238685-336p9nbm8f6)
2025-10-03 21:30:39.412 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Realtime INSERT received: id=eaee49cb-4a1f-4448-bebf-4e93df662387, content="Jtxtkcgj♥️💯💯😎😢...", user=839d1d4a-e72b-47bb-b74e-ef28a15f43ee, dedupe=d:839d1d4a-e72b-47bb-b74e-ef28a15f43ee:fcf73372-c86c-4e53-ac3d-f28896ce1d30:1759507238685-336p9nbm8f6
2025-10-03 21:30:39.543 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Built message from row: id=eaee49cb-4a1f-4448-bebf-4e93df662387, delivery_status=delivered
2025-10-03 21:30:39.543 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📨 attachMessageToState: action=replaced-by-dedupe, id=eaee49cb-4a1f-4448-bebf-4e93df662387, oldId=1759507238685-336p9nbm8f6, before=48, after=48
2025-10-03 21:30:39.543 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 48 messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:30:39.543 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📦 MessageCache updated for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 after realtime insert (48 messages)
2025-10-03 21:30:39.544 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message attached to state: id=eaee49cb-4a1f-4448-bebf-4e93df662387
2025-10-03 21:30:39.635 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251519, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:30:39.636 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251519, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["eaee49cb-4a1f-4448-bebf-4e93df662387","fcf73372-c86c-4e53-ac3d-f28896ce1d30","839d1d4a-e72b-47bb-b74e-ef28a15f43ee","Jtxtkcgj♥️💯💯😎😢",0,"text",null,null,null,1759507239354,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:30:39.638 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251520, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:30:39.638 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251520, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"DELETE FROM messages WHERE id = ?","values":["1759507238685-336p9nbm8f6"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:30:39.653 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message persisted to SQLite: id=eaee49cb-4a1f-4448-bebf-4e93df662387
2025-10-03 21:30:39.655 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251521, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:30:39.656 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251521, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759507239653,"fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:30:39.677 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 284 - Msg: 🗑️ Deleted message: 1759507238685-336p9nbm8f6
2025-10-03 21:30:39.677 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 🗑️ Deleted old optimistic message from SQLite: 1759507238685-336p9nbm8f6 (replaced by server message: eaee49cb-4a1f-4448-bebf-4e93df662387)
2025-10-03 21:30:41.042 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:41.041 [supabase-pipeline] push-fanout response: status=200
2025-10-03 21:30:41.043 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 357 - Msg: [send-1759507238685-336p9nbm8f6] total: 1999.681884765625 ms
2025-10-03 21:30:41.044 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:00:41.042 [send-1759507238685-336p9nbm8f6] finished
2025-10-03 21:30:41.080 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillHide
2025-10-03 21:30:41.080 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillHide
2025-10-03 21:30:41.381 13177-13177 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidHide
2025-10-03 21:30:41.381 13177-13177 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidHide
2025-10-03 21:30:43.183 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Marking group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read, lastMessageId=eaee49cb-4a1f-4448-bebf-4e93df662387
2025-10-03 21:30:43.184 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Marked group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read up to message eaee49cb-4a1f-4448-bebf-4e93df662387
2025-10-03 21:32:13.694 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Realtime INSERT received: id=2f49e1be-5d90-4a7c-a7c7-0a509bc831e6, content="ok we see unread lin...", user=5892ff67-983f-46bc-b892-f4cb544c5c0e, dedupe=d:5892ff67-983f-46bc-b892-f4cb544c5c0e:fcf73372-c86c-4e53-ac3d-f28896ce1d30:1759507334796-orgllfqyer9
2025-10-03 21:32:13.851 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Built message from row: id=2f49e1be-5d90-4a7c-a7c7-0a509bc831e6, delivery_status=delivered
2025-10-03 21:32:13.852 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📨 attachMessageToState: action=added-new, id=2f49e1be-5d90-4a7c-a7c7-0a509bc831e6, oldId=null, before=48, after=49
2025-10-03 21:32:13.853 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 49 messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:32:13.854 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📦 MessageCache updated for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 after realtime insert (49 messages)
2025-10-03 21:32:13.855 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message attached to state: id=2f49e1be-5d90-4a7c-a7c7-0a509bc831e6
2025-10-03 21:32:13.913 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=49
2025-10-03 21:32:13.952 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251522, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:32:13.953 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251522, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["2f49e1be-5d90-4a7c-a7c7-0a509bc831e6","fcf73372-c86c-4e53-ac3d-f28896ce1d30","5892ff67-983f-46bc-b892-f4cb544c5c0e","ok we see unread line but on the web and not on android platfrom",1,"text",null,null,null,1759507333206,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:32:13.971 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message persisted to SQLite: id=2f49e1be-5d90-4a7c-a7c7-0a509bc831e6
2025-10-03 21:32:13.976 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251523, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:32:13.977 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251523, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759507333969,"fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:32:15.215 13177-22499 Capacitor/...gingPlugin com.confessr.app                     V  Notifying listeners for event notificationReceived
2025-10-03 21:32:15.229 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 CRITICAL: FirebaseMessaging.notificationReceived FIRED! [object Object]
2025-10-03 21:32:15.230 13177-14952 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js
2025-10-03 21:32:15.230 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 Raw notification object: {"notification":{"id":"0:1759507334741832%5612aab15612aab1","data":{"message_id":"2f49e1be-5d90-4a7c-a7c7-0a509bc831e6","type":"new_message","group_id":"fcf73372-c86c-4e53-ac3d-f28896ce1d30","created_at":"2025-10-03T16:02:15.144Z"},"title":"New message","body":"You have a new message in Confessr","clickAction":"FLUTTER_NOTIFICATION_CLICK"}}
2025-10-03 21:32:15.230 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 Extracted data: {"message_id":"2f49e1be-5d90-4a7c-a7c7-0a509bc831e6","type":"new_message","group_id":"fcf73372-c86c-4e53-ac3d-f28896ce1d30","created_at":"2025-10-03T16:02:15.144Z"}
2025-10-03 21:32:15.230 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 Notification received, reason=data, data: [object Object]
2025-10-03 21:32:15.230 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 📥 Attempting direct fetch for message 2f49e1be-5d90-4a7c-a7c7-0a509bc831e6
2025-10-03 21:32:15.255 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 2 - Msg: [bg-sync] 🚀 Starting fetch for message 2f49e1be-5d90-4a7c-a7c7-0a509bc831e6 in group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:32:15.914 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Marking group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read, lastMessageId=2f49e1be-5d90-4a7c-a7c7-0a509bc831e6
2025-10-03 21:32:15.915 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Marked group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read up to message 2f49e1be-5d90-4a7c-a7c7-0a509bc831e6
2025-10-03 21:32:23.261 13177-13177 Capacitor/Console       com.confessr.app                     E  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] ❌ Exception in fetchAndStoreMessage for 2f49e1be-5d90-4a7c-a7c7-0a509bc831e6: Fetch timeout after 8s
2025-10-03 21:32:23.263 13177-13177 Capacitor/Console       com.confessr.app                     W  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ⚠️ Direct fetch returned false for message 2f49e1be-5d90-4a7c-a7c7-0a509bc831e6
2025-10-03 21:32:23.264 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔄 Triggering fallback sync via onWake (messageHandled=false)
2025-10-03 21:32:23.265 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Wake event: data
2025-10-03 21:32:23.266 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] 📬 New message in group fcf73372-c86c-4e53-ac3d-f28896ce1d30 - staying on current screen
2025-10-03 21:32:23.267 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] App resumed - delegating to reconnection manager
2025-10-03 21:32:23.268 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: app-resume (priority: high)
2025-10-03 21:32:23.269 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: app-resume
2025-10-03 21:32:23.270 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 16:02:23 Reconnect already in progress, waiting - reason: app-resume
2025-10-03 21:32:23.271 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Fetching missed messages for all groups...
2025-10-03 21:32:23.271 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] Fetching missed messages for all groups
2025-10-03 21:32:23.277 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251524, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:32:23.277 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251524, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:32:23.298 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 since beginning
2025-10-03 21:32:23.303 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251525, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:32:23.304 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251525, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:32:23.313 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:02:23.311 📦 Starting outbox processing - session outbox-1759507343311
2025-10-03 21:32:23.314 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:02:23.312 📦 Outbox pre-check: sqliteReady after 1ms
2025-10-03 21:32:23.320 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251526, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:32:23.321 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251526, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759507343312],"readonly":false,"isSQL92":true}
2025-10-03 21:32:23.332 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:02:23.328 📦 No outbox messages to process; idle
2025-10-03 21:32:32.308 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event backButton
2025-10-03 21:32:32.313 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:32:32.423 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:32:32.445 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Loading groups from local storage first (local-first approach)
2025-10-03 21:32:32.446 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251527, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:32:32.446 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251527, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:32:32.473 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Found 7 groups in local storage
2025-10-03 21:32:32.473 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ✅ Loaded 7 groups from local storage
2025-10-03 21:32:32.482 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251528, pluginId: Network, methodName: getStatus
2025-10-03 21:32:32.483 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251528, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:32:32.629 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: � B ackground syncing groups with Supabase...
2025-10-03 21:32:32.629 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Fetching groups from Supabase...
2025-10-03 21:32:32.629 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:02:32.618 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:32:32.629 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:02:32.618 🔄 Starting background session refresh with cached tokens
2025-10-03 21:32:34.263 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=0
2025-10-03 21:32:34.266 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 💬 ChatArea: Opening chat for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 (Dy Patil)
2025-10-03 21:32:34.267 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Fetching messages for group: fcf73372-c86c-4e53-ac3d-f28896ce1d30 (started at 16:02:34.263Z)
2025-10-03 21:32:34.284 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite ready check: true (19ms)
2025-10-03 21:32:34.284 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: HIT for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 (49 messages)
2025-10-03 21:32:34.284 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📦 Cache check completed in 1ms, found 49 messages
2025-10-03 21:32:34.285 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⚡ INSTANT: Loading messages from in-memory cache
2025-10-03 21:32:34.285 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=49, existing=0, optimistic=0, realtime=0, final=49
2025-10-03 21:32:34.286 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⚡ INSTANT: Displayed 49 cached messages instantly
2025-10-03 21:32:34.286 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Background refresh from SQLite (started at 21ms from group open)
2025-10-03 21:32:34.362 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=49
2025-10-03 21:32:34.367 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251529, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:32:34.367 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251529, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30",50],"readonly":false,"isSQL92":true}
2025-10-03 21:32:34.589 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Background: Refreshing messages from SQLite to ensure cache is current
2025-10-03 21:32:34.591 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Canceling pending cleanup timer (reusing connection)
2025-10-03 21:32:34.591 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview] 16:02:34 ℹ️ Checking WebView readiness for realtime setup
2025-10-03 21:32:34.591 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview-lifecycle] 16:02:34 WebView already ready
2025-10-03 21:32:34.591 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:02:34.515 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:32:34.592 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Setting up simplified realtime subscription for group: fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:32:34.592 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [timing] 16:02:34 🔍 Started timing: realtime-setup {"groupId":"fcf73372-c86c-4e53-ac3d-f28896ce1d30"}
2025-10-03 21:32:34.592 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Skipping blocking auth check; proceeding with local auth state
2025-10-03 21:32:34.592 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:02:34.515 🔐 Waiting for in-flight session request
2025-10-03 21:32:34.592 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite query completed in 267ms, got 50 messages
2025-10-03 21:32:34.646 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251530, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:32:34.647 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251530, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-03 21:32:34.842 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251531, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:32:34.842 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251531, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["5892ff67-983f-46bc-b892-f4cb544c5c0e"],"readonly":false,"isSQL92":true}
2025-10-03 21:32:34.936 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:32:34.936 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=47, existing=49, optimistic=0, realtime=0, final=47
2025-10-03 21:32:34.936 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Background: Updated UI with 47 fresh messages from SQLite
2025-10-03 21:32:35.027 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=47
2025-10-03 21:32:35.052 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Loading remaining messages in background...
2025-10-03 21:32:35.053 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251532, pluginId: Network, methodName: getStatus
2025-10-03 21:32:35.053 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251532, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:32:35.080 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251533, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:32:35.081 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251533, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30",50],"readonly":false,"isSQL92":true}
2025-10-03 21:32:35.105 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Background: Fetching messages from Supabase (non-blocking)...
2025-10-03 21:32:35.105 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 💬 ChatArea: Messages loaded in 826.80ms
2025-10-03 21:32:36.356 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:02:36.317 🔄 Recovering session using cached tokens...
2025-10-03 21:32:36.357 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:02:36.318 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:32:36.357 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:02:36.319 🔄 Using cached tokens to recover session
2025-10-03 21:32:37.041 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Marking group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read, lastMessageId=2f49e1be-5d90-4a7c-a7c7-0a509bc831e6
2025-10-03 21:32:37.043 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Marked group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read up to message 2f49e1be-5d90-4a7c-a7c7-0a509bc831e6
2025-10-03 21:32:38.165 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:32:38.288 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 16:02:38 📊 Status: connecting -  
2025-10-03 21:32:38.289 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 16:02:38 ℹ️ Connection status: connecting -  {"isUserVisible":false}
2025-10-03 21:32:38.289 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Creating channel: group-fcf73372-c86c-4e53-ac3d-f28896ce1d30-1759507358123-cmpj8dksrc
2025-10-03 21:32:38.491 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Subscription status: SUBSCRIBED
2025-10-03 21:32:38.493 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ✅ Realtime connected successfully
2025-10-03 21:32:38.610 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 16:02:38 📊 Status: connected -  
2025-10-03 21:32:38.611 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 16:02:38 ℹ️ Connection status: connected -  {"isUserVisible":false}
2025-10-03 21:32:39.369 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event backButton
2025-10-03 21:32:39.374 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:32:39.408 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:32:39.415 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Loading groups from local storage first (local-first approach)
2025-10-03 21:32:39.416 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251534, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:32:39.416 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251534, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:32:39.440 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Found 7 groups in local storage
2025-10-03 21:32:39.440 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ✅ Loaded 7 groups from local storage
2025-10-03 21:32:39.444 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251535, pluginId: Network, methodName: getStatus
2025-10-03 21:32:39.444 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251535, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:32:39.608 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: realtime-connected (priority: normal)
2025-10-03 21:32:39.608 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 75ms for: realtime-connected
2025-10-03 21:32:39.627 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: � B ackground syncing groups with Supabase...
2025-10-03 21:32:39.627 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Fetching groups from Supabase...
2025-10-03 21:32:39.627 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:02:39.610 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:32:39.663 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:02:39.637 📦 Starting outbox processing - session outbox-1759507359637
2025-10-03 21:32:39.663 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:02:39.638 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:32:39.679 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251536, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:32:39.679 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251536, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759507359638],"readonly":false,"isSQL92":true}
2025-10-03 21:32:39.693 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:02:39.692 📦 No outbox messages to process; idle
2025-10-03 21:32:44.412 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⏭️ Skipping cleanup - channel still active (state: joined)
2025-10-03 21:32:46.325 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:02:46.320 🔄 Token recovery timed out after 10s
2025-10-03 21:33:03.470 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Realtime INSERT received: id=916a0557-2351-442b-a3da-1fa8571ecb6d, content="why token recovery i...", user=5892ff67-983f-46bc-b892-f4cb544c5c0e, dedupe=d:5892ff67-983f-46bc-b892-f4cb544c5c0e:fcf73372-c86c-4e53-ac3d-f28896ce1d30:1759507381393-7rsf1qrw4ze
2025-10-03 21:33:03.509 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Built message from row: id=916a0557-2351-442b-a3da-1fa8571ecb6d, delivery_status=delivered
2025-10-03 21:33:03.510 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📨 attachMessageToState: action=added-new, id=916a0557-2351-442b-a3da-1fa8571ecb6d, oldId=null, before=0, after=1
2025-10-03 21:33:03.511 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 1 messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:33:03.511 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📦 MessageCache updated for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 after realtime insert (1 messages)
2025-10-03 21:33:03.512 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message attached to state: id=916a0557-2351-442b-a3da-1fa8571ecb6d
2025-10-03 21:33:03.532 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251537, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:33:03.532 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251537, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["916a0557-2351-442b-a3da-1fa8571ecb6d","fcf73372-c86c-4e53-ac3d-f28896ce1d30","5892ff67-983f-46bc-b892-f4cb544c5c0e","why token recovery is timing put",1,"text",null,null,null,1759507383241,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:33:03.533 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⚠️ Ignoring stale realtime INSERT (token mismatch)
2025-10-03 21:33:03.568 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message persisted to SQLite: id=916a0557-2351-442b-a3da-1fa8571ecb6d
2025-10-03 21:33:03.572 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251538, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:33:03.573 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251538, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759507383567,"fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:33:03.603 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📊 Unread count updated for group fcf73372-c86c-4e53-ac3d-f28896ce1d30: 0
2025-10-03 21:33:05.124 13177-22556 Capacitor/...gingPlugin com.confessr.app                     V  Notifying listeners for event notificationReceived
2025-10-03 21:33:05.131 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 CRITICAL: FirebaseMessaging.notificationReceived FIRED! [object Object]
2025-10-03 21:33:05.132 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 Raw notification object: {"notification":{"id":"0:1759507384740733%5612aab15612aab1","data":{"message_id":"916a0557-2351-442b-a3da-1fa8571ecb6d","type":"new_message","group_id":"fcf73372-c86c-4e53-ac3d-f28896ce1d30","created_at":"2025-10-03T16:03:05.177Z"},"title":"New message","body":"You have a new message in Confessr","clickAction":"FLUTTER_NOTIFICATION_CLICK"}}
2025-10-03 21:33:05.132 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 Extracted data: {"message_id":"916a0557-2351-442b-a3da-1fa8571ecb6d","type":"new_message","group_id":"fcf73372-c86c-4e53-ac3d-f28896ce1d30","created_at":"2025-10-03T16:03:05.177Z"}
2025-10-03 21:33:05.133 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 Notification received, reason=data, data: [object Object]
2025-10-03 21:33:05.133 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 📥 Attempting direct fetch for message 916a0557-2351-442b-a3da-1fa8571ecb6d
2025-10-03 21:33:05.133 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 2 - Msg: [bg-sync] 🚀 Starting fetch for message 916a0557-2351-442b-a3da-1fa8571ecb6d in group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:33:13.132 13177-13177 Capacitor/Console       com.confessr.app                     E  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] ❌ Exception in fetchAndStoreMessage for 916a0557-2351-442b-a3da-1fa8571ecb6d: Fetch timeout after 8s
2025-10-03 21:33:13.133 13177-13177 Capacitor/Console       com.confessr.app                     W  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ⚠️ Direct fetch returned false for message 916a0557-2351-442b-a3da-1fa8571ecb6d
2025-10-03 21:33:13.134 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔄 Triggering fallback sync via onWake (messageHandled=false)
2025-10-03 21:33:13.135 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Wake event: data
2025-10-03 21:33:13.136 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] 📬 New message in group fcf73372-c86c-4e53-ac3d-f28896ce1d30 - staying on current screen
2025-10-03 21:33:13.136 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] No active group, skipping resume
2025-10-03 21:33:13.137 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Fetching missed messages for all groups...
2025-10-03 21:33:13.138 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] Fetching missed messages for all groups
2025-10-03 21:33:13.145 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251539, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:33:13.146 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251539, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:33:13.163 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 since beginning
2025-10-03 21:33:13.164 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251540, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:33:13.165 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251540, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:33:40.454 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=0
2025-10-03 21:33:40.455 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 💬 ChatArea: Opening chat for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 (Dy Patil)
2025-10-03 21:33:40.455 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Fetching messages for group: fcf73372-c86c-4e53-ac3d-f28896ce1d30 (started at 16:03:40.452Z)
2025-10-03 21:33:40.476 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite ready check: true (23ms)
2025-10-03 21:33:40.477 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: HIT for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 (1 messages)
2025-10-03 21:33:40.477 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📦 Cache check completed in 0ms, found 1 messages
2025-10-03 21:33:40.477 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⚡ INSTANT: Loading messages from in-memory cache
2025-10-03 21:33:40.478 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=1, existing=0, optimistic=0, realtime=0, final=1
2025-10-03 21:33:40.478 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⚡ INSTANT: Displayed 1 cached messages instantly
2025-10-03 21:33:40.478 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Background refresh from SQLite (started at 24ms from group open)
2025-10-03 21:33:40.499 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=1
2025-10-03 21:33:40.501 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251541, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:33:40.501 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251541, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30",50],"readonly":false,"isSQL92":true}
2025-10-03 21:33:40.636 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Background: Refreshing messages from SQLite to ensure cache is current
2025-10-03 21:33:40.636 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview] 16:03:40 ℹ️ Checking WebView readiness for realtime setup
2025-10-03 21:33:40.636 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview-lifecycle] 16:03:40 WebView already ready
2025-10-03 21:33:40.637 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:03:40.538 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:33:40.637 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:03:40.538 🔄 Starting background session refresh with cached tokens
2025-10-03 21:33:40.637 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Setting up simplified realtime subscription for group: fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:33:40.637 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [timing] 16:03:40 🔍 Started timing: realtime-setup {"groupId":"fcf73372-c86c-4e53-ac3d-f28896ce1d30"}
2025-10-03 21:33:40.638 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Skipping blocking auth check; proceeding with local auth state
2025-10-03 21:33:40.638 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:03:40.539 🔐 Waiting for in-flight session request
2025-10-03 21:33:40.730 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite query completed in 165ms, got 50 messages
2025-10-03 21:33:40.756 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251542, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:33:40.756 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251542, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-03 21:33:40.834 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251543, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:33:40.834 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251543, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["5892ff67-983f-46bc-b892-f4cb544c5c0e"],"readonly":false,"isSQL92":true}
2025-10-03 21:33:40.881 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:33:40.881 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=47, existing=1, optimistic=0, realtime=0, final=47
2025-10-03 21:33:40.881 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Background: Updated UI with 47 fresh messages from SQLite
2025-10-03 21:33:41.003 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=47
2025-10-03 21:33:41.019 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251544, pluginId: Network, methodName: getStatus
2025-10-03 21:33:41.019 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251544, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:33:41.213 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Background: Fetching messages from Supabase (non-blocking)...
2025-10-03 21:33:41.213 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 💬 ChatArea: Messages loaded in 748.00ms
2025-10-03 21:33:41.213 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Loading remaining messages in background...
2025-10-03 21:33:41.255 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251545, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:33:41.255 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251545, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30",50],"readonly":false,"isSQL92":true}
2025-10-03 21:33:42.353 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:03:42.340 🔄 Recovering session using cached tokens...
2025-10-03 21:33:42.355 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:03:42.340 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:33:42.355 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:03:42.341 🔄 Using cached tokens to recover session
2025-10-03 21:33:43.012 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Marking group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read, lastMessageId=916a0557-2351-442b-a3da-1fa8571ecb6d
2025-10-03 21:33:43.013 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Marked group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read up to message 916a0557-2351-442b-a3da-1fa8571ecb6d
2025-10-03 21:33:44.144 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:33:44.313 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 16:03:44 📊 Status: connecting -  
2025-10-03 21:33:44.314 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 16:03:44 ℹ️ Connection status: connecting -  {"isUserVisible":false}
2025-10-03 21:33:44.315 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Creating channel: group-fcf73372-c86c-4e53-ac3d-f28896ce1d30-1759507424141-uhh4lz0h77
2025-10-03 21:33:44.567 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Subscription status: SUBSCRIBED
2025-10-03 21:33:44.568 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ✅ Realtime connected successfully
2025-10-03 21:33:44.676 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 16:03:44 📊 Status: connected -  
2025-10-03 21:33:44.677 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 16:03:44 ℹ️ Connection status: connected -  {"isUserVisible":false}
2025-10-03 21:33:45.639 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: realtime-connected (priority: normal)
2025-10-03 21:33:45.640 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 75ms for: realtime-connected
2025-10-03 21:33:45.718 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:03:45.715 📦 Starting outbox processing - session outbox-1759507425715
2025-10-03 21:33:45.719 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:03:45.717 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:33:45.721 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251546, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:33:45.721 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251546, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759507425717],"readonly":false,"isSQL92":true}
2025-10-03 21:33:45.733 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:03:45.730 📦 No outbox messages to process; idle
2025-10-03 21:33:49.148 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⏭️ Skipping cleanup - channel still active (state: joined)
2025-10-03 21:33:52.344 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:03:52.342 🔄 Token recovery timed out after 10s
2025-10-03 21:35:40.615 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event pause
2025-10-03 21:35:40.617 13177-13177 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event pause
2025-10-03 21:35:40.629 13177-13177 Capacitor               com.confessr.app                     D  App paused
2025-10-03 21:35:40.756 13177-13177 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: false
2025-10-03 21:35:40.756 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-03 21:35:40.757 13177-13177 Capacitor               com.confessr.app                     D  App stopped
2025-10-03 21:35:40.762 13177-13177 Capacitor               com.confessr.app                     D  Saving instance state!
2025-10-03 21:35:40.764 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [device-lock] 16:05:40 📱 Device locked/app backgrounded
2025-10-03 21:35:40.765 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📱 App state changed: inactive
2025-10-03 21:35:40.765 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📱 App going to background/pause
2025-10-03 21:35:40.765 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [lifecycle] App paused - resetting outbox processing state
2025-10-03 21:35:40.765 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-03 21:40:11.960 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⚠️ Ignoring stale realtime INSERT (token mismatch)
2025-10-03 21:40:11.961 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⚠️ Ignoring stale realtime INSERT (token mismatch)
2025-10-03 21:40:11.964 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Realtime INSERT received: id=789fd1cf-00ec-48a3-bebd-ea83a38efb7b, content="will u work...", user=5892ff67-983f-46bc-b892-f4cb544c5c0e, dedupe=d:5892ff67-983f-46bc-b892-f4cb544c5c0e:fcf73372-c86c-4e53-ac3d-f28896ce1d30:1759507813059-x54387chw6c
2025-10-03 21:40:12.170 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Built message from row: id=789fd1cf-00ec-48a3-bebd-ea83a38efb7b, delivery_status=delivered
2025-10-03 21:40:12.171 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📨 attachMessageToState: action=added-new, id=789fd1cf-00ec-48a3-bebd-ea83a38efb7b, oldId=null, before=47, after=48
2025-10-03 21:40:12.171 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 48 messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:40:12.172 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📦 MessageCache updated for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 after realtime insert (48 messages)
2025-10-03 21:40:12.172 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message attached to state: id=789fd1cf-00ec-48a3-bebd-ea83a38efb7b
2025-10-03 21:40:12.352 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=48
2025-10-03 21:40:12.471 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251547, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:40:12.471 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251547, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["789fd1cf-00ec-48a3-bebd-ea83a38efb7b","fcf73372-c86c-4e53-ac3d-f28896ce1d30","5892ff67-983f-46bc-b892-f4cb544c5c0e","will u work",1,"text",null,null,null,1759507811783,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:40:12.506 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message persisted to SQLite: id=789fd1cf-00ec-48a3-bebd-ea83a38efb7b
2025-10-03 21:40:12.509 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251548, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:40:12.509 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251548, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759507812506,"fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:40:14.725 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Marking group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read, lastMessageId=789fd1cf-00ec-48a3-bebd-ea83a38efb7b
2025-10-03 21:40:14.726 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Marked group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read up to message 789fd1cf-00ec-48a3-bebd-ea83a38efb7b
2025-10-03 21:40:25.674 13177-13177 Capacitor               com.confessr.app                     D  App restarted
2025-10-03 21:40:25.675 13177-13177 Capacitor               com.confessr.app                     D  App started
2025-10-03 21:40:25.678 13177-13177 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: true
2025-10-03 21:40:25.678 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-03 21:40:25.678 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event resume
2025-10-03 21:40:25.684 13177-13177 Capacitor               com.confessr.app                     D  App resumed
2025-10-03 21:40:25.685 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [device-lock] 16:10:25 🔓 Device unlocked after 285s (short lock)
2025-10-03 21:40:25.685 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 16:10:25 🔓 Device unlocked: short lock (285s)
2025-10-03 21:40:25.685 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📱 App state changed: active
2025-10-03 21:40:25.686 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [device-lifecycle] 16:10:25 ℹ️ App resume from appStateChange {"timeSinceLastResume":928525,"source":"appStateChange"}
2025-10-03 21:40:25.714 13177-15006 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-03 21:40:25.729 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:25.689 📱 App resume detected - checking session state
2025-10-03 21:40:25.729 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:25.689 🔄 Recovering session using cached tokens...
2025-10-03 21:40:25.729 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:25.689 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:40:25.729 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:25.689 🔄 Starting background session refresh with cached tokens
2025-10-03 21:40:25.729 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:25.690 🔄 Using cached tokens to recover session
2025-10-03 21:40:25.729 13177-13177 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-03 21:40:25.729 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [device-lock] 16:10:25 App foreground event while not locked, treating as activity
2025-10-03 21:40:25.730 13177-13177 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-03 21:40:25.730 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: app-resume (priority: high)
2025-10-03 21:40:25.730 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: app-resume
2025-10-03 21:40:25.730 13177-13177 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-03 21:40:25.730 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [device-lifecycle] 16:10:25 ℹ️ App resume from resume {"timeSinceLastResume":11,"source":"resume"}
2025-10-03 21:40:25.730 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [device-lifecycle] 16:10:25 🔍 Resume debounced (too soon after last resume)
2025-10-03 21:40:25.730 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 16:10:25 Reconnect already in progress, waiting - reason: device-unlock-short
2025-10-03 21:40:25.754 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:25.749 📦 Starting outbox processing - session outbox-1759507825749
2025-10-03 21:40:25.754 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:25.749 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:40:25.774 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251549, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:25.774 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251549, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759507825749],"readonly":false,"isSQL92":true}
2025-10-03 21:40:25.815 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [network] 16:10:25 ℹ️ Network status: online {"isOnline":true,"connectionType":"wifi"}
2025-10-03 21:40:25.816 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [network] 16:10:25 ℹ️ Network reconnected
2025-10-03 21:40:25.816 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Network came online
2025-10-03 21:40:25.816 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Network online - triggering outbox processing only
2025-10-03 21:40:25.816 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: network-online (priority: high)
2025-10-03 21:40:25.816 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: network-online
2025-10-03 21:40:26.043 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:26.042 🌐 Network reconnection detected - refreshing session
2025-10-03 21:40:26.043 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:26.042 🔄 Recovering session using cached tokens...
2025-10-03 21:40:26.043 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:26.042 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:40:26.043 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:26.042 🔄 Using cached tokens to recover session
2025-10-03 21:40:26.050 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:26.044 📦 No outbox messages to process; idle
2025-10-03 21:40:26.050 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:26.045 📦 Starting outbox processing - session outbox-1759507826045
2025-10-03 21:40:26.050 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:26.046 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:40:26.051 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251550, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:26.051 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251550, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759507826046],"readonly":false,"isSQL92":true}
2025-10-03 21:40:26.066 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:26.061 📦 No outbox messages to process; idle
2025-10-03 21:40:26.307 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 16:10:26 Reconnect already in progress, waiting - reason: network-online
2025-10-03 21:40:26.407 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Channel already subscribed (fast path)
2025-10-03 21:40:26.407 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Fetching messages for group: fcf73372-c86c-4e53-ac3d-f28896ce1d30 (started at 16:10:26.406Z)
2025-10-03 21:40:26.484 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite ready check: true (77ms)
2025-10-03 21:40:26.485 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: HIT for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 (48 messages)
2025-10-03 21:40:26.485 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📦 Cache check completed in 0ms, found 48 messages
2025-10-03 21:40:26.486 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⚡ INSTANT: Loading messages from in-memory cache
2025-10-03 21:40:26.489 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=48, existing=48, optimistic=0, realtime=0, final=48
2025-10-03 21:40:26.489 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⚡ INSTANT: Displayed 48 cached messages instantly
2025-10-03 21:40:26.489 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Background refresh from SQLite (started at 79ms from group open)
2025-10-03 21:40:26.521 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251551, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:26.521 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251551, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30",50],"readonly":false,"isSQL92":true}
2025-10-03 21:40:26.529 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite query completed in 43ms, got 50 messages
2025-10-03 21:40:26.530 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251552, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:26.530 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251552, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-03 21:40:26.536 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Background: Refreshing messages from SQLite to ensure cache is current
2025-10-03 21:40:26.538 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251553, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:26.538 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251553, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["5892ff67-983f-46bc-b892-f4cb544c5c0e"],"readonly":false,"isSQL92":true}
2025-10-03 21:40:26.544 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:40:26.544 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=47, existing=48, optimistic=0, realtime=0, final=47
2025-10-03 21:40:26.544 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Background: Updated UI with 47 fresh messages from SQLite
2025-10-03 21:40:26.592 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=47
2025-10-03 21:40:26.593 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251554, pluginId: Network, methodName: getStatus
2025-10-03 21:40:26.593 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251554, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:40:26.633 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Background: Fetching messages from Supabase (non-blocking)...
2025-10-03 21:40:26.649 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Loading remaining messages in background...
2025-10-03 21:40:26.652 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251555, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:26.652 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251555, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30",50],"readonly":false,"isSQL92":true}
2025-10-03 21:40:27.763 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event backButton
2025-10-03 21:40:27.764 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:40:27.830 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:40:27.840 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Loading groups from local storage first (local-first approach)
2025-10-03 21:40:27.841 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251556, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:27.841 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251556, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:40:27.855 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Found 7 groups in local storage
2025-10-03 21:40:27.855 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ✅ Loaded 7 groups from local storage
2025-10-03 21:40:27.859 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251557, pluginId: Network, methodName: getStatus
2025-10-03 21:40:27.859 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251557, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:40:27.865 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: � B ackground syncing groups with Supabase...
2025-10-03 21:40:27.866 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Fetching groups from Supabase...
2025-10-03 21:40:27.866 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:27.865 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:40:32.416 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⚠️ Ignoring stale realtime INSERT (token mismatch)
2025-10-03 21:40:32.417 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⚠️ Ignoring stale realtime INSERT (token mismatch)
2025-10-03 21:40:32.420 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Realtime INSERT received: id=9424deb1-5c0e-4f82-bd91-e2791ca2162b, content="great...", user=5892ff67-983f-46bc-b892-f4cb544c5c0e, dedupe=d:5892ff67-983f-46bc-b892-f4cb544c5c0e:fcf73372-c86c-4e53-ac3d-f28896ce1d30:1759507833617-80tgfw4q1hf
2025-10-03 21:40:32.461 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Built message from row: id=9424deb1-5c0e-4f82-bd91-e2791ca2162b, delivery_status=delivered
2025-10-03 21:40:32.462 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📨 attachMessageToState: action=added-new, id=9424deb1-5c0e-4f82-bd91-e2791ca2162b, oldId=null, before=0, after=1
2025-10-03 21:40:32.462 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 1 messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:40:32.463 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📦 MessageCache updated for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 after realtime insert (1 messages)
2025-10-03 21:40:32.463 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message attached to state: id=9424deb1-5c0e-4f82-bd91-e2791ca2162b
2025-10-03 21:40:32.484 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251558, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:40:32.485 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251558, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["9424deb1-5c0e-4f82-bd91-e2791ca2162b","fcf73372-c86c-4e53-ac3d-f28896ce1d30","5892ff67-983f-46bc-b892-f4cb544c5c0e","great",1,"text",null,null,null,1759507832209,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:40:32.519 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message persisted to SQLite: id=9424deb1-5c0e-4f82-bd91-e2791ca2162b
2025-10-03 21:40:32.524 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251559, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:40:32.525 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251559, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759507832516,"fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:40:32.553 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📊 Unread count updated for group fcf73372-c86c-4e53-ac3d-f28896ce1d30: 0
2025-10-03 21:40:32.833 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⏭️ Skipping cleanup - channel still active (state: joined)
2025-10-03 21:40:33.877 13177-24533 Capacitor/...gingPlugin com.confessr.app                     V  Notifying listeners for event notificationReceived
2025-10-03 21:40:33.881 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 CRITICAL: FirebaseMessaging.notificationReceived FIRED! [object Object]
2025-10-03 21:40:33.881 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 Raw notification object: {"notification":{"id":"0:1759507833547842%5612aab15612aab1","data":{"message_id":"9424deb1-5c0e-4f82-bd91-e2791ca2162b","type":"new_message","group_id":"fcf73372-c86c-4e53-ac3d-f28896ce1d30","created_at":"2025-10-03T16:10:34.062Z"},"title":"New message","body":"You have a new message in Confessr","clickAction":"FLUTTER_NOTIFICATION_CLICK"}}
2025-10-03 21:40:33.881 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 Extracted data: {"message_id":"9424deb1-5c0e-4f82-bd91-e2791ca2162b","type":"new_message","group_id":"fcf73372-c86c-4e53-ac3d-f28896ce1d30","created_at":"2025-10-03T16:10:34.062Z"}
2025-10-03 21:40:33.882 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 Notification received, reason=data, data: [object Object]
2025-10-03 21:40:33.882 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 📥 Attempting direct fetch for message 9424deb1-5c0e-4f82-bd91-e2791ca2162b
2025-10-03 21:40:33.882 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 2 - Msg: [bg-sync] 🚀 Starting fetch for message 9424deb1-5c0e-4f82-bd91-e2791ca2162b in group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:40:35.693 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:35.690 🔄 Token recovery timed out after 10s
2025-10-03 21:40:35.694 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:35.691 ⚠️ App resume: token recovery failed, session may need refresh
2025-10-03 21:40:35.695 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:35.692 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:40:35.696 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:35.692 ✅ App resume: token applied to realtime
2025-10-03 21:40:35.697 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:35.694 📦 Triggering outbox processing from: app-resume
2025-10-03 21:40:35.698 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:35.694 ✅ App resume completed using token recovery strategy
2025-10-03 21:40:35.699 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [general] 16:10:35 ℹ️ Triggered outbox processing on app resume
2025-10-03 21:40:35.700 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [device-lifecycle] 16:10:35 ℹ️ App resume processed from appStateChange
2025-10-03 21:40:35.700 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:35.698 📦 Starting outbox processing - session outbox-1759507835698
2025-10-03 21:40:35.701 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:35.698 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:40:35.706 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251560, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:35.707 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251560, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759507835699],"readonly":false,"isSQL92":true}
2025-10-03 21:40:35.718 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:35.716 📦 No outbox messages to process; idle
2025-10-03 21:40:36.050 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:36.044 🔄 Token recovery timed out after 10s
2025-10-03 21:40:36.051 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:36.045 📦 Triggering outbox processing from: network-reconnect
2025-10-03 21:40:36.052 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:36.046 ✅ Network reconnect session refresh completed
2025-10-03 21:40:36.053 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:36.047 📦 Starting outbox processing - session outbox-1759507836047
2025-10-03 21:40:36.054 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:36.047 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:40:36.059 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251561, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:36.060 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251561, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759507836048],"readonly":false,"isSQL92":true}
2025-10-03 21:40:36.072 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:36.068 📦 No outbox messages to process; idle
2025-10-03 21:40:41.883 13177-13177 Capacitor/Console       com.confessr.app                     E  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] ❌ Exception in fetchAndStoreMessage for 9424deb1-5c0e-4f82-bd91-e2791ca2162b: Fetch timeout after 8s
2025-10-03 21:40:41.884 13177-13177 Capacitor/Console       com.confessr.app                     W  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ⚠️ Direct fetch returned false for message 9424deb1-5c0e-4f82-bd91-e2791ca2162b
2025-10-03 21:40:41.885 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔄 Triggering fallback sync via onWake (messageHandled=false)
2025-10-03 21:40:41.885 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Wake event: data
2025-10-03 21:40:41.886 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] 📬 New message in group fcf73372-c86c-4e53-ac3d-f28896ce1d30 - staying on current screen
2025-10-03 21:40:41.887 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] No active group, skipping resume
2025-10-03 21:40:41.887 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Fetching missed messages for all groups...
2025-10-03 21:40:41.888 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] Fetching missed messages for all groups
2025-10-03 21:40:41.892 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251562, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:41.892 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251562, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:40:41.899 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 since beginning
2025-10-03 21:40:41.901 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251563, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:41.901 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251563, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:40:43.962 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=0
2025-10-03 21:40:43.963 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 💬 ChatArea: Opening chat for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 (Dy Patil)
2025-10-03 21:40:43.963 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Fetching messages for group: fcf73372-c86c-4e53-ac3d-f28896ce1d30 (started at 16:10:43.962Z)
2025-10-03 21:40:43.972 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite ready check: true (10ms)
2025-10-03 21:40:43.972 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: HIT for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 (1 messages)
2025-10-03 21:40:43.973 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📦 Cache check completed in 0ms, found 1 messages
2025-10-03 21:40:43.973 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⚡ INSTANT: Loading messages from in-memory cache
2025-10-03 21:40:43.973 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=1, existing=0, optimistic=0, realtime=0, final=1
2025-10-03 21:40:43.973 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⚡ INSTANT: Displayed 1 cached messages instantly
2025-10-03 21:40:43.973 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Background refresh from SQLite (started at 10ms from group open)
2025-10-03 21:40:43.984 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=1
2025-10-03 21:40:43.986 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251564, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:43.986 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251564, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30",50],"readonly":false,"isSQL92":true}
2025-10-03 21:40:44.019 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite query completed in 46ms, got 50 messages
2025-10-03 21:40:44.020 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251565, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:44.020 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251565, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-03 21:40:44.023 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Background: Refreshing messages from SQLite to ensure cache is current
2025-10-03 21:40:44.023 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251566, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:44.024 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251566, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["5892ff67-983f-46bc-b892-f4cb544c5c0e"],"readonly":false,"isSQL92":true}
2025-10-03 21:40:44.082 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview] 16:10:44 ℹ️ Checking WebView readiness for realtime setup
2025-10-03 21:40:44.082 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview-lifecycle] 16:10:44 WebView already ready
2025-10-03 21:40:44.082 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:44.037 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:40:44.083 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Setting up simplified realtime subscription for group: fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:40:44.083 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [timing] 16:10:44 🔍 Started timing: realtime-setup {"groupId":"fcf73372-c86c-4e53-ac3d-f28896ce1d30"}
2025-10-03 21:40:44.083 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Skipping blocking auth check; proceeding with local auth state
2025-10-03 21:40:44.083 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:44.037 🔐 Waiting for in-flight session request
2025-10-03 21:40:44.152 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:40:44.152 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=47, existing=1, optimistic=0, realtime=0, final=47
2025-10-03 21:40:44.152 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Background: Updated UI with 47 fresh messages from SQLite
2025-10-03 21:40:44.173 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=47
2025-10-03 21:40:44.174 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251567, pluginId: Network, methodName: getStatus
2025-10-03 21:40:44.174 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251567, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:40:44.369 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Background: Fetching messages from Supabase (non-blocking)...
2025-10-03 21:40:44.369 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 💬 ChatArea: Messages loaded in 379.80ms
2025-10-03 21:40:44.369 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Loading remaining messages in background...
2025-10-03 21:40:44.403 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251568, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:44.403 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251568, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30",50],"readonly":false,"isSQL92":true}
2025-10-03 21:40:45.860 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:45.839 🔄 Recovering session using cached tokens...
2025-10-03 21:40:45.860 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:45.839 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:40:45.861 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:45.839 🔄 Using cached tokens to recover session
2025-10-03 21:40:46.176 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Marking group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read, lastMessageId=9424deb1-5c0e-4f82-bd91-e2791ca2162b
2025-10-03 21:40:46.176 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Marked group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read up to message 9424deb1-5c0e-4f82-bd91-e2791ca2162b
2025-10-03 21:40:47.681 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:40:47.787 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 16:10:47 📊 Status: connecting -  
2025-10-03 21:40:47.788 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 16:10:47 ℹ️ Connection status: connecting -  {"isUserVisible":false}
2025-10-03 21:40:47.789 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Creating channel: group-fcf73372-c86c-4e53-ac3d-f28896ce1d30-1759507847641-s6348qm7nx
2025-10-03 21:40:48.183 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Subscription status: SUBSCRIBED
2025-10-03 21:40:48.184 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ✅ Realtime connected successfully
2025-10-03 21:40:48.319 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 16:10:48 📊 Status: connected -  
2025-10-03 21:40:48.321 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 16:10:48 ℹ️ Connection status: connected -  {"isUserVisible":false}
2025-10-03 21:40:49.321 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: realtime-connected (priority: normal)
2025-10-03 21:40:49.322 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 75ms for: realtime-connected
2025-10-03 21:40:49.397 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:49.394 📦 Starting outbox processing - session outbox-1759507849394
2025-10-03 21:40:49.398 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:49.395 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:40:49.402 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251569, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:49.403 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251569, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759507849395],"readonly":false,"isSQL92":true}
2025-10-03 21:40:49.412 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:49.410 📦 No outbox messages to process; idle
2025-10-03 21:40:52.643 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⏭️ Skipping cleanup - channel still active (state: joined)
2025-10-03 21:40:53.561 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⚠️ Ignoring stale realtime INSERT (token mismatch)
2025-10-03 21:40:53.563 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Realtime INSERT received: id=a8a96011-23f3-44cd-94e9-6342c5565f23, content="whwh...", user=5892ff67-983f-46bc-b892-f4cb544c5c0e, dedupe=d:5892ff67-983f-46bc-b892-f4cb544c5c0e:fcf73372-c86c-4e53-ac3d-f28896ce1d30:1759507854799-rmzm7nsgnkq
2025-10-03 21:40:53.686 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Built message from row: id=a8a96011-23f3-44cd-94e9-6342c5565f23, delivery_status=delivered
2025-10-03 21:40:53.688 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📨 attachMessageToState: action=added-new, id=a8a96011-23f3-44cd-94e9-6342c5565f23, oldId=null, before=47, after=48
2025-10-03 21:40:53.690 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 48 messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:40:53.691 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📦 MessageCache updated for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 after realtime insert (48 messages)
2025-10-03 21:40:53.693 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message attached to state: id=a8a96011-23f3-44cd-94e9-6342c5565f23
2025-10-03 21:40:53.751 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=48
2025-10-03 21:40:53.786 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251570, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:40:53.787 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251570, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["a8a96011-23f3-44cd-94e9-6342c5565f23","fcf73372-c86c-4e53-ac3d-f28896ce1d30","5892ff67-983f-46bc-b892-f4cb544c5c0e","whwh",1,"text",null,null,null,1759507853306,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:40:53.789 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⚠️ Ignoring stale realtime INSERT (token mismatch)
2025-10-03 21:40:53.790 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⚠️ Ignoring stale realtime INSERT (token mismatch)
2025-10-03 21:40:53.933 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message persisted to SQLite: id=a8a96011-23f3-44cd-94e9-6342c5565f23
2025-10-03 21:40:53.937 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251571, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:40:53.938 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251571, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759507853926,"fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:40:55.008 13177-25024 Capacitor/...gingPlugin com.confessr.app                     V  Notifying listeners for event notificationReceived
2025-10-03 21:40:55.013 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 CRITICAL: FirebaseMessaging.notificationReceived FIRED! [object Object]
2025-10-03 21:40:55.014 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 Raw notification object: {"notification":{"id":"0:1759507854673038%5612aab15612aab1","data":{"message_id":"a8a96011-23f3-44cd-94e9-6342c5565f23","type":"new_message","group_id":"fcf73372-c86c-4e53-ac3d-f28896ce1d30","created_at":"2025-10-03T16:10:55.159Z"},"title":"New message","body":"You have a new message in Confessr","clickAction":"FLUTTER_NOTIFICATION_CLICK"}}
2025-10-03 21:40:55.015 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 Extracted data: {"message_id":"a8a96011-23f3-44cd-94e9-6342c5565f23","type":"new_message","group_id":"fcf73372-c86c-4e53-ac3d-f28896ce1d30","created_at":"2025-10-03T16:10:55.159Z"}
2025-10-03 21:40:55.015 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 Notification received, reason=data, data: [object Object]
2025-10-03 21:40:55.016 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 📥 Attempting direct fetch for message a8a96011-23f3-44cd-94e9-6342c5565f23
2025-10-03 21:40:55.016 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 2 - Msg: [bg-sync] 🚀 Starting fetch for message a8a96011-23f3-44cd-94e9-6342c5565f23 in group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:40:55.375 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event backButton
2025-10-03 21:40:55.378 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:40:55.470 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:40:55.481 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Loading groups from local storage first (local-first approach)
2025-10-03 21:40:55.482 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251572, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:55.482 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251572, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:40:55.512 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Found 7 groups in local storage
2025-10-03 21:40:55.512 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ✅ Loaded 7 groups from local storage
2025-10-03 21:40:55.682 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251573, pluginId: Network, methodName: getStatus
2025-10-03 21:40:55.682 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251573, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:40:55.688 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: � B ackground syncing groups with Supabase...
2025-10-03 21:40:55.689 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Fetching groups from Supabase...
2025-10-03 21:40:55.689 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:55.687 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:40:55.841 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:55.840 🔄 Token recovery timed out after 10s
2025-10-03 21:40:57.681 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⚠️ Ignoring stale realtime INSERT (token mismatch)
2025-10-03 21:40:57.683 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Realtime INSERT received: id=81bb1571-9509-424e-b71d-cf13607bba32, content="jdjdjjdjd...", user=5892ff67-983f-46bc-b892-f4cb544c5c0e, dedupe=d:5892ff67-983f-46bc-b892-f4cb544c5c0e:fcf73372-c86c-4e53-ac3d-f28896ce1d30:1759507859184-c6r53npv5vi
2025-10-03 21:40:57.711 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Built message from row: id=81bb1571-9509-424e-b71d-cf13607bba32, delivery_status=delivered
2025-10-03 21:40:57.711 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📨 attachMessageToState: action=added-new, id=81bb1571-9509-424e-b71d-cf13607bba32, oldId=null, before=0, after=1
2025-10-03 21:40:57.712 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 1 messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:40:57.713 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: 📦 MessageCache updated for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 after realtime insert (1 messages)
2025-10-03 21:40:57.713 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message attached to state: id=81bb1571-9509-424e-b71d-cf13607bba32
2025-10-03 21:40:57.733 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⚠️ Ignoring stale realtime INSERT (token mismatch)
2025-10-03 21:40:57.735 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251574, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:40:57.735 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251574, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["81bb1571-9509-424e-b71d-cf13607bba32","fcf73372-c86c-4e53-ac3d-f28896ce1d30","5892ff67-983f-46bc-b892-f4cb544c5c0e","jdjdjjdjd",1,"text",null,null,null,1759507857502,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:40:57.735 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⚠️ Ignoring stale realtime INSERT (token mismatch)
2025-10-03 21:40:57.779 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📨 Message persisted to SQLite: id=81bb1571-9509-424e-b71d-cf13607bba32
2025-10-03 21:40:57.784 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251575, pluginId: CapacitorSQLite, methodName: run
2025-10-03 21:40:57.784 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251575, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759507857777,"fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-03 21:40:57.818 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] 📊 Unread count updated for group fcf73372-c86c-4e53-ac3d-f28896ce1d30: 0
2025-10-03 21:40:58.440 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=0
2025-10-03 21:40:58.442 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 💬 ChatArea: Opening chat for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 (Dy Patil)
2025-10-03 21:40:58.442 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Fetching messages for group: fcf73372-c86c-4e53-ac3d-f28896ce1d30 (started at 16:10:58.439Z)
2025-10-03 21:40:58.448 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite ready check: true (8ms)
2025-10-03 21:40:58.448 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: HIT for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 (1 messages)
2025-10-03 21:40:58.448 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📦 Cache check completed in 0ms, found 1 messages
2025-10-03 21:40:58.449 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⚡ INSTANT: Loading messages from in-memory cache
2025-10-03 21:40:58.449 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=1, existing=0, optimistic=0, realtime=0, final=1
2025-10-03 21:40:58.449 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: ⚡ INSTANT: Displayed 1 cached messages instantly
2025-10-03 21:40:58.449 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 Background refresh from SQLite (started at 8ms from group open)
2025-10-03 21:40:58.459 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=1
2025-10-03 21:40:58.461 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251576, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:58.461 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251576, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30",50],"readonly":false,"isSQL92":true}
2025-10-03 21:40:58.594 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Background: Refreshing messages from SQLite to ensure cache is current
2025-10-03 21:40:58.595 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Canceling pending cleanup timer (reusing connection)
2025-10-03 21:40:58.596 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview] 16:10:58 ℹ️ Checking WebView readiness for realtime setup
2025-10-03 21:40:58.596 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [webview-lifecycle] 16:10:58 WebView already ready
2025-10-03 21:40:58.596 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:58.519 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:40:58.596 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:58.519 🔄 Starting background session refresh with cached tokens
2025-10-03 21:40:58.596 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Setting up simplified realtime subscription for group: fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:40:58.597 13177-13177 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [timing] 16:10:58 🔍 Started timing: realtime-setup {"groupId":"fcf73372-c86c-4e53-ac3d-f28896ce1d30"}
2025-10-03 21:40:58.597 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Skipping blocking auth check; proceeding with local auth state
2025-10-03 21:40:58.597 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:10:58.519 🔐 Waiting for in-flight session request
2025-10-03 21:40:58.679 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 📱 SQLite query completed in 154ms, got 50 messages
2025-10-03 21:40:58.702 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251577, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:58.702 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251577, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-03 21:40:58.735 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:40:58.736 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=47, existing=1, optimistic=0, realtime=0, final=47
2025-10-03 21:40:58.736 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Background: Updated UI with 47 fresh messages from SQLite
2025-10-03 21:40:58.868 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=47
2025-10-03 21:40:58.870 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251578, pluginId: Network, methodName: getStatus
2025-10-03 21:40:58.870 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251578, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-03 21:40:59.012 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🌐 Background: Fetching messages from Supabase (non-blocking)...
2025-10-03 21:40:59.012 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 💬 ChatArea: Messages loaded in 568.50ms
2025-10-03 21:40:59.038 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 366 - Msg: 🔄 Loading remaining messages in background...
2025-10-03 21:40:59.066 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251579, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:40:59.066 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251579, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30",50],"readonly":false,"isSQL92":true}
2025-10-03 21:40:59.235 13177-25040 Capacitor/...gingPlugin com.confessr.app                     V  Notifying listeners for event notificationReceived
2025-10-03 21:40:59.294 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 CRITICAL: FirebaseMessaging.notificationReceived FIRED! [object Object]
2025-10-03 21:40:59.295 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 Raw notification object: {"notification":{"id":"0:1759507858893774%5612aab15612aab1","data":{"message_id":"81bb1571-9509-424e-b71d-cf13607bba32","type":"new_message","group_id":"fcf73372-c86c-4e53-ac3d-f28896ce1d30","created_at":"2025-10-03T16:10:59.439Z"},"title":"New message","body":"You have a new message in Confessr","clickAction":"FLUTTER_NOTIFICATION_CLICK"}}
2025-10-03 21:40:59.295 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 Extracted data: {"message_id":"81bb1571-9509-424e-b71d-cf13607bba32","type":"new_message","group_id":"fcf73372-c86c-4e53-ac3d-f28896ce1d30","created_at":"2025-10-03T16:10:59.439Z"}
2025-10-03 21:40:59.296 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔔 Notification received, reason=data, data: [object Object]
2025-10-03 21:40:59.297 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 📥 Attempting direct fetch for message 81bb1571-9509-424e-b71d-cf13607bba32
2025-10-03 21:40:59.298 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 2 - Msg: [bg-sync] 🚀 Starting fetch for message 81bb1571-9509-424e-b71d-cf13607bba32 in group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-03 21:41:00.353 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:11:00.320 🔄 Recovering session using cached tokens...
2025-10-03 21:41:00.355 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:11:00.320 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-03 21:41:00.355 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:11:00.321 🔄 Using cached tokens to recover session
2025-10-03 21:41:00.925 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: [unread] Marking group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read, lastMessageId=81bb1571-9509-424e-b71d-cf13607bba32
2025-10-03 21:41:00.926 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: ✅ Marked group fcf73372-c86c-4e53-ac3d-f28896ce1d30 as read up to message 81bb1571-9509-424e-b71d-cf13607bba32
2025-10-03 21:41:02.180 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-03 21:41:02.297 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 16:11:02 📊 Status: connecting -  
2025-10-03 21:41:02.298 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 16:11:02 ℹ️ Connection status: connecting -  {"isUserVisible":false}
2025-10-03 21:41:02.298 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Creating channel: group-fcf73372-c86c-4e53-ac3d-f28896ce1d30-1759507862122-tch4e06l0t9
2025-10-03 21:41:02.527 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] Subscription status: SUBSCRIBED
2025-10-03 21:41:02.528 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ✅ Realtime connected successfully
2025-10-03 21:41:02.577 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [whatsapp-connection] 16:11:02 📊 Status: connected -  
2025-10-03 21:41:02.578 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [connection] 16:11:02 ℹ️ Connection status: connected -  {"isUserVisible":false}
2025-10-03 21:41:03.019 13177-13177 Capacitor/Console       com.confessr.app                     E  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] ❌ Exception in fetchAndStoreMessage for a8a96011-23f3-44cd-94e9-6342c5565f23: Fetch timeout after 8s
2025-10-03 21:41:03.020 13177-13177 Capacitor/Console       com.confessr.app                     W  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ⚠️ Direct fetch returned false for message a8a96011-23f3-44cd-94e9-6342c5565f23
2025-10-03 21:41:03.020 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔄 Triggering fallback sync via onWake (messageHandled=false)
2025-10-03 21:41:03.021 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Wake event: data
2025-10-03 21:41:03.022 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] 📬 New message in group fcf73372-c86c-4e53-ac3d-f28896ce1d30 - staying on current screen
2025-10-03 21:41:03.023 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] App resumed - delegating to reconnection manager
2025-10-03 21:41:03.023 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: app-resume (priority: high)
2025-10-03 21:41:03.024 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: app-resume
2025-10-03 21:41:03.025 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 16:11:03 Reconnect already in progress, waiting - reason: app-resume
2025-10-03 21:41:03.026 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Fetching missed messages for all groups...
2025-10-03 21:41:03.026 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] Fetching missed messages for all groups
2025-10-03 21:41:03.032 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251580, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:41:03.032 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251580, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:41:03.052 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 since beginning
2025-10-03 21:41:03.057 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251581, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:41:03.057 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251581, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:41:03.069 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:11:03.067 📦 Starting outbox processing - session outbox-1759507863067
2025-10-03 21:41:03.071 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:11:03.068 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:41:03.076 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251582, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:41:03.077 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251582, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759507863068],"readonly":false,"isSQL92":true}
2025-10-03 21:41:03.269 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:11:03.266 📦 No outbox messages to process; idle
2025-10-03 21:41:03.565 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: realtime-connected (priority: normal)
2025-10-03 21:41:03.566 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 75ms for: realtime-connected
2025-10-03 21:41:03.640 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:11:03.638 📦 Starting outbox processing - session outbox-1759507863638
2025-10-03 21:41:03.641 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:11:03.638 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:41:03.649 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251583, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:41:03.650 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251583, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759507863638],"readonly":false,"isSQL92":true}
2025-10-03 21:41:03.660 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:11:03.658 📦 No outbox messages to process; idle
2025-10-03 21:41:07.124 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 394 - Msg: [realtime-v2] ⏭️ Skipping cleanup - channel still active (state: joined)
2025-10-03 21:41:07.270 13177-13177 Capacitor/Console       com.confessr.app                     E  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] ❌ Exception in fetchAndStoreMessage for 81bb1571-9509-424e-b71d-cf13607bba32: Fetch timeout after 8s
2025-10-03 21:41:07.271 13177-13177 Capacitor/Console       com.confessr.app                     W  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] ⚠️ Direct fetch returned false for message 81bb1571-9509-424e-b71d-cf13607bba32
2025-10-03 21:41:07.271 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: [push] 🔄 Triggering fallback sync via onWake (messageHandled=false)
2025-10-03 21:41:07.271 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Wake event: data
2025-10-03 21:41:07.271 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] 📬 New message in group fcf73372-c86c-4e53-ac3d-f28896ce1d30 - staying on current screen
2025-10-03 21:41:07.272 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] App resumed - delegating to reconnection manager
2025-10-03 21:41:07.272 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Trigger requested from: app-resume (priority: high)
2025-10-03 21:41:07.272 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: app-resume
2025-10-03 21:41:07.272 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-DoMJZsZm.js - Line 2 - Msg: [reconnection-mgr] 16:11:07 Reconnect already in progress, waiting - reason: app-resume
2025-10-03 21:41:07.272 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [realtime-v2] Fetching missed messages for all groups...
2025-10-03 21:41:07.272 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 14 - Msg: [bg-sync] Fetching missed messages for all groups
2025-10-03 21:41:07.274 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251584, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:41:07.274 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251584, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-03 21:41:07.279 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-BkjIx1Wi.js - Line 10 - Msg: [bg-sync] Fetching missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 since beginning
2025-10-03 21:41:07.280 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251585, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:41:07.281 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251585, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-03 21:41:07.320 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:11:07.319 📦 Starting outbox processing - session outbox-1759507867319
2025-10-03 21:41:07.320 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:11:07.320 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-03 21:41:07.321 13177-13177 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 42251586, pluginId: CapacitorSQLite, methodName: query
2025-10-03 21:41:07.321 13177-13177 Capacitor               com.confessr.app                     V  callback: 42251586, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759507867320],"readonly":false,"isSQL92":true}
2025-10-03 21:41:07.325 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:11:07.324 📦 No outbox messages to process; idle
2025-10-03 21:41:10.322 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [supabase-pipeline] 16:11:10.321 🔄 Token recovery timed out after 10s
2025-10-03 21:43:20.699 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 364 - Msg: 📦 MessageCache: CLEANUP removed 2 expired entries
2025-10-03 21:43:34.236 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event pause
2025-10-03 21:43:34.236 13177-13177 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event pause
2025-10-03 21:43:34.243 13177-13177 Capacitor               com.confessr.app                     D  App paused
2025-10-03 21:43:34.434 13177-13177 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: false
2025-10-03 21:43:34.434 13177-13177 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-03 21:43:34.436 13177-13177 Capacitor               com.confessr.app                     D  App stopped
2025-10-03 21:43:34.440 13177-13177 Capacitor               com.confessr.app                     D  Saving instance state!
2025-10-03 21:43:34.442 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 395 - Msg: [device-lock] 16:13:34 📱 Device locked/app backgrounded
2025-10-03 21:43:34.442 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📱 App state changed: inactive
2025-10-03 21:43:34.443 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 741 - Msg: 📱 App going to background/pause
2025-10-03 21:43:34.443 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 361 - Msg: [lifecycle] App paused - resetting outbox processing state
2025-10-03 21:43:34.443 13177-13177 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-BYWxzT5N.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
