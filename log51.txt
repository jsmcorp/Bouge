---------------------------- PROCESS STARTED (15133) for package com.confessr.app ----------------------------
2025-10-04 05:57:50.362 15133-15133 Capacitor               com.confessr.app                     D  Starting BridgeActivity
2025-10-04 05:57:50.383 15133-15133 Capacitor               com.confessr.app                     D  Registering plugin instance: CapacitorCookies
2025-10-04 05:57:50.386 15133-15133 Capacitor               com.confessr.app                     D  Registering plugin instance: WebView
2025-10-04 05:57:50.387 15133-15133 Capacitor               com.confessr.app                     D  Registering plugin instance: CapacitorHttp
2025-10-04 05:57:50.389 15133-15133 Capacitor               com.confessr.app                     D  Registering plugin instance: CapacitorSQLite
2025-10-04 05:57:50.560 15133-15133 Capacitor               com.confessr.app                     D  Registering plugin instance: FirebaseMessaging
2025-10-04 05:57:50.562 15133-15133 Capacitor               com.confessr.app                     D  Registering plugin instance: App
2025-10-04 05:57:50.563 15133-15133 Capacitor               com.confessr.app                     D  Registering plugin instance: Haptics
2025-10-04 05:57:50.566 15133-15133 Capacitor               com.confessr.app                     D  Registering plugin instance: Keyboard
2025-10-04 05:57:50.567 15133-15133 Capacitor               com.confessr.app                     D  Registering plugin instance: Network
2025-10-04 05:57:50.568 15133-15133 Capacitor               com.confessr.app                     D  Registering plugin instance: Preferences
2025-10-04 05:57:50.594 15133-15133 Capacitor               com.confessr.app                     W  Unable to read file at path public/plugins
2025-10-04 05:57:50.598 15133-15133 Capacitor               com.confessr.app                     D  Loading app at https://localhost
2025-10-04 05:57:50.636 15133-19601 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/
2025-10-04 05:57:50.639 15133-15133 Capacitor               com.confessr.app                     D  App started
2025-10-04 05:57:50.641 15133-15133 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: true
2025-10-04 05:57:50.641 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-04 05:57:50.641 15133-15133 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event appStateChange
2025-10-04 05:57:50.648 15133-15133 Capacitor               com.confessr.app                     D  App resumed
2025-10-04 05:57:50.658 15133-19750 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-04 05:57:50.658 15133-19750 Capacitor/NetworkPlugin com.confessr.app                     D  No listeners found for event networkStatusChange
2025-10-04 05:57:50.836 15133-19600 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/index-DCcMhil1.js
2025-10-04 05:57:50.838 15133-19601 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/index-BHPGbWI5.css
2025-10-04 05:57:51.284 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:51.280 🚀 Pipeline initialized
2025-10-04 05:57:51.288 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:51.284 🧪 Debug tag: v2025-09-24.stage-markers.v2
2025-10-04 05:57:51.288 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:51.284 🧪 Marker pack installed: entered-send, pre-network, POST markers, 5s timeout→outbox, watchdog job creation
2025-10-04 05:57:51.288 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:51.284 ✅ Proactive token refresh timer started (checks every 5 minutes)
2025-10-04 05:57:51.288 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:51.285 🔄 initialize() called - force=false isInitialized=false hasClient=false initPromiseActive=false
2025-10-04 05:57:51.289 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:51.285 🔄 Initializing Supabase client...
2025-10-04 05:57:51.289 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:51.285 🔄 Supabase env present? url=true anonKey=true
2025-10-04 05:57:51.300 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:51.292 🔄 Supabase client created ONCE (persistSession=true, autoRefreshToken=true)
2025-10-04 05:57:51.300 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: 💧 Rehydrating auth state...
2025-10-04 05:57:51.300 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: 💧 Auth state rehydrated with user: 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-04 05:57:51.300 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: 📦 MessageCache: Initialized with 15min expiry, max 10 chats, 50 messages per chat
2025-10-04 05:57:51.301 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [webview-lifecycle] 00:27:51 🌐 WebView Lifecycle Manager initialized
2025-10-04 05:57:51.301 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [general] 00:27:51 ℹ️ Mobile Logger initialized - Session: 1759537671297-z6v58yyp5, Platform: android
2025-10-04 05:57:51.304 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Initializing auth state listener for chat store
2025-10-04 05:57:51.306 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Setting up auth state listener for realtime
2025-10-04 05:57:51.306 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:51.305 🔑 getClient() called - hasClient=true isInitialized=false initPromiseActive=true
2025-10-04 05:57:51.306 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:51.305 🔑 getClient() -> calling initialize()
2025-10-04 05:57:51.307 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:51.305 🔄 initialize() called - force=false isInitialized=false hasClient=true initPromiseActive=true
2025-10-04 05:57:51.307 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:51.305 🔄 initialize() waiting for existing initializePromise
2025-10-04 05:57:51.312 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [device-lock] 00:27:51 🔒 Device Lock Detection Manager initialized
2025-10-04 05:57:51.313 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [whatsapp-connection] 00:27:51 📱 WhatsApp-Style Connection Manager initialized
2025-10-04 05:57:51.381 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🚀 CRITICAL: Module load - starting listener registration
2025-10-04 05:57:51.383 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🚀 FIRST IMPORT: Starting @capacitor-firebase/messaging import
2025-10-04 05:57:51.401 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [main] 🚀 IIFE starting - about to initialize push notifications
2025-10-04 05:57:51.402 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [main] 🔥 Inside async IIFE - before try block
2025-10-04 05:57:51.402 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [main] 📱 Initializing push notifications...
2025-10-04 05:57:51.402 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🚀 initPush() called
2025-10-04 05:57:51.402 15133-19600 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/index-DjDiEoGS.js
2025-10-04 05:57:51.402 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ✅ Starting push initialization...
2025-10-04 05:57:51.402 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 📦 Waiting for FirebaseMessaging import (shared with listener registration)...
2025-10-04 05:57:51.402 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:51.392 ✅ Supabase client initialized successfully (PERMANENT INSTANCE)
2025-10-04 05:57:51.407 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649064, pluginId: App, methodName: addListener
2025-10-04 05:57:51.407 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649064, pluginId: App, methodName: addListener, methodData: {"eventName":"appStateChange"}
2025-10-04 05:57:51.409 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649065, pluginId: App, methodName: addListener
2025-10-04 05:57:51.409 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649065, pluginId: App, methodName: addListener, methodData: {"eventName":"resume"}
2025-10-04 05:57:51.430 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [webview-lifecycle] 00:27:51 ✅ WebView context fully restored and ready
2025-10-04 05:57:51.445 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 🚀 App mounted, setting up auth...
2025-10-04 05:57:51.446 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 Native platform detected, initializing SQLite...
2025-10-04 05:57:51.446 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 107 - Msg: 🗄️ Initializing SQLite database...
2025-10-04 05:57:51.448 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 🎨 App render state: [object Object]
2025-10-04 05:57:51.449 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649066, pluginId: App, methodName: addListener
2025-10-04 05:57:51.450 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649066, pluginId: App, methodName: addListener, methodData: {"eventName":"backButton"}
2025-10-04 05:57:51.450 15133-19600 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/favicon.ico
2025-10-04 05:57:51.450 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649067, pluginId: App, methodName: addListener
2025-10-04 05:57:51.450 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649067, pluginId: App, methodName: addListener, methodData: {"eventName":"appStateChange"}
2025-10-04 05:57:51.450 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649068, pluginId: Preferences, methodName: get
2025-10-04 05:57:51.451 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649068, pluginId: Preferences, methodName: get, methodData: {"key":"sqlite_encryption_key"}
2025-10-04 05:57:51.466 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:51.452 🔑 Token cached: user=839d1d4a hasAccess=true hasRefresh=true
2025-10-04 05:57:51.466 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Auth event: SIGNED_IN
2025-10-04 05:57:51.467 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Token applied; channel healthy, no reconnect
2025-10-04 05:57:51.467 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-04 05:57:51.504 15133-19600 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/favicon.ico
2025-10-04 05:57:51.899 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ✅ FirebaseMessaging module imported successfully
2025-10-04 05:57:51.900 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🎯 CRITICAL: Registering all listeners NOW
2025-10-04 05:57:51.900 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ✅ FirebaseMessaging imported successfully
2025-10-04 05:57:51.900 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ⏳ Waiting for listeners to be registered...
2025-10-04 05:57:51.901 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ✅ CRITICAL: notificationReceived listener registered and handle stored!
2025-10-04 05:57:51.901 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ✅ tokenReceived listener registered and handle stored!
2025-10-04 05:57:51.901 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ✅ notificationActionPerformed listener registered and handle stored!
2025-10-04 05:57:51.901 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ✅✅✅ ALL LISTENERS REGISTERED SUCCESSFULLY ✅✅✅
2025-10-04 05:57:51.903 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ✅ Listeners confirmed registered, proceeding with initialization
2025-10-04 05:57:51.908 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649069, pluginId: FirebaseMessaging, methodName: addListener
2025-10-04 05:57:51.908 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649069, pluginId: FirebaseMessaging, methodName: addListener, methodData: {"eventName":"notificationReceived"}
2025-10-04 05:57:51.909 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649070, pluginId: FirebaseMessaging, methodName: addListener
2025-10-04 05:57:51.909 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649070, pluginId: FirebaseMessaging, methodName: addListener, methodData: {"eventName":"tokenReceived"}
2025-10-04 05:57:51.909 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:51.905 🔑 Token cached: user=839d1d4a hasAccess=true hasRefresh=true
2025-10-04 05:57:51.910 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649071, pluginId: FirebaseMessaging, methodName: addListener
2025-10-04 05:57:51.910 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649071, pluginId: FirebaseMessaging, methodName: addListener, methodData: {"eventName":"notificationActionPerformed"}
2025-10-04 05:57:51.911 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649072, pluginId: CapacitorSQLite, methodName: setEncryptionSecret
2025-10-04 05:57:51.911 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649072, pluginId: CapacitorSQLite, methodName: setEncryptionSecret, methodData: {"passphrase":"66f3d49e8e514204b885794206a8fec2"}
2025-10-04 05:57:51.911 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649073, pluginId: FirebaseMessaging, methodName: checkPermissions
2025-10-04 05:57:51.911 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649073, pluginId: FirebaseMessaging, methodName: checkPermissions, methodData: {}
2025-10-04 05:57:51.919 15133-19672 com.getcap...RetHandler com.confessr.app                     V  *** ERROR SetEncryptionSecret: a passphrase has already been set 
2025-10-04 05:57:51.919 15133-19672 Capacitor               com.confessr.app                     D  Sending plugin error: {"save":false,"callbackId":"117649072","pluginId":"CapacitorSQLite","methodName":"setEncryptionSecret","success":false,"error":{"message":"SetEncryptionSecret: a passphrase has already been set "}}
2025-10-04 05:57:52.097 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Auth event: INITIAL_SESSION
2025-10-04 05:57:52.098 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Token applied; channel healthy, no reconnect
2025-10-04 05:57:52.098 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-04 05:57:52.098 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: auth-token-refreshed (priority: high)
2025-10-04 05:57:52.098 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: auth-token-refreshed
2025-10-04 05:57:52.099 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:52.006 📦 Starting outbox processing - session outbox-1759537672006
2025-10-04 05:57:52.179 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 107 - Msg: 🔑 SQLite encryption key was already set
2025-10-04 05:57:52.179 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] permission before(FirebaseMessaging): granted
2025-10-04 05:57:52.261 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649074, pluginId: CapacitorSQLite, methodName: isDatabase
2025-10-04 05:57:52.261 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649074, pluginId: CapacitorSQLite, methodName: isDatabase, methodData: {"database":"confessr_db"}
2025-10-04 05:57:52.261 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649075, pluginId: FirebaseMessaging, methodName: getToken
2025-10-04 05:57:52.261 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649075, pluginId: FirebaseMessaging, methodName: getToken, methodData: {}
2025-10-04 05:57:52.326 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 107 - Msg: Database exists check: true
2025-10-04 05:57:52.326 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 107 - Msg: 🔓 Opening encrypted database with secret mode...
2025-10-04 05:57:52.368 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] token received(firebase): dFtsHt…
2025-10-04 05:57:52.368 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:52.333 🗄️ Executing upsert device token...
2025-10-04 05:57:52.368 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:52.333 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 05:57:52.369 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ✅ Push initialization complete
2025-10-04 05:57:52.369 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:52.334 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 05:57:52.370 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ✅ Push initialization completed successfully
2025-10-04 05:57:52.370 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [main] ✅ Push notifications initialized
2025-10-04 05:57:52.370 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [general] 00:27:52 ℹ️ Initializing WhatsApp-style connection system
2025-10-04 05:57:52.371 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649076, pluginId: CapacitorSQLite, methodName: createConnection
2025-10-04 05:57:52.371 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649076, pluginId: CapacitorSQLite, methodName: createConnection, methodData: {"database":"confessr_db","encrypted":true,"mode":"secret","version":1,"readonly":false}
2025-10-04 05:57:52.398 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649077, pluginId: App, methodName: addListener
2025-10-04 05:57:52.398 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649077, pluginId: App, methodName: addListener, methodData: {"eventName":"resume"}
2025-10-04 05:57:52.399 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649078, pluginId: App, methodName: addListener
2025-10-04 05:57:52.399 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649078, pluginId: App, methodName: addListener, methodData: {"eventName":"appUrlOpen"}
2025-10-04 05:57:52.399 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649079, pluginId: Network, methodName: addListener
2025-10-04 05:57:52.399 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649079, pluginId: Network, methodName: addListener, methodData: {"eventName":"networkStatusChange"}
2025-10-04 05:57:52.400 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649080, pluginId: Network, methodName: getStatus
2025-10-04 05:57:52.400 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649080, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-04 05:57:52.417 15133-19672 com.getcap...e.Database com.confessr.app                     V  &&& file path /data/user/0/com.confessr.app/databases/confessr_dbSQLite.db
2025-10-04 05:57:52.434 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:52.400 [38;5;159m[fetch][0m POST https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/user_devices?on_conflict=token
2025-10-04 05:57:52.434 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: auth-token-refreshed (priority: high)
2025-10-04 05:57:52.436 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: auth-token-refreshed
2025-10-04 05:57:52.438 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 05:57:52.440 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [network] 00:27:52 ℹ️ Initial network status: online {"connectionType":"wifi"}
2025-10-04 05:57:52.441 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [whatsapp-connection] 00:27:52 📊 Status: connecting -  
2025-10-04 05:57:52.442 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [connection] 00:27:52 ℹ️ Connection status: connecting -  {"isUserVisible":false}
2025-10-04 05:57:52.470 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649081, pluginId: CapacitorSQLite, methodName: open
2025-10-04 05:57:52.470 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649081, pluginId: CapacitorSQLite, methodName: open, methodData: {"database":"confessr_db","readonly":false}
2025-10-04 05:57:52.472 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649082, pluginId: App, methodName: addListener
2025-10-04 05:57:52.472 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649082, pluginId: App, methodName: addListener, methodData: {"eventName":"appStateChange"}
2025-10-04 05:57:52.475 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649083, pluginId: App, methodName: addListener
2025-10-04 05:57:52.475 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649083, pluginId: App, methodName: addListener, methodData: {"eventName":"resume"}
2025-10-04 05:57:52.477 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649084, pluginId: Network, methodName: addListener
2025-10-04 05:57:52.477 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649084, pluginId: Network, methodName: addListener, methodData: {"eventName":"networkStatusChange"}
2025-10-04 05:57:52.510 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:52.484 📦 Outbox processing already in progress; skipping
2025-10-04 05:57:52.875 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 05:57:52.875 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 107 - Msg: ✅ Encrypted database opened successfully
2025-10-04 05:57:52.897 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649085, pluginId: CapacitorSQLite, methodName: execute
2025-10-04 05:57:52.897 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649085, pluginId: CapacitorSQLite, methodName: execute, methodData: {"database":"confessr_db","statements":"PRAGMA cipher_memory_security = ON;","transaction":true,"readonly":false,"isSQL92":true}
2025-10-04 05:57:52.947 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 107 - Msg: ✅ Security pragma set
2025-10-04 05:57:52.948 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 107 - Msg: 📊 Creating tables in encrypted database...
2025-10-04 05:57:52.978 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649086, pluginId: CapacitorSQLite, methodName: execute
2025-10-04 05:57:52.979 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649086, pluginId: CapacitorSQLite, methodName: execute, methodData: {"database":"confessr_db","statements":"\n      CREATE TABLE IF NOT EXISTS messages (\n        id TEXT PRIMARY KEY,\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        content TEXT NOT NULL,\n        is_ghost INTEGER DEFAULT 0,\n        message_type TEXT DEFAULT 'text',\n        category TEXT,\n        parent_id TEXT,\n        image_url TEXT,\n        created_at INTEGER NOT NULL,\n        local_id INTEGER UNIQUE,\n        updated_at INTEGER,\n        deleted_at INTEGER\n      );\n\n      CREATE TABLE IF NOT EXISTS groups (\n        id TEXT PRIMARY KEY,\n        name TEXT NOT NULL,\n        description TEXT,\n        invite_code TEXT,\n        created_by TEXT NOT NULL,\n        created_at INTEGER NOT NULL,\n        last_sync_timestamp INTEGER DEFAULT 0,\n        avatar_url TEXT,\n        is_archived INTEGER DEFAULT 0\n      );\n\n      CREATE TABLE IF NOT EXISTS users (\n        id TEXT PRIMARY KEY,\n        display_name TEXT NOT NULL,\n        phone_number TEXT,\n        avatar_url TEXT,\n        is_onboarded INTEGER DEFAULT 0,\n        created_at INTEGER NOT NULL\n      );\n\n      CREATE TABLE IF NOT EXISTS outbox (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        content TEXT NOT NULL,\n        retry_count INTEGER DEFAULT 0,\n        next_retry_at INTEGER NOT NULL,\n        message_type TEXT DEFAULT 'text',\n        category TEXT,\n        parent_id TEXT,\n        image_url TEXT,\n        is_ghost INTEGER DEFAULT 0\n      );\n\n      CREATE TABLE IF NOT EXISTS sync_state (\n        key TEXT PRIMARY KEY,\n        value TEXT NOT NULL\n      );\n\n      \/* Polls table *\/\n      CREATE TABLE IF NOT EXISTS polls (\n        id TEXT PRIMARY KEY,\n        message_id TEXT NOT NULL,\n        question TEXT NOT NULL,\n        options TEXT NOT NULL, -- JSON string\n        created_at INTEGER NOT NULL,\n        closes_at INTEGER NOT NULL,\n        created_by TEXT NOT NULL,\n        FOREIGN KEY (message_id) REFERENCES messages(id)\n      );\n\n      \/* Poll votes table *\/\n      CREATE TABLE IF NOT EXISTS poll_votes (\n        poll_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        option_index INTEGER NOT NULL,\n        created_at INTEGER NOT NULL,\n        PRIMARY KEY (poll_id, user_id),\n        FOREIGN KEY (poll_id) REFERENCES polls(id)\n      );\n\n      \/* Reactions table *\/\n      CREATE TABLE IF NOT EXISTS reactions (\n        id TEXT PRIMARY KEY,\n        message_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        emoji TEXT NOT NULL,\n        created_at INTEGER NOT NULL,\n        FOREIGN KEY (message_id) REFERENCES messages(id)\n      );\n\n      \/* Group members table *\/\n      CREATE TABLE IF NOT EXISTS group_members (\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        role TEXT DEFAULT 'participant',\n        joined_at INTEGER NOT NULL,\n        last_read_at INTEGER DEFAULT 0,\n        last_read_message_id TEXT,\n        PRIMARY KEY (group_id, user_id),\n        FOREIGN KEY (group_id) REFERENCES groups(id),\n        FOREIGN KEY (user_id) REFERENCES users(id)\n      );\n\n      \/* User pseudonyms for ghost messages *\/\n      CREATE TABLE IF NOT EXISTS user_pseudonyms (\n        group_id TEXT NOT NULL,\n        user_id TEXT NOT NULL,\n        pseudonym TEXT NOT NULL,\n        created_at INTEGER NOT NULL,\n        PRIMARY KEY (group_id, user_id)\n      );\n\n      \/* Confessions table for confession messages *\/\n      CREATE TABLE IF NOT EXISTS confessions (\n        id TEXT PRIMARY KEY,\n        message_id TEXT NOT NULL,\n        confession_type TEXT NOT NULL,\n        is_anonymous INTEGER DEFAULT 1,\n        FOREIGN KEY (message_id) REFERENCES messages(id)\n      );\n\n      \/* indexes *\/\n      CREATE INDEX IF NOT EXISTS idx_msg_group_date_asc\n        ON messages(group_id, created_at ASC);\n      CREATE INDEX IF NOT EXISTS idx_msg_group_date_desc\n        O
2025-10-04 05:57:53.042 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649087, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:57:53.042 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649087, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(messages);","values":[],"readonly":false,"isSQL92":true}
2025-10-04 05:57:53.109 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649088, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:57:53.110 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649088, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(groups);","values":[],"readonly":false,"isSQL92":true}
2025-10-04 05:57:53.169 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649089, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:57:53.169 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649089, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(users);","values":[],"readonly":false,"isSQL92":true}
2025-10-04 05:57:53.242 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649090, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:57:53.242 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649090, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"PRAGMA table_info(group_members);","values":[],"readonly":false,"isSQL92":true}
2025-10-04 05:57:53.320 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 254 - Msg: ✅ Database migration completed
2025-10-04 05:57:53.320 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 107 - Msg: ✅ Tables created in encrypted database
2025-10-04 05:57:53.320 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 107 - Msg: ✅ Encrypted SQLite ready
2025-10-04 05:57:53.320 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 254 - Msg: 🧪 Testing local storage...
2025-10-04 05:57:53.347 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649091, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:57:53.347 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649091, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n        INSERT OR REPLACE INTO users (id, display_name, phone_number, avatar_url, is_onboarded, created_at)\n        VALUES (?, ?, ?, ?, ?, ?)\n      ","values":["test-user-id","Test User","+1234567890",null,1,1759537673279],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:57:53.387 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:53.358 🗄️ upsert device token success
2025-10-04 05:57:53.387 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 2025-10-04T00:27:53.358Z token:registered android dFtsHt…
2025-10-04 05:57:53.428 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 257 - Msg: ✅ Test user saved
2025-10-04 05:57:53.429 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:53.414 📦 Outbox pre-check: sqliteReady after 1408ms
2025-10-04 05:57:53.432 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649092, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:57:53.432 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649092, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM users WHERE id = ?","values":["test-user-id"],"readonly":false,"isSQL92":true}
2025-10-04 05:57:53.433 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649093, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:57:53.433 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649093, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759537673414],"readonly":false,"isSQL92":true}
2025-10-04 05:57:53.441 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 257 - Msg: 📋 Retrieved user: [object Object]
2025-10-04 05:57:53.441 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 257 - Msg: ✅ Local storage test passed! Data was successfully saved and retrieved.
2025-10-04 05:57:53.483 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:53.468 📦 No outbox messages to process; idle
2025-10-04 05:57:53.484 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649094, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:57:53.485 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649094, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n         (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["test-message-id","test-group-id","test-user-id","Test message content",0,"text",null,null,null,1759537673440,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:57:53.526 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 259 - Msg: ✅ Test message saved
2025-10-04 05:57:53.551 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649095, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:57:53.551 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649095, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM messages WHERE group_id = ? ORDER BY created_at ASC LIMIT 50 OFFSET 0","values":["test-group-id"],"readonly":false,"isSQL92":true}
2025-10-04 05:57:53.590 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 259 - Msg: 📋 Retrieved messages: [object Object]
2025-10-04 05:57:53.590 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 259 - Msg: ✅ Message storage test passed! Message was successfully saved and retrieved.
2025-10-04 05:57:53.591 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: ✅ SQLite initialized successfully
2025-10-04 05:57:53.591 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 🌐 Network status monitoring handled centrally in main.tsx
2025-10-04 05:57:53.591 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: 🎧 Setting up auth state listener...
2025-10-04 05:57:53.591 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:53.576 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 05:57:53.591 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: 🔍 Initializing authentication...
2025-10-04 05:57:53.591 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:53.577 🔐 Attempting session recovery using cached tokens
2025-10-04 05:57:53.591 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:53.578 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 05:57:53.611 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: 🔄 Auth state changed: INITIAL_SESSION 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-04 05:57:53.611 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: 📡 Auth event: INITIAL_SESSION
2025-10-04 05:57:53.631 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:53.628 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-04 05:57:53.948 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:53.930 🔑 Token cached: user=839d1d4a hasAccess=true hasRefresh=true
2025-10-04 05:57:53.948 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Auth event: SIGNED_IN
2025-10-04 05:57:53.948 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Token applied; channel healthy, no reconnect
2025-10-04 05:57:53.948 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-04 05:57:53.948 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: 🔄 Auth state changed: SIGNED_IN 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-04 05:57:53.948 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: 🔄 User signed in (during init), letting initializeAuth handle it
2025-10-04 05:57:53.948 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:53.930 🔐 Session recovered successfully using cached tokens
2025-10-04 05:57:53.948 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: 👤 Active session found for user: 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-04 05:57:53.949 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: 🔄 Syncing user profile for: 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-04 05:57:53.972 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:53.955 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/users?select=*&id=eq.839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-04 05:57:54.132 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: ✅ User profile found and loaded
2025-10-04 05:57:54.133 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 🎨 App render state: [object Object]
2025-10-04 05:57:54.133 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: 🏁 Auth initialization complete
2025-10-04 05:57:54.173 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 🚀 Starting outbox processor...
2025-10-04 05:57:54.174 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-04 05:57:54.174 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: processor-start (priority: immediate)
2025-10-04 05:57:54.175 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 0ms for: processor-start
2025-10-04 05:57:54.175 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 🎨 App render state: [object Object]
2025-10-04 05:57:54.176 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: ✅ Auth setup complete
2025-10-04 05:57:54.176 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:54.151 📦 Starting outbox processing - session outbox-1759537674151
2025-10-04 05:57:54.176 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:54.151 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-04 05:57:54.198 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649096, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:57:54.199 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649096, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759537674151],"readonly":false,"isSQL92":true}
2025-10-04 05:57:54.213 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 Loading groups from local storage first (local-first approach)
2025-10-04 05:57:54.214 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649097, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:57:54.214 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649097, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-04 05:57:54.232 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:54.232 📦 No outbox messages to process; idle
2025-10-04 05:57:54.239 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 Found 7 groups in local storage
2025-10-04 05:57:54.239 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: ✅ Loaded 7 groups from local storage
2025-10-04 05:57:54.330 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:54.325 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-04 05:57:54.331 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649098, pluginId: Network, methodName: getStatus
2025-10-04 05:57:54.331 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649098, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-04 05:57:54.411 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:54.407 [38;5;159m[fetch][0m POST https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/rpc/get_all_unread_counts
2025-10-04 05:57:54.411 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: � B ackground syncing groups with Supabase...
2025-10-04 05:57:54.411 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🌐 Fetching groups from Supabase...
2025-10-04 05:57:54.412 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:54.409 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 05:57:54.444 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:54.414 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-04 05:57:54.445 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: auth-token-refreshed (priority: high)
2025-10-04 05:57:54.445 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: auth-token-refreshed
2025-10-04 05:57:54.491 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:54.482 📦 Starting outbox processing - session outbox-1759537674482
2025-10-04 05:57:54.491 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:54.489 📦 Outbox pre-check: sqliteReady after 7ms
2025-10-04 05:57:54.496 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649099, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:57:54.496 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649099, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759537674489],"readonly":false,"isSQL92":true}
2025-10-04 05:57:54.502 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:54.501 📦 No outbox messages to process; idle
2025-10-04 05:57:54.609 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:54.575 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/group_members?select=group_id&user_id=eq.839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-04 05:57:54.756 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:54.756 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/groups?select=*&id=in.%286af01500-2e15-490e-9077-316348aef93e%2C080c089f-e355-4ab7-a3b9-92bc9dd94f32%2C87faebb0-0bf4-49c9-8119-8d56abe52be2%2Ce96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b%2Cfcf73372-c86c-4e53-ac3d-f28896ce1d30%2C78045bbf-7474-46df-aac1-f34936b67d24%2C2e246d9c-356a-4fec-9022-108157fa391a%29
2025-10-04 05:57:54.858 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649100, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:57:54.859 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649100, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30","Dy Patil",null,"6E7RGJ","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1751445247708,1759537674856,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:57:54.884 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649101, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:57:54.885 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649101, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["87faebb0-0bf4-49c9-8119-8d56abe52be2","didi",null,"8KZ2QK","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1751450471719,1759537674882,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:57:54.904 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649102, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:57:54.905 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649102, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a","Hackathon Partners ❤️",null,"TP61XI","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1751995671920,1759537674900,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:57:54.915 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649103, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:57:54.915 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649103, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["080c089f-e355-4ab7-a3b9-92bc9dd94f32","New year",null,"QDPXM5","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1754296685816,1759537674912,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:57:54.924 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649104, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:57:54.924 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649104, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["6af01500-2e15-490e-9077-316348aef93e","Local tusker",null,"6S4CZQ","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1754296867925,1759537674922,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:57:54.934 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649105, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:57:54.934 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649105, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b","Test",null,"9QZ6KE","839d1d4a-e72b-47bb-b74e-ef28a15f43ee",1759333688718,1759537674933,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:57:54.943 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649106, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:57:54.943 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649106, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"\n      INSERT OR REPLACE INTO groups (id, name, description, invite_code, created_by, created_at, last_sync_timestamp, avatar_url, is_archived)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n    ","values":["78045bbf-7474-46df-aac1-f34936b67d24","Tab",null,"2PUKD3","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5",1759333855926,1759537674941,null,0],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:57:54.953 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Synced 7 groups to local storage
2025-10-04 05:57:54.954 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649107, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:57:54.954 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649107, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-04 05:57:54.963 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: ✅ UI updated with 7 synced groups
2025-10-04 05:57:54.983 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:54.982 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-04 05:57:55.060 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:27:55.059 [38;5;159m[fetch][0m POST https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/rpc/get_all_unread_counts
2025-10-04 05:58:35.203 15133-20230 Capacitor/...gingPlugin com.confessr.app                     V  Notifying listeners for event notificationReceived
2025-10-04 05:58:35.206 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 CRITICAL: FirebaseMessaging.notificationReceived FIRED! [object Object]
2025-10-04 05:58:35.206 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Raw notification object: {"notification":{"id":"0:1759537714874664%5612aab15612aab1","data":{"message_id":"cf598335-3712-4224-b3bb-d87b465da662","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-04T00:28:33.657Z"},"title":"New message","body":"You have a new message in Confessr","clickAction":"FLUTTER_NOTIFICATION_CLICK"}}
2025-10-04 05:58:35.207 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Extracted data: {"message_id":"cf598335-3712-4224-b3bb-d87b465da662","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-04T00:28:33.657Z"}
2025-10-04 05:58:35.208 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Notification received, reason=data, data: [object Object]
2025-10-04 05:58:35.208 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 📥 Attempting direct fetch for message cf598335-3712-4224-b3bb-d87b465da662
2025-10-04 05:58:35.212 15133-19600 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/backgroundMessageSync-gAtqdysh.js
2025-10-04 05:58:35.234 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🚀 Starting fetch for message cf598335-3712-4224-b3bb-d87b465da662 in group 2e246d9c-356a-4fec-9022-108157fa391a (attempt 1/3)
2025-10-04 05:58:35.238 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649108, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:35.238 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649108, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT 1 FROM messages WHERE id = ? LIMIT 1","values":["cf598335-3712-4224-b3bb-d87b465da662"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:35.243 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for direct REST call...
2025-10-04 05:58:35.243 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:35.244 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:35.402 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Query completed, got 1 messages
2025-10-04 05:58:35.412 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649109, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:58:35.412 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649109, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["cf598335-3712-4224-b3bb-d87b465da662","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Iugiuguovu",1,"text",null,null,null,1759537713763,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:58:35.465 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Message cf598335-3712-4224-b3bb-d87b465da662 stored successfully in 230ms
2025-10-04 05:58:35.479 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:28:35.476 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-04 05:58:35.558 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649110, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:35.558 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649110, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_read_at, joined_at FROM group_members WHERE group_id = ? AND user_id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a","839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:35.569 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Triggered callbacks for group 2e246d9c-356a-4fec-9022-108157fa391a, count=0
2025-10-04 05:58:35.570 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 📊 Unread count updated for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:35.571 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ✅ Direct fetch succeeded for message cf598335-3712-4224-b3bb-d87b465da662
2025-10-04 05:58:35.620 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:28:35.618 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-04 05:58:35.696 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649111, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:35.697 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649111, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_read_at, joined_at FROM group_members WHERE group_id = ? AND user_id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a","839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:35.709 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Triggered callbacks for group 2e246d9c-356a-4fec-9022-108157fa391a, count=0
2025-10-04 05:58:35.710 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 📊 Unread count updated for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:35.711 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Toast notification shown for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:35.712 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ⏭️ Skipping fallback sync - message already handled (messageHandled=true)
2025-10-04 05:58:35.713 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 Push wakeup received: [object Object]
2025-10-04 05:58:35.714 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Wake event: new_message
2025-10-04 05:58:35.715 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] 📬 New message in group 2e246d9c-356a-4fec-9022-108157fa391a - staying on current screen
2025-10-04 05:58:35.716 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] No active group, skipping resume
2025-10-04 05:58:35.717 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🏁 Notification handling complete for message cf598335-3712-4224-b3bb-d87b465da662
2025-10-04 05:58:35.758 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Fetching missed messages for all groups...
2025-10-04 05:58:35.759 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for all groups
2025-10-04 05:58:35.764 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649112, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:35.765 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649112, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-04 05:58:35.791 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 since beginning
2025-10-04 05:58:35.807 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649113, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:35.807 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649113, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:35.883 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:35.884 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:35.884 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:36.014 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-04 05:58:36.017 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 2e246d9c-356a-4fec-9022-108157fa391a since beginning
2025-10-04 05:58:36.024 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649114, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:36.024 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649114, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:36.036 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:36.036 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:36.037 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:36.193 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649115, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:58:36.193 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649115, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["cf598335-3712-4224-b3bb-d87b465da662","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Iugiuguovu",1,"text",null,null,null,1759537713763,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:58:36.213 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649116, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:58:36.214 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649116, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759537716210,"2e246d9c-356a-4fec-9022-108157fa391a"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:58:36.236 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Stored 1 missed messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:36.237 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 6af01500-2e15-490e-9077-316348aef93e since beginning
2025-10-04 05:58:36.240 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649117, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:36.241 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649117, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["6af01500-2e15-490e-9077-316348aef93e"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:36.247 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:36.248 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:36.248 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:36.400 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 6af01500-2e15-490e-9077-316348aef93e
2025-10-04 05:58:36.402 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 080c089f-e355-4ab7-a3b9-92bc9dd94f32 since beginning
2025-10-04 05:58:36.407 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649118, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:36.407 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649118, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["080c089f-e355-4ab7-a3b9-92bc9dd94f32"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:36.418 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:36.419 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:36.420 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:36.557 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 080c089f-e355-4ab7-a3b9-92bc9dd94f32
2025-10-04 05:58:36.558 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 78045bbf-7474-46df-aac1-f34936b67d24 since beginning
2025-10-04 05:58:36.563 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649119, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:36.563 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649119, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:36.574 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:36.575 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:36.576 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:36.715 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 78045bbf-7474-46df-aac1-f34936b67d24
2025-10-04 05:58:36.715 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b since beginning
2025-10-04 05:58:36.718 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649120, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:36.718 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649120, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:36.722 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:36.723 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:36.723 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:36.983 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b
2025-10-04 05:58:36.984 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 87faebb0-0bf4-49c9-8119-8d56abe52be2 since beginning
2025-10-04 05:58:36.990 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649121, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:36.990 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649121, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["87faebb0-0bf4-49c9-8119-8d56abe52be2"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:37.001 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:37.001 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:37.002 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:37.138 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 87faebb0-0bf4-49c9-8119-8d56abe52be2
2025-10-04 05:58:37.139 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Fetched 1 total missed messages across 7 groups
2025-10-04 05:58:37.140 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] ✅ Fetched 1 missed messages across 7 groups
2025-10-04 05:58:37.143 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:28:37.141 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-04 05:58:37.240 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649122, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:37.241 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649122, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_read_at, joined_at FROM group_members WHERE group_id = ? AND user_id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a","839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:37.256 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Triggered callbacks for group 2e246d9c-356a-4fec-9022-108157fa391a, count=0
2025-10-04 05:58:37.257 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] 📊 Updated unread count for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:42.407 15133-20248 Capacitor/...gingPlugin com.confessr.app                     V  Notifying listeners for event notificationReceived
2025-10-04 05:58:42.419 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 CRITICAL: FirebaseMessaging.notificationReceived FIRED! [object Object]
2025-10-04 05:58:42.420 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Raw notification object: {"notification":{"id":"0:1759537722074945%5612aab15612aab1","data":{"message_id":"86cd66fa-265e-47b2-ad45-69aaee80eb09","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-04T00:28:40.619Z"},"title":"New message","body":"You have a new message in Confessr","clickAction":"FLUTTER_NOTIFICATION_CLICK"}}
2025-10-04 05:58:42.420 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Extracted data: {"message_id":"86cd66fa-265e-47b2-ad45-69aaee80eb09","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-04T00:28:40.619Z"}
2025-10-04 05:58:42.420 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Notification received, reason=data, data: [object Object]
2025-10-04 05:58:42.421 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 📥 Attempting direct fetch for message 86cd66fa-265e-47b2-ad45-69aaee80eb09
2025-10-04 05:58:42.422 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🚀 Starting fetch for message 86cd66fa-265e-47b2-ad45-69aaee80eb09 in group 2e246d9c-356a-4fec-9022-108157fa391a (attempt 1/3)
2025-10-04 05:58:42.431 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649123, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:42.432 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649123, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT 1 FROM messages WHERE id = ? LIMIT 1","values":["86cd66fa-265e-47b2-ad45-69aaee80eb09"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:42.451 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for direct REST call...
2025-10-04 05:58:42.452 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:42.452 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:42.675 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Query completed, got 1 messages
2025-10-04 05:58:42.681 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649124, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:58:42.682 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649124, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["86cd66fa-265e-47b2-ad45-69aaee80eb09","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Gugyvu",1,"text",null,null,null,1759537720800,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:58:42.737 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Message 86cd66fa-265e-47b2-ad45-69aaee80eb09 stored successfully in 315ms
2025-10-04 05:58:42.746 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:28:42.743 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-04 05:58:42.835 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649125, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:42.836 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649125, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_read_at, joined_at FROM group_members WHERE group_id = ? AND user_id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a","839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:42.848 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Triggered callbacks for group 2e246d9c-356a-4fec-9022-108157fa391a, count=0
2025-10-04 05:58:42.849 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 📊 Unread count updated for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:42.850 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ✅ Direct fetch succeeded for message 86cd66fa-265e-47b2-ad45-69aaee80eb09
2025-10-04 05:58:42.898 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:28:42.894 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-04 05:58:42.976 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649126, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:42.976 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649126, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_read_at, joined_at FROM group_members WHERE group_id = ? AND user_id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a","839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:42.991 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Triggered callbacks for group 2e246d9c-356a-4fec-9022-108157fa391a, count=0
2025-10-04 05:58:42.992 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 📊 Unread count updated for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:42.992 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Toast notification shown for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:42.993 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ⏭️ Skipping fallback sync - message already handled (messageHandled=true)
2025-10-04 05:58:42.994 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 Push wakeup received: [object Object]
2025-10-04 05:58:42.994 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Wake event: new_message
2025-10-04 05:58:42.995 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] 📬 New message in group 2e246d9c-356a-4fec-9022-108157fa391a - staying on current screen
2025-10-04 05:58:42.995 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] No active group, skipping resume
2025-10-04 05:58:42.996 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🏁 Notification handling complete for message 86cd66fa-265e-47b2-ad45-69aaee80eb09
2025-10-04 05:58:43.039 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Fetching missed messages for all groups...
2025-10-04 05:58:43.039 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for all groups
2025-10-04 05:58:43.041 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649127, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:43.041 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649127, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-04 05:58:43.053 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 since beginning
2025-10-04 05:58:43.065 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649128, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:43.066 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649128, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:43.125 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:43.126 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:43.126 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:43.222 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-04 05:58:43.222 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 2e246d9c-356a-4fec-9022-108157fa391a since beginning
2025-10-04 05:58:43.224 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649129, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:43.224 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649129, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:43.235 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:43.235 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:43.235 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:43.395 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649130, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:58:43.395 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649130, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["86cd66fa-265e-47b2-ad45-69aaee80eb09","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Gugyvu",1,"text",null,null,null,1759537720800,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:58:43.440 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649131, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:58:43.441 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649131, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759537723437,"2e246d9c-356a-4fec-9022-108157fa391a"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:58:43.468 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Stored 1 missed messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:43.468 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 6af01500-2e15-490e-9077-316348aef93e since beginning
2025-10-04 05:58:43.470 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649132, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:43.471 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649132, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["6af01500-2e15-490e-9077-316348aef93e"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:43.478 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:43.478 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:43.479 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:43.559 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 6af01500-2e15-490e-9077-316348aef93e
2025-10-04 05:58:43.560 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 080c089f-e355-4ab7-a3b9-92bc9dd94f32 since beginning
2025-10-04 05:58:43.562 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649133, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:43.562 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649133, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["080c089f-e355-4ab7-a3b9-92bc9dd94f32"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:43.571 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:43.572 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:43.572 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:43.647 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 080c089f-e355-4ab7-a3b9-92bc9dd94f32
2025-10-04 05:58:43.647 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 78045bbf-7474-46df-aac1-f34936b67d24 since beginning
2025-10-04 05:58:43.652 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649134, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:43.652 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649134, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:43.663 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:43.664 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:43.665 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:43.750 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 78045bbf-7474-46df-aac1-f34936b67d24
2025-10-04 05:58:43.752 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b since beginning
2025-10-04 05:58:43.757 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649135, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:43.758 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649135, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:43.770 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:43.771 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:43.772 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:43.867 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b
2025-10-04 05:58:43.868 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 87faebb0-0bf4-49c9-8119-8d56abe52be2 since beginning
2025-10-04 05:58:43.877 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649136, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:43.878 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649136, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["87faebb0-0bf4-49c9-8119-8d56abe52be2"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:43.889 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:43.890 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:43.891 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:43.990 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 87faebb0-0bf4-49c9-8119-8d56abe52be2
2025-10-04 05:58:43.991 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Fetched 1 total missed messages across 7 groups
2025-10-04 05:58:43.992 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] ✅ Fetched 1 missed messages across 7 groups
2025-10-04 05:58:43.998 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:28:43.996 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-04 05:58:44.154 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649137, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:44.155 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649137, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_read_at, joined_at FROM group_members WHERE group_id = ? AND user_id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a","839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:44.167 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Triggered callbacks for group 2e246d9c-356a-4fec-9022-108157fa391a, count=0
2025-10-04 05:58:44.168 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] 📊 Updated unread count for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:48.020 15133-20253 Capacitor/...gingPlugin com.confessr.app                     V  Notifying listeners for event notificationReceived
2025-10-04 05:58:48.026 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 CRITICAL: FirebaseMessaging.notificationReceived FIRED! [object Object]
2025-10-04 05:58:48.028 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Raw notification object: {"notification":{"id":"0:1759537727795690%5612aab15612aab1","data":{"message_id":"cbdd37c2-8242-4ff1-9a85-c78848f1b330","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-04T00:28:46.584Z"},"title":"New message","body":"You have a new message in Confessr","clickAction":"FLUTTER_NOTIFICATION_CLICK"}}
2025-10-04 05:58:48.028 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Extracted data: {"message_id":"cbdd37c2-8242-4ff1-9a85-c78848f1b330","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-04T00:28:46.584Z"}
2025-10-04 05:58:48.029 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Notification received, reason=data, data: [object Object]
2025-10-04 05:58:48.030 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 📥 Attempting direct fetch for message cbdd37c2-8242-4ff1-9a85-c78848f1b330
2025-10-04 05:58:48.030 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🚀 Starting fetch for message cbdd37c2-8242-4ff1-9a85-c78848f1b330 in group 2e246d9c-356a-4fec-9022-108157fa391a (attempt 1/3)
2025-10-04 05:58:48.033 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649138, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:48.034 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649138, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT 1 FROM messages WHERE id = ? LIMIT 1","values":["cbdd37c2-8242-4ff1-9a85-c78848f1b330"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:48.062 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for direct REST call...
2025-10-04 05:58:48.062 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:48.063 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:48.227 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Query completed, got 1 messages
2025-10-04 05:58:48.235 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649139, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:58:48.235 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649139, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["cbdd37c2-8242-4ff1-9a85-c78848f1b330","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Ug ug6f",1,"text",null,null,null,1759537726716,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:58:48.287 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Message cbdd37c2-8242-4ff1-9a85-c78848f1b330 stored successfully in 260ms
2025-10-04 05:58:48.291 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:28:48.289 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-04 05:58:48.387 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649140, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:48.387 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649140, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_read_at, joined_at FROM group_members WHERE group_id = ? AND user_id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a","839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:48.404 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Triggered callbacks for group 2e246d9c-356a-4fec-9022-108157fa391a, count=0
2025-10-04 05:58:48.405 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 📊 Unread count updated for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:48.406 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ✅ Direct fetch succeeded for message cbdd37c2-8242-4ff1-9a85-c78848f1b330
2025-10-04 05:58:48.437 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:28:48.435 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-04 05:58:48.542 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649141, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:48.542 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649141, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_read_at, joined_at FROM group_members WHERE group_id = ? AND user_id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a","839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:48.559 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Triggered callbacks for group 2e246d9c-356a-4fec-9022-108157fa391a, count=0
2025-10-04 05:58:48.560 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 📊 Unread count updated for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:48.560 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Toast notification shown for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:48.561 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ⏭️ Skipping fallback sync - message already handled (messageHandled=true)
2025-10-04 05:58:48.562 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 Push wakeup received: [object Object]
2025-10-04 05:58:48.563 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Wake event: new_message
2025-10-04 05:58:48.564 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] 📬 New message in group 2e246d9c-356a-4fec-9022-108157fa391a - staying on current screen
2025-10-04 05:58:48.565 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] No active group, skipping resume
2025-10-04 05:58:48.566 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🏁 Notification handling complete for message cbdd37c2-8242-4ff1-9a85-c78848f1b330
2025-10-04 05:58:48.616 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Fetching missed messages for all groups...
2025-10-04 05:58:48.616 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for all groups
2025-10-04 05:58:48.618 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649142, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:48.618 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649142, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-04 05:58:48.640 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 since beginning
2025-10-04 05:58:48.659 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649143, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:48.659 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649143, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:48.671 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:48.671 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:48.671 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:48.763 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-04 05:58:48.763 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 2e246d9c-356a-4fec-9022-108157fa391a since beginning
2025-10-04 05:58:48.776 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649144, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:48.776 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649144, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:48.815 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:48.816 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:48.816 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:49.017 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649145, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:58:49.017 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649145, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["cbdd37c2-8242-4ff1-9a85-c78848f1b330","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Ug ug6f",1,"text",null,null,null,1759537726716,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:58:49.067 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649146, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:58:49.067 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649146, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759537729063,"2e246d9c-356a-4fec-9022-108157fa391a"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:58:49.098 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Stored 1 missed messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:49.098 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 6af01500-2e15-490e-9077-316348aef93e since beginning
2025-10-04 05:58:49.100 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649147, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:49.100 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649147, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["6af01500-2e15-490e-9077-316348aef93e"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:49.114 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:49.115 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:49.115 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:49.225 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 6af01500-2e15-490e-9077-316348aef93e
2025-10-04 05:58:49.226 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 080c089f-e355-4ab7-a3b9-92bc9dd94f32 since beginning
2025-10-04 05:58:49.232 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649148, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:49.232 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649148, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["080c089f-e355-4ab7-a3b9-92bc9dd94f32"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:49.245 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:49.246 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:49.247 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:49.332 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 080c089f-e355-4ab7-a3b9-92bc9dd94f32
2025-10-04 05:58:49.333 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 78045bbf-7474-46df-aac1-f34936b67d24 since beginning
2025-10-04 05:58:49.339 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649149, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:49.339 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649149, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:49.353 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:49.354 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:49.355 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:49.432 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 78045bbf-7474-46df-aac1-f34936b67d24
2025-10-04 05:58:49.434 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b since beginning
2025-10-04 05:58:49.440 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649150, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:49.440 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649150, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:49.454 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:49.455 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:49.456 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:49.544 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b
2025-10-04 05:58:49.545 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 87faebb0-0bf4-49c9-8119-8d56abe52be2 since beginning
2025-10-04 05:58:49.552 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649151, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:49.552 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649151, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["87faebb0-0bf4-49c9-8119-8d56abe52be2"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:49.566 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:49.567 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:49.567 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:49.650 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 87faebb0-0bf4-49c9-8119-8d56abe52be2
2025-10-04 05:58:49.651 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Fetched 1 total missed messages across 7 groups
2025-10-04 05:58:49.652 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] ✅ Fetched 1 missed messages across 7 groups
2025-10-04 05:58:49.653 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:28:49.651 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-04 05:58:49.739 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649152, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:49.740 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649152, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_read_at, joined_at FROM group_members WHERE group_id = ? AND user_id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a","839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:49.756 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Triggered callbacks for group 2e246d9c-356a-4fec-9022-108157fa391a, count=0
2025-10-04 05:58:49.756 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] 📊 Updated unread count for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:51.080 15133-20262 Capacitor/...gingPlugin com.confessr.app                     V  Notifying listeners for event notificationReceived
2025-10-04 05:58:51.095 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 CRITICAL: FirebaseMessaging.notificationReceived FIRED! [object Object]
2025-10-04 05:58:51.096 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Raw notification object: {"notification":{"id":"0:1759537730844279%5612aab15612aab1","data":{"message_id":"acf96cdc-4330-4ef2-b1d2-009925a02abe","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-04T00:28:49.599Z"},"title":"New message","body":"You have a new message in Confessr","clickAction":"FLUTTER_NOTIFICATION_CLICK"}}
2025-10-04 05:58:51.097 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Extracted data: {"message_id":"acf96cdc-4330-4ef2-b1d2-009925a02abe","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-04T00:28:49.599Z"}
2025-10-04 05:58:51.098 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Notification received, reason=data, data: [object Object]
2025-10-04 05:58:51.099 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 📥 Attempting direct fetch for message acf96cdc-4330-4ef2-b1d2-009925a02abe
2025-10-04 05:58:51.099 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🚀 Starting fetch for message acf96cdc-4330-4ef2-b1d2-009925a02abe in group 2e246d9c-356a-4fec-9022-108157fa391a (attempt 1/3)
2025-10-04 05:58:51.103 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649153, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:51.103 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649153, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT 1 FROM messages WHERE id = ? LIMIT 1","values":["acf96cdc-4330-4ef2-b1d2-009925a02abe"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:51.114 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for direct REST call...
2025-10-04 05:58:51.114 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:51.114 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:51.318 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Query completed, got 1 messages
2025-10-04 05:58:51.325 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649154, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:58:51.326 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649154, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["acf96cdc-4330-4ef2-b1d2-009925a02abe","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Vuvycycychvbib7",1,"text",null,null,null,1759537729735,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:58:51.372 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Message acf96cdc-4330-4ef2-b1d2-009925a02abe stored successfully in 269ms
2025-10-04 05:58:51.376 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:28:51.374 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-04 05:58:51.466 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649155, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:51.467 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649155, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_read_at, joined_at FROM group_members WHERE group_id = ? AND user_id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a","839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:51.480 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Triggered callbacks for group 2e246d9c-356a-4fec-9022-108157fa391a, count=0
2025-10-04 05:58:51.480 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 📊 Unread count updated for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:51.481 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ✅ Direct fetch succeeded for message acf96cdc-4330-4ef2-b1d2-009925a02abe
2025-10-04 05:58:51.520 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:28:51.518 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-04 05:58:51.604 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649156, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:51.605 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649156, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_read_at, joined_at FROM group_members WHERE group_id = ? AND user_id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a","839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:51.619 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Triggered callbacks for group 2e246d9c-356a-4fec-9022-108157fa391a, count=0
2025-10-04 05:58:51.620 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 📊 Unread count updated for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:51.621 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Toast notification shown for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:51.622 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ⏭️ Skipping fallback sync - message already handled (messageHandled=true)
2025-10-04 05:58:51.623 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 Push wakeup received: [object Object]
2025-10-04 05:58:51.624 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Wake event: new_message
2025-10-04 05:58:51.625 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] 📬 New message in group 2e246d9c-356a-4fec-9022-108157fa391a - staying on current screen
2025-10-04 05:58:51.626 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] No active group, skipping resume
2025-10-04 05:58:51.626 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🏁 Notification handling complete for message acf96cdc-4330-4ef2-b1d2-009925a02abe
2025-10-04 05:58:51.656 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Fetching missed messages for all groups...
2025-10-04 05:58:51.658 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for all groups
2025-10-04 05:58:51.664 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649157, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:51.664 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649157, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-04 05:58:51.740 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 since beginning
2025-10-04 05:58:51.755 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649158, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:51.755 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649158, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:51.767 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:51.768 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:51.769 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:51.937 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-04 05:58:51.938 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 2e246d9c-356a-4fec-9022-108157fa391a since beginning
2025-10-04 05:58:51.946 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649159, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:51.946 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649159, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:51.957 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:51.958 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:51.958 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:52.103 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649160, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:58:52.103 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649160, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["acf96cdc-4330-4ef2-b1d2-009925a02abe","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Vuvycycychvbib7",1,"text",null,null,null,1759537729735,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:58:52.150 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649161, pluginId: CapacitorSQLite, methodName: run
2025-10-04 05:58:52.150 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649161, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759537732147,"2e246d9c-356a-4fec-9022-108157fa391a"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 05:58:52.178 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Stored 1 missed messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:58:52.178 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 6af01500-2e15-490e-9077-316348aef93e since beginning
2025-10-04 05:58:52.180 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649162, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:52.180 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649162, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["6af01500-2e15-490e-9077-316348aef93e"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:52.188 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:52.188 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:52.189 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:52.272 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 6af01500-2e15-490e-9077-316348aef93e
2025-10-04 05:58:52.273 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 080c089f-e355-4ab7-a3b9-92bc9dd94f32 since beginning
2025-10-04 05:58:52.279 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649163, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:52.280 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649163, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["080c089f-e355-4ab7-a3b9-92bc9dd94f32"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:52.294 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:52.295 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:52.296 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:52.395 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 080c089f-e355-4ab7-a3b9-92bc9dd94f32
2025-10-04 05:58:52.396 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 78045bbf-7474-46df-aac1-f34936b67d24 since beginning
2025-10-04 05:58:52.400 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649164, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:52.401 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649164, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:52.412 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:52.413 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:52.414 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:52.502 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 78045bbf-7474-46df-aac1-f34936b67d24
2025-10-04 05:58:52.503 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b since beginning
2025-10-04 05:58:52.509 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649165, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:52.509 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649165, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:52.524 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:52.525 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:52.526 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:52.725 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b
2025-10-04 05:58:52.727 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 87faebb0-0bf4-49c9-8119-8d56abe52be2 since beginning
2025-10-04 05:58:52.732 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649166, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:52.733 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649166, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["87faebb0-0bf4-49c9-8119-8d56abe52be2"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:52.748 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 05:58:52.749 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 05:58:52.750 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 05:58:52.832 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 87faebb0-0bf4-49c9-8119-8d56abe52be2
2025-10-04 05:58:52.834 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Fetched 1 total missed messages across 7 groups
2025-10-04 05:58:52.834 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] ✅ Fetched 1 missed messages across 7 groups
2025-10-04 05:58:52.840 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:28:52.838 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-04 05:58:52.942 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649167, pluginId: CapacitorSQLite, methodName: query
2025-10-04 05:58:52.942 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649167, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_read_at, joined_at FROM group_members WHERE group_id = ? AND user_id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a","839d1d4a-e72b-47bb-b74e-ef28a15f43ee"],"readonly":false,"isSQL92":true}
2025-10-04 05:58:52.954 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Triggered callbacks for group 2e246d9c-356a-4fec-9022-108157fa391a, count=0
2025-10-04 05:58:52.955 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] 📊 Updated unread count for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 05:59:44.109 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event pause
2025-10-04 05:59:44.109 15133-15133 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event pause
2025-10-04 05:59:44.118 15133-15133 Capacitor               com.confessr.app                     D  App paused
2025-10-04 05:59:44.165 15133-15133 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: false
2025-10-04 05:59:44.165 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-04 05:59:44.174 15133-15133 Capacitor               com.confessr.app                     D  App stopped
2025-10-04 05:59:44.212 15133-15133 Capacitor               com.confessr.app                     D  Saving instance state!
2025-10-04 05:59:44.220 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [device-lock] 00:29:44 📱 Device locked/app backgrounded
2025-10-04 05:59:44.227 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 App state changed: inactive
2025-10-04 05:59:44.228 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 App going to background/pause
2025-10-04 05:59:44.229 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [lifecycle] App paused - resetting outbox processing state
2025-10-04 05:59:44.230 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-04 06:03:19.527 15133-15133 Capacitor               com.confessr.app                     D  App restarted
2025-10-04 06:03:19.532 15133-15133 Capacitor               com.confessr.app                     D  App started
2025-10-04 06:03:19.541 15133-15133 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: true
2025-10-04 06:03:19.541 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-04 06:03:19.557 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event resume
2025-10-04 06:03:19.564 15133-15133 Capacitor               com.confessr.app                     D  App resumed
2025-10-04 06:03:19.567 15133-19750 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-04 06:03:19.583 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [device-lock] 00:33:19 🔓 Device unlocked after 215s (short lock)
2025-10-04 06:03:19.583 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [whatsapp-connection] 00:33:19 🔓 Device unlocked: short lock (215s)
2025-10-04 06:03:19.623 15133-19600 Capacitor               com.confessr.app                     D  Handling local request: https://localhost/assets/reconnectionManager-BltNTXDI.js
2025-10-04 06:03:19.639 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 App state changed: active
2025-10-04 06:03:19.640 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:33:19 ℹ️ App resume from appStateChange {"timeSinceLastResume":1759537999602,"source":"appStateChange"}
2025-10-04 06:03:19.640 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:19.603 📱 App resume detected - checking session state
2025-10-04 06:03:19.640 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:19.604 🔄 Recovering session using cached tokens...
2025-10-04 06:03:19.640 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:19.605 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:03:19.640 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:19.605 🔄 Starting background session refresh with cached tokens
2025-10-04 06:03:19.641 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:19.605 🔄 Using cached tokens to recover session
2025-10-04 06:03:19.641 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 06:03:19.641 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [device-lock] 00:33:19 App foreground event while not locked, treating as activity
2025-10-04 06:03:19.642 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 06:03:19.642 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: app-resume (priority: high)
2025-10-04 06:03:19.642 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: app-resume
2025-10-04 06:03:19.642 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 06:03:19.642 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:33:19 ℹ️ App resume from resume {"timeSinceLastResume":9,"source":"resume"}
2025-10-04 06:03:19.643 15133-15133 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:33:19 🔍 Resume debounced (too soon after last resume)
2025-10-04 06:03:19.643 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [network] 00:33:19 ℹ️ Network status: online {"isOnline":true,"connectionType":"wifi"}
2025-10-04 06:03:19.643 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [network] 00:33:19 ℹ️ Network reconnected
2025-10-04 06:03:19.643 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Network came online
2025-10-04 06:03:19.643 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Network online - triggering outbox processing only
2025-10-04 06:03:19.643 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: network-online (priority: high)
2025-10-04 06:03:19.643 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Coalescing trigger (debounced) from: network-online
2025-10-04 06:03:19.643 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: network-online
2025-10-04 06:03:19.707 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:19.696 🌐 Network reconnection detected - refreshing session
2025-10-04 06:03:19.710 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:19.709 🔄 Recovering session using cached tokens...
2025-10-04 06:03:19.712 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:19.711 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:03:19.712 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:19.711 🔄 Using cached tokens to recover session
2025-10-04 06:03:19.757 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:19.741 [38;5;159m[fetch][0m GET https://sxykfyqrqwifkirveqgr.supabase.co/auth/v1/user
2025-10-04 06:03:19.792 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:19.758 📦 Starting outbox processing - session outbox-1759537999758
2025-10-04 06:03:19.792 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:19.787 📦 Outbox pre-check: sqliteReady after 1ms
2025-10-04 06:03:19.797 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649168, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:19.797 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649168, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759537999790],"readonly":false,"isSQL92":true}
2025-10-04 06:03:19.826 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:33:19 🧭 Triggers coalesced; assessing health - reason: device-unlock-short [cid=1759537999824-vbc9ec]
2025-10-04 06:03:19.826 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:19.826 📦 No outbox messages to process; idle
2025-10-04 06:03:20.026 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:33:20 📱 Waiting for WebView readiness
2025-10-04 06:03:20.029 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [webview-lifecycle] 00:33:20 WebView already ready
2025-10-04 06:03:20.029 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:33:20 ✅ WebView is ready
2025-10-04 06:03:20.029 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:33:20 🔐 Validating SQLite encryption
2025-10-04 06:03:20.030 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 107 - Msg: [sqlite-encryption] 00:33:20 🔓 Validating encryption key after device unlock
2025-10-04 06:03:20.030 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 107 - Msg: [sqlite-encryption] 00:33:20 🔍 Validating SQLite encryption key accessibility
2025-10-04 06:03:20.030 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649169, pluginId: Preferences, methodName: set
2025-10-04 06:03:20.031 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649169, pluginId: Preferences, methodName: set, methodData: {"key":"sqlite_key_validation_test","value":"validation_1759538000028"}
2025-10-04 06:03:20.039 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 06:03:20.040 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649170, pluginId: Preferences, methodName: get
2025-10-04 06:03:20.040 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649170, pluginId: Preferences, methodName: get, methodData: {"key":"sqlite_key_validation_test"}
2025-10-04 06:03:20.049 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649171, pluginId: Preferences, methodName: remove
2025-10-04 06:03:20.050 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649171, pluginId: Preferences, methodName: remove, methodData: {"key":"sqlite_key_validation_test"}
2025-10-04 06:03:20.053 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 06:03:20.057 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649172, pluginId: Preferences, methodName: get
2025-10-04 06:03:20.057 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649172, pluginId: Preferences, methodName: get, methodData: {"key":"sqlite_encryption_key"}
2025-10-04 06:03:20.059 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 107 - Msg: [sqlite-encryption] 00:33:20 ✅ Primary encryption key validation successful
2025-10-04 06:03:20.060 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 107 - Msg: [sqlite-encryption] 00:33:20 ✅ Encryption key accessible after unlock (primary, 31ms)
2025-10-04 06:03:20.060 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:33:20 ✅ SQLite encryption validated
2025-10-04 06:03:20.060 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:33:20 🌐 Checking network stability
2025-10-04 06:03:20.060 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:33:20 ✅ Network is stable
2025-10-04 06:03:20.060 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:33:20 ⚡ Fast path resume: assessing current channel
2025-10-04 06:03:20.064 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:33:20 Reconnection decision: reconnecting
2025-10-04 06:03:20.066 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:33:20 🔄 Starting WhatsApp-like reconnection sequence - reason: device-unlock-short [cid=1759537999824-vbc9ec]
2025-10-04 06:03:20.069 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:33:20 🔗 Applying token to realtime client
2025-10-04 06:03:20.070 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:20.067 🔐 Attempting session recovery using cached tokens
2025-10-04 06:03:20.070 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:20.068 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:03:20.121 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:33:20 Reconnect debounced (296ms since last) - reason: network-online
2025-10-04 06:03:20.456 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:20.454 🔑 Token cached: user=839d1d4a hasAccess=true hasRefresh=true
2025-10-04 06:03:20.459 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Auth event: SIGNED_IN
2025-10-04 06:03:20.459 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Token applied; channel healthy, no reconnect
2025-10-04 06:03:20.459 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-04 06:03:20.460 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: 🔄 Auth state changed: SIGNED_IN 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-04 06:03:20.460 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: ✅ User signed in (post-init), syncing profile...
2025-10-04 06:03:20.460 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: 📝 Setting session: 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-04 06:03:20.460 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: 🔄 Syncing user profile for: 839d1d4a-e72b-47bb-b74e-ef28a15f43ee
2025-10-04 06:03:20.958 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: auth-token-refreshed (priority: high)
2025-10-04 06:03:20.958 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: auth-token-refreshed
2025-10-04 06:03:21.007 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:21.006 📦 Starting outbox processing - session outbox-1759538001006
2025-10-04 06:03:21.008 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:21.006 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-04 06:03:21.011 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649173, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:21.011 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649173, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759538001006],"readonly":false,"isSQL92":true}
2025-10-04 06:03:21.018 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:21.015 📦 No outbox messages to process; idle
2025-10-04 06:03:29.611 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:29.608 🔄 Token recovery timed out after 10s
2025-10-04 06:03:29.612 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:29.609 ⚠️ App resume: token recovery failed, session may need refresh
2025-10-04 06:03:29.613 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:29.609 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:03:29.613 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:29.610 ✅ App resume: token applied to realtime
2025-10-04 06:03:29.614 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:29.611 📦 Triggering outbox processing from: app-resume
2025-10-04 06:03:29.615 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:29.612 ✅ App resume completed using token recovery strategy
2025-10-04 06:03:29.615 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [general] 00:33:29 ℹ️ Triggered outbox processing on app resume
2025-10-04 06:03:29.615 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:33:29 ℹ️ App resume processed from appStateChange
2025-10-04 06:03:29.615 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:29.615 📦 Starting outbox processing - session outbox-1759538009615
2025-10-04 06:03:29.616 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:29.615 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-04 06:03:29.620 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649174, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:29.620 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649174, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759538009615],"readonly":false,"isSQL92":true}
2025-10-04 06:03:29.626 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:29.624 📦 No outbox messages to process; idle
2025-10-04 06:03:29.713 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:29.711 🔄 Token recovery timed out after 10s
2025-10-04 06:03:29.714 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:29.712 📦 Trigger coalesced (debounced 300ms) from: network-reconnect
2025-10-04 06:03:29.714 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:29.712 ✅ Network reconnect session refresh completed
2025-10-04 06:03:39.246 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=0
2025-10-04 06:03:39.248 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 💬 ChatArea: Opening chat for group 2e246d9c-356a-4fec-9022-108157fa391a (Hackathon Partners ❤️)
2025-10-04 06:03:39.252 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Fetching messages for group: 2e246d9c-356a-4fec-9022-108157fa391a (started at 00:33:39.248Z)
2025-10-04 06:03:39.268 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 SQLite ready check: true (19ms)
2025-10-04 06:03:39.271 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: 📦 MessageCache: MISS for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 06:03:39.271 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📦 Cache check completed in 1ms, found 0 messages
2025-10-04 06:03:39.271 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 Loading from SQLite (started at 20ms from group open)
2025-10-04 06:03:39.273 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649175, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.273 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649175, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a",50],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.351 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 SQLite query completed in 70ms, got 50 messages
2025-10-04 06:03:39.351 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 06:03:39.351 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=50, existing=0, optimistic=0, realtime=0, final=50
2025-10-04 06:03:39.351 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: ✅ Loaded 50 recent messages and 0 polls from SQLite
2025-10-04 06:03:39.678 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=50
2025-10-04 06:03:39.687 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [webview] 00:33:39 ℹ️ Checking WebView readiness for realtime setup
2025-10-04 06:03:39.687 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [webview-lifecycle] 00:33:39 WebView already ready
2025-10-04 06:03:39.687 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:39.536 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:03:39.687 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Setting up multi-group realtime subscription for 7 groups (active: 2e246d9c-356a-4fec-9022-108157fa391a)
2025-10-04 06:03:39.687 15133-15133 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [timing] 00:33:39 🔍 Started timing: realtime-setup {"groupId":"2e246d9c-356a-4fec-9022-108157fa391a","totalGroups":7}
2025-10-04 06:03:39.687 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Skipping blocking auth check; proceeding with local auth state
2025-10-04 06:03:39.688 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:39.536 🔐 Waiting for in-flight session request (max 5s)
2025-10-04 06:03:39.688 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Loading remaining messages in background...
2025-10-04 06:03:39.699 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649176, pluginId: Network, methodName: getStatus
2025-10-04 06:03:39.700 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649176, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-04 06:03:39.700 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649177, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.700 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649177, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.700 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649178, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.700 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649178, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.700 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649179, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.701 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649179, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.701 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649180, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.701 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649180, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.701 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649181, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.701 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649181, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.701 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649182, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.702 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649182, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.702 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649183, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.702 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649183, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.702 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649184, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.702 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649184, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.702 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649185, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.702 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649185, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.703 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649186, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.703 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649186, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.703 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649187, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.703 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649187, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.704 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649188, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.704 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649188, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.704 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649189, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.704 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649189, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.704 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🌐 Background: Fetching messages from Supabase (non-blocking)...
2025-10-04 06:03:39.705 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649190, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.705 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649190, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.705 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 💬 ChatArea: Messages loaded in 457.80ms
2025-10-04 06:03:39.705 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649191, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.705 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649191, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.706 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649192, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.706 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649192, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.706 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649193, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.706 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649193, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.706 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649194, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.706 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649194, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.707 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649195, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.707 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649195, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.707 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649196, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.707 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649196, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.707 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649197, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.707 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649197, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.708 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649198, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.708 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649198, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.708 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649199, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.708 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649199, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.708 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649200, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.708 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649200, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.709 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649201, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.709 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649201, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.709 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649202, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.709 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649202, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.709 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649203, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.709 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649203, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.709 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649204, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.710 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649204, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.710 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649205, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.710 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649205, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.710 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649206, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.710 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649206, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.710 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649207, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.710 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649207, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.711 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649208, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.711 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649208, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.711 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649209, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.711 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649209, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.711 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649210, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.711 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649210, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.712 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649211, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.712 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649211, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.712 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649212, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.712 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649212, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.712 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649213, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.712 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649213, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.712 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649214, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.712 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649214, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.713 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649215, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.713 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649215, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.713 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649216, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.713 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649216, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.713 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649217, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.713 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649217, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.714 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649218, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.714 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649218, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.714 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649219, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.714 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649219, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.714 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649220, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.714 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649220, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.714 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649221, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.715 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649221, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.715 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649222, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.715 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649222, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.715 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649223, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.715 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649223, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.715 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649224, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.715 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649224, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.716 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649225, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.716 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649225, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.716 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649226, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.716 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649226, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM user_pseudonyms \n      WHERE group_id = ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:03:39.716 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649227, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:39.716 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649227, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a",50],"readonly":false,"isSQL92":true}
2025-10-04 06:03:41.391 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:41.338 🔄 Recovering session using cached tokens...
2025-10-04 06:03:41.392 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:41.339 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:03:41.393 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:41.340 🔄 Using cached tokens to recover session
2025-10-04 06:03:41.442 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Marking group 2e246d9c-356a-4fec-9022-108157fa391a as read, lastMessageId=acf96cdc-4330-4ef2-b1d2-009925a02abe
2025-10-04 06:03:41.444 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: ✅ Marked group 2e246d9c-356a-4fec-9022-108157fa391a as read up to message acf96cdc-4330-4ef2-b1d2-009925a02abe
2025-10-04 06:03:43.304 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [whatsapp-connection] 00:33:43 📊 Status: connecting -  
2025-10-04 06:03:43.305 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [connection] 00:33:43 ℹ️ Connection status: connecting -  {"isUserVisible":false}
2025-10-04 06:03:43.306 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Creating multi-group channel: multi-group-839d1d4a-e72b-47bb-b74e-ef28a15f43ee-1759538023146-ss44dypxbrb (7 groups)
2025-10-04 06:03:43.376 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📡 Subscribing to messages with filter: group_id=in.(fcf73372-c86c-4e53-ac3d-f28896ce1d30,2e246d9c-356a-4fec-9022-108157fa391a,6af01500-2e15-490e-9077-316348aef93e,080c089f-e355-4ab7-a3b9-92bc9dd94f32,78045bbf-7474-46df-aac1-f34936b67d24,e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b,87faebb0-0bf4-49c9-8119-8d56abe52be2)
2025-10-04 06:03:44.544 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:44.538 ⚠️ In-flight session request timed out after 5s, clearing and retrying
2025-10-04 06:03:44.545 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:44.538 🔐 Attempting session recovery using cached tokens
2025-10-04 06:03:44.546 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:44.538 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:03:45.131 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Subscription status: SUBSCRIBED
2025-10-04 06:03:45.131 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] ✅ Realtime connected successfully
2025-10-04 06:03:45.240 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [whatsapp-connection] 00:33:45 📊 Status: connected -  
2025-10-04 06:03:45.240 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [connection] 00:33:45 ℹ️ Connection status: connected -  {"isUserVisible":false}
2025-10-04 06:03:45.241 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 💓 Starting heartbeat mechanism
2025-10-04 06:03:46.226 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: realtime-connected (priority: normal)
2025-10-04 06:03:46.227 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 75ms for: realtime-connected
2025-10-04 06:03:46.309 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:46.307 📦 Starting outbox processing - session outbox-1759538026307
2025-10-04 06:03:46.310 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:46.307 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-04 06:03:46.316 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649228, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:03:46.317 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649228, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759538026307],"readonly":false,"isSQL92":true}
2025-10-04 06:03:46.326 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:46.323 📦 No outbox messages to process; idle
2025-10-04 06:03:51.343 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:33:51.341 🔄 Token recovery timed out after 10s
2025-10-04 06:04:15.232 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 💓 Heartbeat sent
2025-10-04 06:04:25.699 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event pause
2025-10-04 06:04:25.699 15133-15133 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event pause
2025-10-04 06:04:25.701 15133-15133 Capacitor               com.confessr.app                     D  App paused
2025-10-04 06:04:25.848 15133-15133 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: false
2025-10-04 06:04:25.848 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-04 06:04:25.867 15133-15133 Capacitor               com.confessr.app                     D  App stopped
2025-10-04 06:04:25.870 15133-15133 Capacitor               com.confessr.app                     D  Saving instance state!
2025-10-04 06:04:25.873 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [device-lock] 00:34:25 📱 Device locked/app backgrounded
2025-10-04 06:04:25.874 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 App state changed: inactive
2025-10-04 06:04:25.874 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 App going to background/pause
2025-10-04 06:04:25.874 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [lifecycle] App paused - resetting outbox processing state
2025-10-04 06:04:25.874 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-04 06:04:33.718 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Realtime INSERT received: id=8b42e149-5f87-4ffa-a9be-b0b181c11529, group=2e246d9c-356a-4fec-9022-108157fa391a, content="Giuyfuf68f86f8f6ifif...", user=7bef8c3e-cd57-47be-bcd7-0d9edecad2a5, dedupe=d:7bef8c3e-cd57-47be-bcd7-0d9edecad2a5:2e246d9c-356a-4fec-9022-108157fa391a:1759538072529-8f5cpduvwwj
2025-10-04 06:04:33.997 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Built message from row: id=8b42e149-5f87-4ffa-a9be-b0b181c11529, group=2e246d9c-356a-4fec-9022-108157fa391a, delivery_status=delivered
2025-10-04 06:04:34.001 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: 📨 attachMessageToState: action=added-new, id=8b42e149-5f87-4ffa-a9be-b0b181c11529, oldId=null, before=50, after=51
2025-10-04 06:04:34.008 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 06:04:34.008 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: 📦 MessageCache updated for group 2e246d9c-356a-4fec-9022-108157fa391a after realtime insert (51 messages)
2025-10-04 06:04:34.008 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Message attached to state: id=8b42e149-5f87-4ffa-a9be-b0b181c11529 (active group)
2025-10-04 06:04:34.234 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=51
2025-10-04 06:04:34.360 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649229, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:04:34.361 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649229, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["8b42e149-5f87-4ffa-a9be-b0b181c11529","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Giuyfuf68f86f8f6ifif86f68fi6ci6c6iciyciyciyciyciciyciycjiycyicyiciyciyiciyiycicyciiyic",1,"text",null,null,null,1759538073126,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:04:34.557 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Message persisted to SQLite: id=8b42e149-5f87-4ffa-a9be-b0b181c11529
2025-10-04 06:04:34.561 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649230, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:04:34.561 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649230, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759538074547,"2e246d9c-356a-4fec-9022-108157fa391a"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:04:36.444 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Marking group 2e246d9c-356a-4fec-9022-108157fa391a as read, lastMessageId=8b42e149-5f87-4ffa-a9be-b0b181c11529
2025-10-04 06:04:36.448 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: ✅ Marked group 2e246d9c-356a-4fec-9022-108157fa391a as read up to message 8b42e149-5f87-4ffa-a9be-b0b181c11529
2025-10-04 06:04:45.396 15133-15133 Capacitor               com.confessr.app                     D  App restarted
2025-10-04 06:04:45.398 15133-15133 Capacitor               com.confessr.app                     D  App started
2025-10-04 06:04:45.400 15133-15133 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: true
2025-10-04 06:04:45.400 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-04 06:04:45.401 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event resume
2025-10-04 06:04:45.404 15133-15133 Capacitor               com.confessr.app                     D  App resumed
2025-10-04 06:04:45.413 15133-19750 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-04 06:04:45.421 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [device-lock] 00:34:45 🔓 Device unlocked after 20s (short lock)
2025-10-04 06:04:45.421 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [whatsapp-connection] 00:34:45 🔓 Device unlocked: short lock (20s)
2025-10-04 06:04:45.421 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 App state changed: active
2025-10-04 06:04:45.421 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:34:45 ℹ️ App resume from appStateChange {"timeSinceLastResume":85801,"source":"appStateChange"}
2025-10-04 06:04:45.422 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:45.403 📱 App resume detected - checking session state
2025-10-04 06:04:45.422 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:45.403 🔄 Recovering session using cached tokens...
2025-10-04 06:04:45.422 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:45.403 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:04:45.422 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:45.403 🔄 Starting background session refresh with cached tokens
2025-10-04 06:04:45.422 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:45.403 🔄 Using cached tokens to recover session
2025-10-04 06:04:45.422 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 06:04:45.422 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [device-lock] 00:34:45 App foreground event while not locked, treating as activity
2025-10-04 06:04:45.422 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:34:45 Reconnect already in progress, waiting - reason: device-unlock-short
2025-10-04 06:04:45.422 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 06:04:45.422 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: app-resume (priority: high)
2025-10-04 06:04:45.423 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: app-resume
2025-10-04 06:04:45.423 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 06:04:45.423 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:34:45 ℹ️ App resume from resume {"timeSinceLastResume":9,"source":"resume"}
2025-10-04 06:04:45.423 15133-15133 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:34:45 🔍 Resume debounced (too soon after last resume)
2025-10-04 06:04:45.449 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [network] 00:34:45 ℹ️ Network status: online {"isOnline":true,"connectionType":"wifi"}
2025-10-04 06:04:45.449 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [network] 00:34:45 ℹ️ Network reconnected
2025-10-04 06:04:45.449 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Network came online
2025-10-04 06:04:45.450 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Network online - triggering outbox processing only
2025-10-04 06:04:45.450 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: network-online (priority: high)
2025-10-04 06:04:45.450 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Coalescing trigger (debounced) from: network-online
2025-10-04 06:04:45.450 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: network-online
2025-10-04 06:04:45.686 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:45.679 🌐 Network reconnection detected - refreshing session
2025-10-04 06:04:45.686 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:45.679 🔄 Recovering session using cached tokens...
2025-10-04 06:04:45.686 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:45.679 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:04:45.686 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:45.679 🔄 Using cached tokens to recover session
2025-10-04 06:04:45.696 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 💓 Heartbeat sent
2025-10-04 06:04:45.697 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:45.693 📦 Starting outbox processing - session outbox-1759538085693
2025-10-04 06:04:45.697 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:45.693 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-04 06:04:45.698 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649231, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:04:45.698 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649231, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759538085694],"readonly":false,"isSQL92":true}
2025-10-04 06:04:45.779 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:45.774 📦 No outbox messages to process; idle
2025-10-04 06:04:45.940 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:34:45 Reconnect already in progress, waiting - reason: network-online
2025-10-04 06:04:46.039 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Channel already subscribed (fast path)
2025-10-04 06:04:46.039 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Fetching messages for group: 2e246d9c-356a-4fec-9022-108157fa391a (started at 00:34:46.038Z)
2025-10-04 06:04:46.140 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 SQLite ready check: true (101ms)
2025-10-04 06:04:46.141 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: 📦 MessageCache: HIT for group 2e246d9c-356a-4fec-9022-108157fa391a (50 messages)
2025-10-04 06:04:46.141 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📦 Cache check completed in 0ms, found 50 messages
2025-10-04 06:04:46.142 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: ⚡ INSTANT: Loading messages from in-memory cache
2025-10-04 06:04:46.142 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=50, existing=51, optimistic=0, realtime=0, final=50
2025-10-04 06:04:46.142 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: ⚡ INSTANT: Displayed 50 cached messages instantly
2025-10-04 06:04:46.143 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 Background refresh from SQLite (started at 102ms from group open)
2025-10-04 06:04:46.180 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=50
2025-10-04 06:04:46.218 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649232, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:04:46.218 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649232, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a",50],"readonly":false,"isSQL92":true}
2025-10-04 06:04:46.224 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Background: Refreshing messages from SQLite to ensure cache is current
2025-10-04 06:04:46.254 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 SQLite query completed in 109ms, got 50 messages
2025-10-04 06:04:46.255 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 06:04:46.255 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=50, existing=50, optimistic=0, realtime=0, final=50
2025-10-04 06:04:46.255 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Background: Updated UI with 50 fresh messages from SQLite
2025-10-04 06:04:46.310 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649233, pluginId: Network, methodName: getStatus
2025-10-04 06:04:46.310 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649233, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-04 06:04:46.321 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🌐 Background: Fetching messages from Supabase (non-blocking)...
2025-10-04 06:04:46.353 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Loading remaining messages in background...
2025-10-04 06:04:46.354 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649234, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:04:46.354 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649234, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a",50],"readonly":false,"isSQL92":true}
2025-10-04 06:04:48.311 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Marking group 2e246d9c-356a-4fec-9022-108157fa391a as read, lastMessageId=8b42e149-5f87-4ffa-a9be-b0b181c11529
2025-10-04 06:04:48.313 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: ✅ Marked group 2e246d9c-356a-4fec-9022-108157fa391a as read up to message 8b42e149-5f87-4ffa-a9be-b0b181c11529
2025-10-04 06:04:49.962 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event pause
2025-10-04 06:04:49.962 15133-15133 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event pause
2025-10-04 06:04:49.966 15133-15133 Capacitor               com.confessr.app                     D  App paused
2025-10-04 06:04:50.013 15133-15133 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: false
2025-10-04 06:04:50.013 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-04 06:04:50.020 15133-15133 Capacitor               com.confessr.app                     D  App stopped
2025-10-04 06:04:50.044 15133-15133 Capacitor               com.confessr.app                     D  Saving instance state!
2025-10-04 06:04:50.063 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [device-lock] 00:34:50 📱 Device locked/app backgrounded
2025-10-04 06:04:50.064 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 App state changed: inactive
2025-10-04 06:04:50.064 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 App going to background/pause
2025-10-04 06:04:50.064 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [lifecycle] App paused - resetting outbox processing state
2025-10-04 06:04:50.065 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-04 06:04:55.445 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:55.443 🔄 Token recovery timed out after 10s
2025-10-04 06:04:55.446 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:55.443 ⚠️ App resume: token recovery failed, session may need refresh
2025-10-04 06:04:55.446 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:55.443 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:04:55.446 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:55.443 ✅ App resume: token applied to realtime
2025-10-04 06:04:55.446 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:55.444 📦 Triggering outbox processing from: app-resume
2025-10-04 06:04:55.447 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:55.444 ✅ App resume completed using token recovery strategy
2025-10-04 06:04:55.447 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [general] 00:34:55 ℹ️ Triggered outbox processing on app resume
2025-10-04 06:04:55.447 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:34:55 ℹ️ App resume processed from appStateChange
2025-10-04 06:04:55.447 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:55.446 📦 Starting outbox processing - session outbox-1759538095445
2025-10-04 06:04:55.447 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:55.446 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-04 06:04:55.454 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649235, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:04:55.454 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649235, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759538095446],"readonly":false,"isSQL92":true}
2025-10-04 06:04:55.463 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:55.462 📦 No outbox messages to process; idle
2025-10-04 06:04:56.446 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:56.444 🔄 Token recovery timed out after 10s
2025-10-04 06:04:56.447 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:56.444 📦 Triggering outbox processing from: network-reconnect
2025-10-04 06:04:56.447 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:56.445 ✅ Network reconnect session refresh completed
2025-10-04 06:04:56.447 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:56.445 📦 Starting outbox processing - session outbox-1759538096445
2025-10-04 06:04:56.447 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:56.445 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-04 06:04:56.450 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649236, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:04:56.451 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649236, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759538096445],"readonly":false,"isSQL92":true}
2025-10-04 06:04:56.459 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:34:56.458 📦 No outbox messages to process; idle
2025-10-04 06:05:15.468 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 💓 Heartbeat sent
2025-10-04 06:05:22.871 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Realtime INSERT received: id=7a6b6a55-da4d-4d94-af26-0245bd12f1d1, group=2e246d9c-356a-4fec-9022-108157fa391a, content="Fi6f8668...", user=7bef8c3e-cd57-47be-bcd7-0d9edecad2a5, dedupe=d:7bef8c3e-cd57-47be-bcd7-0d9edecad2a5:2e246d9c-356a-4fec-9022-108157fa391a:1759538121746-ndvi1tql2ji
2025-10-04 06:05:23.048 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Built message from row: id=7a6b6a55-da4d-4d94-af26-0245bd12f1d1, group=2e246d9c-356a-4fec-9022-108157fa391a, delivery_status=delivered
2025-10-04 06:05:23.048 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: 📨 attachMessageToState: action=added-new, id=7a6b6a55-da4d-4d94-af26-0245bd12f1d1, oldId=null, before=50, after=51
2025-10-04 06:05:23.050 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 06:05:23.050 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: 📦 MessageCache updated for group 2e246d9c-356a-4fec-9022-108157fa391a after realtime insert (51 messages)
2025-10-04 06:05:23.051 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Message attached to state: id=7a6b6a55-da4d-4d94-af26-0245bd12f1d1 (active group)
2025-10-04 06:05:23.295 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=51
2025-10-04 06:05:23.442 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649237, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:05:23.442 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649237, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["7a6b6a55-da4d-4d94-af26-0245bd12f1d1","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Fi6f8668",1,"text",null,null,null,1759538122442,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:05:23.557 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Message persisted to SQLite: id=7a6b6a55-da4d-4d94-af26-0245bd12f1d1
2025-10-04 06:05:23.559 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649238, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:05:23.559 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649238, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759538123556,"2e246d9c-356a-4fec-9022-108157fa391a"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:05:25.446 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Marking group 2e246d9c-356a-4fec-9022-108157fa391a as read, lastMessageId=7a6b6a55-da4d-4d94-af26-0245bd12f1d1
2025-10-04 06:05:25.448 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: ✅ Marked group 2e246d9c-356a-4fec-9022-108157fa391a as read up to message 7a6b6a55-da4d-4d94-af26-0245bd12f1d1
2025-10-04 06:05:45.474 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 💓 Heartbeat sent
2025-10-04 06:06:10.275 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Realtime INSERT received: id=3856187d-dbc9-4cf8-acae-f5a5a844dc1c, group=2e246d9c-356a-4fec-9022-108157fa391a, content="Ufutctu...", user=7bef8c3e-cd57-47be-bcd7-0d9edecad2a5, dedupe=d:7bef8c3e-cd57-47be-bcd7-0d9edecad2a5:2e246d9c-356a-4fec-9022-108157fa391a:1759538169244-ovex9lfzxue
2025-10-04 06:06:10.465 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Built message from row: id=3856187d-dbc9-4cf8-acae-f5a5a844dc1c, group=2e246d9c-356a-4fec-9022-108157fa391a, delivery_status=delivered
2025-10-04 06:06:10.468 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: 📨 attachMessageToState: action=added-new, id=3856187d-dbc9-4cf8-acae-f5a5a844dc1c, oldId=null, before=51, after=52
2025-10-04 06:06:10.468 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 06:06:10.469 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: 📦 MessageCache updated for group 2e246d9c-356a-4fec-9022-108157fa391a after realtime insert (52 messages)
2025-10-04 06:06:10.470 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Message attached to state: id=3856187d-dbc9-4cf8-acae-f5a5a844dc1c (active group)
2025-10-04 06:06:10.684 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=52
2025-10-04 06:06:10.827 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649239, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:06:10.827 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649239, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["3856187d-dbc9-4cf8-acae-f5a5a844dc1c","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Ufutctu",1,"text",null,null,null,1759538169673,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:06:10.857 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Message persisted to SQLite: id=3856187d-dbc9-4cf8-acae-f5a5a844dc1c
2025-10-04 06:06:10.860 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649240, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:06:10.860 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649240, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759538170856,"2e246d9c-356a-4fec-9022-108157fa391a"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:06:13.444 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Marking group 2e246d9c-356a-4fec-9022-108157fa391a as read, lastMessageId=3856187d-dbc9-4cf8-acae-f5a5a844dc1c
2025-10-04 06:06:13.445 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: ✅ Marked group 2e246d9c-356a-4fec-9022-108157fa391a as read up to message 3856187d-dbc9-4cf8-acae-f5a5a844dc1c
2025-10-04 06:06:15.446 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 💓 Heartbeat sent
2025-10-04 06:06:45.703 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 💓 Heartbeat sent
2025-10-04 06:07:31.105 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Realtime INSERT received: id=a25c2d47-41d1-4078-8ecc-205fe5259919, group=2e246d9c-356a-4fec-9022-108157fa391a, content="Ciyciyfyi...", user=7bef8c3e-cd57-47be-bcd7-0d9edecad2a5, dedupe=d:7bef8c3e-cd57-47be-bcd7-0d9edecad2a5:2e246d9c-356a-4fec-9022-108157fa391a:1759538250294-gptxpvb4a57
2025-10-04 06:07:31.300 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Built message from row: id=a25c2d47-41d1-4078-8ecc-205fe5259919, group=2e246d9c-356a-4fec-9022-108157fa391a, delivery_status=delivered
2025-10-04 06:07:31.300 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: 📨 attachMessageToState: action=added-new, id=a25c2d47-41d1-4078-8ecc-205fe5259919, oldId=null, before=52, after=53
2025-10-04 06:07:31.301 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 06:07:31.301 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: 📦 MessageCache updated for group 2e246d9c-356a-4fec-9022-108157fa391a after realtime insert (53 messages)
2025-10-04 06:07:31.301 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Message attached to state: id=a25c2d47-41d1-4078-8ecc-205fe5259919 (active group)
2025-10-04 06:07:31.631 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=53
2025-10-04 06:07:31.772 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649241, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:07:31.772 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649241, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["a25c2d47-41d1-4078-8ecc-205fe5259919","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Ciyciyfyi",1,"text",null,null,null,1759538250949,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:07:31.799 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Message persisted to SQLite: id=a25c2d47-41d1-4078-8ecc-205fe5259919
2025-10-04 06:07:31.801 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649242, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:07:31.802 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649242, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759538251798,"2e246d9c-356a-4fec-9022-108157fa391a"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:07:34.452 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Marking group 2e246d9c-356a-4fec-9022-108157fa391a as read, lastMessageId=a25c2d47-41d1-4078-8ecc-205fe5259919
2025-10-04 06:07:34.463 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: ✅ Marked group 2e246d9c-356a-4fec-9022-108157fa391a as read up to message a25c2d47-41d1-4078-8ecc-205fe5259919
2025-10-04 06:07:35.159 15133-15133 Capacitor               com.confessr.app                     D  App restarted
2025-10-04 06:07:35.161 15133-15133 Capacitor               com.confessr.app                     D  App started
2025-10-04 06:07:35.165 15133-15133 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: true
2025-10-04 06:07:35.165 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-04 06:07:35.167 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event resume
2025-10-04 06:07:35.173 15133-15133 Capacitor               com.confessr.app                     D  App resumed
2025-10-04 06:07:35.174 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [device-lock] 00:37:35 🔓 Device unlocked after 165s (short lock)
2025-10-04 06:07:35.174 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [whatsapp-connection] 00:37:35 🔓 Device unlocked: short lock (165s)
2025-10-04 06:07:35.175 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 App state changed: active
2025-10-04 06:07:35.175 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:37:35 ℹ️ App resume from appStateChange {"timeSinceLastResume":169764,"source":"appStateChange"}
2025-10-04 06:07:35.175 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:35.168 📱 App resume detected - checking session state
2025-10-04 06:07:35.175 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:35.168 🔄 Recovering session using cached tokens...
2025-10-04 06:07:35.175 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:35.168 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:07:35.175 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:35.168 🔄 Starting background session refresh with cached tokens
2025-10-04 06:07:35.175 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:35.168 🔄 Using cached tokens to recover session
2025-10-04 06:07:35.186 15133-19750 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-04 06:07:35.196 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:37:35 Reconnect already in progress, waiting - reason: device-unlock-short
2025-10-04 06:07:35.196 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 06:07:35.197 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [device-lock] 00:37:35 App foreground event while not locked, treating as activity
2025-10-04 06:07:35.197 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 06:07:35.197 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: app-resume (priority: high)
2025-10-04 06:07:35.197 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: app-resume
2025-10-04 06:07:35.197 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 06:07:35.197 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:37:35 ℹ️ App resume from resume {"timeSinceLastResume":4,"source":"resume"}
2025-10-04 06:07:35.197 15133-15133 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:37:35 🔍 Resume debounced (too soon after last resume)
2025-10-04 06:07:35.237 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [network] 00:37:35 ℹ️ Network status: online {"isOnline":true,"connectionType":"wifi"}
2025-10-04 06:07:35.237 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [network] 00:37:35 ℹ️ Network reconnected
2025-10-04 06:07:35.237 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Network came online
2025-10-04 06:07:35.238 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Network online - triggering outbox processing only
2025-10-04 06:07:35.238 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: network-online (priority: high)
2025-10-04 06:07:35.238 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Coalescing trigger (debounced) from: network-online
2025-10-04 06:07:35.238 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: network-online
2025-10-04 06:07:35.388 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:35.387 🌐 Network reconnection detected - refreshing session
2025-10-04 06:07:35.388 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:35.387 🔄 Recovering session using cached tokens...
2025-10-04 06:07:35.388 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:35.387 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:07:35.388 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:35.387 🔄 Using cached tokens to recover session
2025-10-04 06:07:35.530 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 💓 Heartbeat sent
2025-10-04 06:07:35.530 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:35.411 📦 Starting outbox processing - session outbox-1759538255411
2025-10-04 06:07:35.530 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:35.411 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-04 06:07:35.532 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649243, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:07:35.532 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649243, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759538255411],"readonly":false,"isSQL92":true}
2025-10-04 06:07:35.539 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:35.538 📦 No outbox messages to process; idle
2025-10-04 06:07:35.724 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:37:35 Reconnect already in progress, waiting - reason: network-online
2025-10-04 06:07:35.823 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Channel already subscribed (fast path)
2025-10-04 06:07:35.823 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Fetching messages for group: 2e246d9c-356a-4fec-9022-108157fa391a (started at 00:37:35.821Z)
2025-10-04 06:07:35.898 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 SQLite ready check: true (76ms)
2025-10-04 06:07:35.898 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: 📦 MessageCache: HIT for group 2e246d9c-356a-4fec-9022-108157fa391a (50 messages)
2025-10-04 06:07:35.898 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📦 Cache check completed in 0ms, found 50 messages
2025-10-04 06:07:35.899 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: ⚡ INSTANT: Loading messages from in-memory cache
2025-10-04 06:07:35.899 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=50, existing=53, optimistic=0, realtime=0, final=50
2025-10-04 06:07:35.899 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: ⚡ INSTANT: Displayed 50 cached messages instantly
2025-10-04 06:07:35.899 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 Background refresh from SQLite (started at 77ms from group open)
2025-10-04 06:07:35.931 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=50
2025-10-04 06:07:35.961 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649244, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:07:35.961 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649244, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a",50],"readonly":false,"isSQL92":true}
2025-10-04 06:07:35.969 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Background: Refreshing messages from SQLite to ensure cache is current
2025-10-04 06:07:35.992 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 SQLite query completed in 91ms, got 50 messages
2025-10-04 06:07:35.993 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 06:07:35.993 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=50, existing=50, optimistic=0, realtime=0, final=50
2025-10-04 06:07:35.993 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Background: Updated UI with 50 fresh messages from SQLite
2025-10-04 06:07:36.030 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649245, pluginId: Network, methodName: getStatus
2025-10-04 06:07:36.030 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649245, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-04 06:07:36.037 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🌐 Background: Fetching messages from Supabase (non-blocking)...
2025-10-04 06:07:36.092 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Loading remaining messages in background...
2025-10-04 06:07:36.093 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649246, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:07:36.094 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649246, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a",50],"readonly":false,"isSQL92":true}
2025-10-04 06:07:38.030 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Marking group 2e246d9c-356a-4fec-9022-108157fa391a as read, lastMessageId=a25c2d47-41d1-4078-8ecc-205fe5259919
2025-10-04 06:07:38.032 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: ✅ Marked group 2e246d9c-356a-4fec-9022-108157fa391a as read up to message a25c2d47-41d1-4078-8ecc-205fe5259919
2025-10-04 06:07:38.904 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event backButton
2025-10-04 06:07:39.024 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-04 06:07:39.045 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 Loading groups from local storage first (local-first approach)
2025-10-04 06:07:39.046 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649247, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:07:39.047 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649247, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-04 06:07:39.080 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 Found 7 groups in local storage
2025-10-04 06:07:39.080 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: ✅ Loaded 7 groups from local storage
2025-10-04 06:07:39.087 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649248, pluginId: Network, methodName: getStatus
2025-10-04 06:07:39.087 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649248, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-04 06:07:39.103 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: � B ackground syncing groups with Supabase...
2025-10-04 06:07:39.103 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🌐 Fetching groups from Supabase...
2025-10-04 06:07:39.103 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:39.102 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:07:41.746 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event pause
2025-10-04 06:07:41.746 15133-15133 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event pause
2025-10-04 06:07:41.750 15133-15133 Capacitor               com.confessr.app                     D  App paused
2025-10-04 06:07:41.752 15133-15133 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: false
2025-10-04 06:07:41.752 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-04 06:07:41.753 15133-15133 Capacitor               com.confessr.app                     D  App stopped
2025-10-04 06:07:41.755 15133-15133 Capacitor               com.confessr.app                     D  Saving instance state!
2025-10-04 06:07:41.851 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [device-lock] 00:37:41 📱 Device locked/app backgrounded
2025-10-04 06:07:41.852 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 App state changed: inactive
2025-10-04 06:07:41.854 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 App going to background/pause
2025-10-04 06:07:41.855 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [lifecycle] App paused - resetting outbox processing state
2025-10-04 06:07:41.855 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-04 06:07:44.446 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] ⏭️ Skipping cleanup - channel still active (state: joined)
2025-10-04 06:07:45.447 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:45.444 🔄 Token recovery timed out after 10s
2025-10-04 06:07:45.448 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:45.445 ⚠️ App resume: token recovery failed, session may need refresh
2025-10-04 06:07:45.451 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:45.445 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:07:45.452 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:45.445 ✅ App resume: token applied to realtime
2025-10-04 06:07:45.453 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:45.446 📦 Triggering outbox processing from: app-resume
2025-10-04 06:07:45.454 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:45.446 ✅ App resume completed using token recovery strategy
2025-10-04 06:07:45.455 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [general] 00:37:45 ℹ️ Triggered outbox processing on app resume
2025-10-04 06:07:45.455 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:37:45 ℹ️ App resume processed from appStateChange
2025-10-04 06:07:45.456 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 💓 Heartbeat sent
2025-10-04 06:07:45.457 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:45.449 🔄 Token recovery timed out after 10s
2025-10-04 06:07:45.459 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:45.449 📦 Trigger coalesced (debounced 300ms) from: network-reconnect
2025-10-04 06:07:45.460 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:45.449 ✅ Network reconnect session refresh completed
2025-10-04 06:07:45.461 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:45.450 📦 Starting outbox processing - session outbox-1759538265450
2025-10-04 06:07:45.462 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:45.450 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-04 06:07:45.468 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649249, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:07:45.468 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649249, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759538265450],"readonly":false,"isSQL92":true}
2025-10-04 06:07:45.479 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:37:45.476 📦 No outbox messages to process; idle
2025-10-04 06:08:01.075 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Realtime INSERT received: id=8a99c9d1-f290-4b3f-8832-88aa976af0a7, group=2e246d9c-356a-4fec-9022-108157fa391a, content="Cuycuyfyif...", user=7bef8c3e-cd57-47be-bcd7-0d9edecad2a5, dedupe=d:7bef8c3e-cd57-47be-bcd7-0d9edecad2a5:2e246d9c-356a-4fec-9022-108157fa391a:1759538280144-a7peckhrl5q
2025-10-04 06:08:01.113 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Built message from row: id=8a99c9d1-f290-4b3f-8832-88aa976af0a7, group=2e246d9c-356a-4fec-9022-108157fa391a, delivery_status=delivered
2025-10-04 06:08:01.114 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Message NOT attached to state: id=8a99c9d1-f290-4b3f-8832-88aa976af0a7 (different group: 2e246d9c-356a-4fec-9022-108157fa391a)
2025-10-04 06:08:01.120 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649250, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:08:01.121 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649250, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["8a99c9d1-f290-4b3f-8832-88aa976af0a7","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Cuycuyfyif",1,"text",null,null,null,1759538280601,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:08:01.273 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📨 Message persisted to SQLite: id=8a99c9d1-f290-4b3f-8832-88aa976af0a7
2025-10-04 06:08:01.275 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649251, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:08:01.275 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649251, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759538281271,"2e246d9c-356a-4fec-9022-108157fa391a"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:08:01.314 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📊 Unread count updated for group 2e246d9c-356a-4fec-9022-108157fa391a: 0
2025-10-04 06:08:15.488 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 💓 Heartbeat sent
2025-10-04 06:09:39.975 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 💓 Heartbeat sent
2025-10-04 06:09:39.978 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] ⚠️ Realtime appears DEAD (no events for 99s)
2025-10-04 06:09:39.980 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 🔄 Forcing reconnection due to realtime death
2025-10-04 06:09:39.980 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 💓 Heartbeat stopped
2025-10-04 06:09:39.981 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 💓 Heartbeat check stopped
2025-10-04 06:09:39.983 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 🔧 CRITICAL: Forcing realtime recovery
2025-10-04 06:09:39.984 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 🔧 Realtime died at: 2025-10-04T00:39:39.975Z
2025-10-04 06:09:39.985 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Subscription status: CLOSED
2025-10-04 06:09:39.985 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] ❌ Connection failed with status: CLOSED
2025-10-04 06:09:39.986 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:39:39.982 🔐 Waiting for in-flight session request (max 5s)
2025-10-04 06:09:40.009 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 🔧 Removed dead channel
2025-10-04 06:09:40.009 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 🔧 Forcing session refresh
2025-10-04 06:09:40.010 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:39:40.008 🔄 Direct session refresh...
2025-10-04 06:09:40.010 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:39:40.008 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:09:40.010 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:39:40.008 🔄 Starting background session refresh with cached tokens
2025-10-04 06:09:40.031 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:39:40.029 🔄 Attempting setSession() with cached tokens (more reliable than refreshSession)
2025-10-04 06:10:01.070 15133-15133 Capacitor               com.confessr.app                     D  App restarted
2025-10-04 06:10:01.070 15133-15133 Capacitor               com.confessr.app                     D  App started
2025-10-04 06:10:01.073 15133-15133 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: true
2025-10-04 06:10:01.073 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-04 06:10:01.073 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event resume
2025-10-04 06:10:01.076 15133-15133 Capacitor               com.confessr.app                     D  App resumed
2025-10-04 06:10:01.078 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [device-lock] 00:40:01 🔓 Device unlocked after 139s (short lock)
2025-10-04 06:10:01.079 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [whatsapp-connection] 00:40:01 🔓 Device unlocked: short lock (139s)
2025-10-04 06:10:01.080 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 App state changed: active
2025-10-04 06:10:01.080 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:40:01 Reconnect already in progress, waiting - reason: device-unlock-short
2025-10-04 06:10:01.104 15133-19750 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-04 06:10:01.109 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:40:01 ℹ️ App resume from appStateChange {"timeSinceLastResume":145919,"source":"appStateChange"}
2025-10-04 06:10:01.109 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:01.092 📱 App resume detected - checking session state
2025-10-04 06:10:01.109 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:01.092 🔄 Recovering session using cached tokens...
2025-10-04 06:10:01.109 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:01.092 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:10:01.109 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:01.092 🔄 Using cached tokens to recover session
2025-10-04 06:10:01.109 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 06:10:01.110 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [device-lock] 00:40:01 App foreground event while not locked, treating as activity
2025-10-04 06:10:01.110 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 06:10:01.110 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: app-resume (priority: high)
2025-10-04 06:10:01.110 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: app-resume
2025-10-04 06:10:01.110 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 06:10:01.110 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:40:01 ℹ️ App resume from resume {"timeSinceLastResume":7,"source":"resume"}
2025-10-04 06:10:01.110 15133-15133 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:40:01 🔍 Resume debounced (too soon after last resume)
2025-10-04 06:10:01.119 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:01.112 ⚠️ In-flight session request timed out after 5s, clearing and retrying
2025-10-04 06:10:01.119 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:01.113 🔐 Attempting session recovery using cached tokens
2025-10-04 06:10:01.119 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:01.113 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:10:01.119 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:01.114 🔄 setSession() timed out, will try refreshSession()
2025-10-04 06:10:01.119 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:01.114 🔄 Attempting refreshSession() as fallback
2025-10-04 06:10:01.122 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [network] 00:40:01 ℹ️ Network status: online {"isOnline":true,"connectionType":"wifi"}
2025-10-04 06:10:01.123 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [network] 00:40:01 ℹ️ Network reconnected
2025-10-04 06:10:01.123 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Network came online
2025-10-04 06:10:01.123 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Network online - triggering outbox processing only
2025-10-04 06:10:01.123 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: network-online (priority: high)
2025-10-04 06:10:01.123 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Coalescing trigger (debounced) from: network-online
2025-10-04 06:10:01.123 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: network-online
2025-10-04 06:10:01.147 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:01.147 🌐 Network reconnection detected - refreshing session
2025-10-04 06:10:01.148 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:01.147 🔄 Recovering session using cached tokens...
2025-10-04 06:10:01.148 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:01.147 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:10:01.149 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:01.147 🔄 Using cached tokens to recover session
2025-10-04 06:10:01.174 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:01.173 📦 Starting outbox processing - session outbox-1759538401173
2025-10-04 06:10:01.174 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:01.173 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-04 06:10:01.175 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649252, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:10:01.175 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649252, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759538401173],"readonly":false,"isSQL92":true}
2025-10-04 06:10:01.179 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:01.178 📦 No outbox messages to process; idle
2025-10-04 06:10:01.623 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:40:01 Reconnect already in progress, waiting - reason: network-online
2025-10-04 06:10:03.192 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=0
2025-10-04 06:10:03.193 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 💬 ChatArea: Opening chat for group 2e246d9c-356a-4fec-9022-108157fa391a (Hackathon Partners ❤️)
2025-10-04 06:10:03.193 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Fetching messages for group: 2e246d9c-356a-4fec-9022-108157fa391a (started at 00:40:03.191Z)
2025-10-04 06:10:03.203 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 SQLite ready check: true (10ms)
2025-10-04 06:10:03.203 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: 📦 MessageCache: HIT for group 2e246d9c-356a-4fec-9022-108157fa391a (50 messages)
2025-10-04 06:10:03.203 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📦 Cache check completed in 0ms, found 50 messages
2025-10-04 06:10:03.203 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: ⚡ INSTANT: Loading messages from in-memory cache
2025-10-04 06:10:03.204 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=50, existing=0, optimistic=0, realtime=0, final=50
2025-10-04 06:10:03.204 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: ⚡ INSTANT: Displayed 50 cached messages instantly
2025-10-04 06:10:03.204 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 Background refresh from SQLite (started at 11ms from group open)
2025-10-04 06:10:03.287 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=50
2025-10-04 06:10:03.290 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649253, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:10:03.290 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649253, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a",50],"readonly":false,"isSQL92":true}
2025-10-04 06:10:03.399 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Background: Refreshing messages from SQLite to ensure cache is current
2025-10-04 06:10:03.454 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:03.453 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:10:03.552 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 SQLite query completed in 329ms, got 50 messages
2025-10-04 06:10:03.553 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 06:10:03.553 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=50, existing=50, optimistic=0, realtime=0, final=50
2025-10-04 06:10:03.553 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Background: Updated UI with 50 fresh messages from SQLite
2025-10-04 06:10:03.567 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649254, pluginId: Network, methodName: getStatus
2025-10-04 06:10:03.567 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649254, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-04 06:10:03.608 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🌐 Background: Fetching messages from Supabase (non-blocking)...
2025-10-04 06:10:03.608 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 💬 ChatArea: Messages loaded in 416.30ms
2025-10-04 06:10:03.667 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Loading remaining messages in background...
2025-10-04 06:10:03.736 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649255, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:10:03.736 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649255, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a",50],"readonly":false,"isSQL92":true}
2025-10-04 06:10:05.568 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Marking group 2e246d9c-356a-4fec-9022-108157fa391a as read, lastMessageId=8a99c9d1-f290-4b3f-8832-88aa976af0a7
2025-10-04 06:10:05.568 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: ✅ Marked group 2e246d9c-356a-4fec-9022-108157fa391a as read up to message 8a99c9d1-f290-4b3f-8832-88aa976af0a7
2025-10-04 06:10:06.117 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:06.115 🔄 Direct session refresh: timeout (refreshSession hung)
2025-10-04 06:10:06.118 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:06.116 ⚠️ Consecutive refresh failures: 1/3
2025-10-04 06:10:06.118 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 🔧 Session refreshed successfully
2025-10-04 06:10:06.118 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 🔧 Recreating subscription
2025-10-04 06:10:06.119 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Channel error detected, cleaning up and attempting reconnection
2025-10-04 06:10:06.119 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Reconnection attempt 1/5
2025-10-04 06:10:06.119 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] ⏳ Retrying reconnection in 1000ms (exponential backoff)
2025-10-04 06:10:07.131 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 🔄 Executing scheduled reconnection (attempt 1/5)
2025-10-04 06:10:07.132 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [webview] 00:40:07 ℹ️ Checking WebView readiness for realtime setup
2025-10-04 06:10:07.133 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [webview-lifecycle] 00:40:07 WebView already ready
2025-10-04 06:10:07.134 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Setting up multi-group realtime subscription for 7 groups (active: 2e246d9c-356a-4fec-9022-108157fa391a)
2025-10-04 06:10:07.135 15133-15133 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [timing] 00:40:07 🔍 Started timing: realtime-setup {"groupId":"2e246d9c-356a-4fec-9022-108157fa391a","totalGroups":7}
2025-10-04 06:10:07.135 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Skipping blocking auth check; proceeding with local auth state
2025-10-04 06:10:07.136 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:07.124 🔐 Waiting for in-flight session request (max 5s)
2025-10-04 06:10:08.130 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Attempting to reestablish connection
2025-10-04 06:10:08.131 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Connection already in progress, skipping
2025-10-04 06:10:08.931 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:08.926 🔄 Recovering session using cached tokens...
2025-10-04 06:10:08.932 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:08.927 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:10:08.932 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:08.928 🔄 Using cached tokens to recover session
2025-10-04 06:10:10.748 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-10-04 06:10:10.887 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [whatsapp-connection] 00:40:10 📊 Status: connecting -  
2025-10-04 06:10:10.888 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [connection] 00:40:10 ℹ️ Connection status: connecting -  {"isUserVisible":false}
2025-10-04 06:10:10.888 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Creating multi-group channel: multi-group-839d1d4a-e72b-47bb-b74e-ef28a15f43ee-1759538410728-5imkz7ofe0a (7 groups)
2025-10-04 06:10:10.970 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📡 Subscribing to messages with filter: group_id=in.(fcf73372-c86c-4e53-ac3d-f28896ce1d30,2e246d9c-356a-4fec-9022-108157fa391a,6af01500-2e15-490e-9077-316348aef93e,080c089f-e355-4ab7-a3b9-92bc9dd94f32,78045bbf-7474-46df-aac1-f34936b67d24,e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b,87faebb0-0bf4-49c9-8119-8d56abe52be2)
2025-10-04 06:10:11.106 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:11.092 🔄 Token recovery timed out after 10s
2025-10-04 06:10:11.108 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:11.092 ⚠️ App resume: token recovery failed, session may need refresh
2025-10-04 06:10:11.109 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:11.092 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:10:11.110 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:11.092 🔄 Starting background session refresh with cached tokens
2025-10-04 06:10:11.111 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:11.093 ✅ App resume: token applied to realtime
2025-10-04 06:10:11.112 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:11.093 📦 Triggering outbox processing from: app-resume
2025-10-04 06:10:11.113 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:11.093 ✅ App resume completed using token recovery strategy
2025-10-04 06:10:11.115 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [general] 00:40:11 ℹ️ Triggered outbox processing on app resume
2025-10-04 06:10:11.116 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:40:11 ℹ️ App resume processed from appStateChange
2025-10-04 06:10:11.116 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:11.093 📦 Starting outbox processing - session outbox-1759538411093
2025-10-04 06:10:11.117 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:11.093 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-04 06:10:11.162 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:11.150 🔄 Token recovery timed out after 10s
2025-10-04 06:10:11.163 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:11.150 📦 Trigger coalesced (debounced 300ms) from: network-reconnect
2025-10-04 06:10:11.164 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:11.150 ✅ Network reconnect session refresh completed
2025-10-04 06:10:11.168 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649256, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:10:11.169 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649256, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759538411093],"readonly":false,"isSQL92":true}
2025-10-04 06:10:11.207 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:11.177 📦 No outbox messages to process; idle
2025-10-04 06:10:12.152 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:12.125 ⚠️ In-flight session request timed out after 5s, clearing and retrying
2025-10-04 06:10:12.153 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:12.126 🔐 Attempting session recovery using cached tokens
2025-10-04 06:10:12.155 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:12.126 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:10:12.476 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Subscription status: SUBSCRIBED
2025-10-04 06:10:12.476 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] ✅ Realtime connected successfully
2025-10-04 06:10:12.598 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [whatsapp-connection] 00:40:12 📊 Status: connected -  
2025-10-04 06:10:12.599 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [connection] 00:40:12 ℹ️ Connection status: connected -  {"isUserVisible":false}
2025-10-04 06:10:12.600 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 💓 Starting heartbeat mechanism
2025-10-04 06:10:12.600 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 🔄 Realtime reconnected after death, fetching missed messages...
2025-10-04 06:10:12.601 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 🔧 Cleared realtimeDeathAt to prevent duplicate fetches
2025-10-04 06:10:13.592 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 🔄 Fetching missed messages since realtime death: 2025-10-04T00:39:39.975Z
2025-10-04 06:10:13.593 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 🔄 Fetching for 7 groups: fcf73372-c86c-4e53-ac3d-f28896ce1d30, 2e246d9c-356a-4fec-9022-108157fa391a, 6af01500-2e15-490e-9077-316348aef93e, 080c089f-e355-4ab7-a3b9-92bc9dd94f32, 78045bbf-7474-46df-aac1-f34936b67d24, e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b, 87faebb0-0bf4-49c9-8119-8d56abe52be2
2025-10-04 06:10:13.594 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 🔄 Getting cached token for direct REST call...
2025-10-04 06:10:13.595 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] ✅ Cached token found, making direct REST API call...
2025-10-04 06:10:13.596 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),author:users!message...
2025-10-04 06:10:13.600 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: realtime-connected (priority: normal)
2025-10-04 06:10:13.602 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 75ms for: realtime-connected
2025-10-04 06:10:13.677 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:13.674 📦 Starting outbox processing - session outbox-1759538413673
2025-10-04 06:10:13.678 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:13.674 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-04 06:10:13.683 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649257, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:10:13.684 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649257, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759538413674],"readonly":false,"isSQL92":true}
2025-10-04 06:10:13.693 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:13.691 📦 No outbox messages to process; idle
2025-10-04 06:10:14.127 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] ✅ Query completed, got 1 messages
2025-10-04 06:10:14.128 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 📥 Found 1 missed messages, saving to SQLite...
2025-10-04 06:10:14.134 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649258, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:10:14.135 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649258, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["993d49f1-49b3-4189-be35-64592c3a2f04","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Hfutxutxutxtuxuxuciyciycyiciycicicitcicicyiciyviyviyci6c68f86ficiiycutcutcutcitcycjyicicyyiiy",1,"text",null,null,null,1759538392786,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:10:14.206 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] ✅ Saved missed message to SQLite: 993d49f1-49b3-4189-be35-64592c3a2f04
2025-10-04 06:10:14.206 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 🔄 Refreshing message list for active group (found 1 missed messages)
2025-10-04 06:10:14.207 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] ✅ Missed message fetch complete
2025-10-04 06:10:14.708 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Fetching messages for group: 2e246d9c-356a-4fec-9022-108157fa391a (started at 00:40:14.705Z)
2025-10-04 06:10:14.830 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 SQLite ready check: true (121ms)
2025-10-04 06:10:14.831 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: 📦 MessageCache: HIT for group 2e246d9c-356a-4fec-9022-108157fa391a (50 messages)
2025-10-04 06:10:14.832 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📦 Cache check completed in 0ms, found 50 messages
2025-10-04 06:10:14.832 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: ⚡ INSTANT: Loading messages from in-memory cache
2025-10-04 06:10:14.833 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=50, existing=50, optimistic=0, realtime=0, final=50
2025-10-04 06:10:14.834 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: ⚡ INSTANT: Displayed 50 cached messages instantly
2025-10-04 06:10:14.835 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 Background refresh from SQLite (started at 122ms from group open)
2025-10-04 06:10:14.896 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649259, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:10:14.897 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649259, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a",50],"readonly":false,"isSQL92":true}
2025-10-04 06:10:14.898 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Background: Refreshing messages from SQLite to ensure cache is current
2025-10-04 06:10:14.964 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 SQLite query completed in 135ms, got 50 messages
2025-10-04 06:10:14.965 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 06:10:14.965 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=50, existing=50, optimistic=0, realtime=0, final=50
2025-10-04 06:10:14.966 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Background: Updated UI with 50 fresh messages from SQLite
2025-10-04 06:10:15.011 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649260, pluginId: Network, methodName: getStatus
2025-10-04 06:10:15.011 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649260, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-04 06:10:15.047 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🌐 Background: Fetching messages from Supabase (non-blocking)...
2025-10-04 06:10:15.365 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Loading remaining messages in background...
2025-10-04 06:10:15.392 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649261, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:10:15.393 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649261, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a",50],"readonly":false,"isSQL92":true}
2025-10-04 06:10:15.735 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] ⏭️ Skipping cleanup - channel still active (state: joined)
2025-10-04 06:10:17.008 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Marking group 2e246d9c-356a-4fec-9022-108157fa391a as read, lastMessageId=993d49f1-49b3-4189-be35-64592c3a2f04
2025-10-04 06:10:17.010 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: ✅ Marked group 2e246d9c-356a-4fec-9022-108157fa391a as read up to message 993d49f1-49b3-4189-be35-64592c3a2f04
2025-10-04 06:10:18.933 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:18.929 🔄 Token recovery timed out after 10s
2025-10-04 06:10:24.476 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Subscription status: CHANNEL_ERROR
2025-10-04 06:10:24.480 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] ❌ Connection failed with status: CHANNEL_ERROR
2025-10-04 06:10:24.482 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 💓 Heartbeat stopped
2025-10-04 06:10:24.483 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 💓 Heartbeat check stopped
2025-10-04 06:10:24.483 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] 🔧 CHANNEL_ERROR detected - attempting session refresh
2025-10-04 06:10:24.484 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:24.479 🔐 Waiting for in-flight session request (max 5s)
2025-10-04 06:10:29.485 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:29.480 ⚠️ In-flight session request timed out after 5s, clearing and retrying
2025-10-04 06:10:29.486 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:29.480 🔐 Attempting session recovery using cached tokens
2025-10-04 06:10:29.487 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:40:29.481 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:10:58.096 15133-23749 Capacitor/...gingPlugin com.confessr.app                     V  Notifying listeners for event notificationReceived
2025-10-04 06:10:58.114 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 CRITICAL: FirebaseMessaging.notificationReceived FIRED! [object Object]
2025-10-04 06:10:58.115 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Raw notification object: {"notification":{"id":"0:1759538457750260%5612aab15612aab1","data":{"message_id":"34a0164e-b45a-481d-96a3-0535621f81aa","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-04T00:40:56.504Z"},"title":"New message","body":"You have a new message in Confessr","clickAction":"FLUTTER_NOTIFICATION_CLICK"}}
2025-10-04 06:10:58.115 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Extracted data: {"message_id":"34a0164e-b45a-481d-96a3-0535621f81aa","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-04T00:40:56.504Z"}
2025-10-04 06:10:58.115 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Notification received, reason=data, data: [object Object]
2025-10-04 06:10:58.115 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 📥 Attempting direct fetch for message 34a0164e-b45a-481d-96a3-0535621f81aa
2025-10-04 06:10:58.117 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🚀 Starting fetch for message 34a0164e-b45a-481d-96a3-0535621f81aa in group 2e246d9c-356a-4fec-9022-108157fa391a (attempt 1/3)
2025-10-04 06:10:58.118 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649262, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:10:58.118 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649262, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT 1 FROM messages WHERE id = ? LIMIT 1","values":["34a0164e-b45a-481d-96a3-0535621f81aa"],"readonly":false,"isSQL92":true}
2025-10-04 06:10:58.124 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for direct REST call...
2025-10-04 06:10:58.124 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 06:10:58.124 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 06:10:58.267 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Query completed, got 1 messages
2025-10-04 06:10:58.274 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649263, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:10:58.275 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649263, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["34a0164e-b45a-481d-96a3-0535621f81aa","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","F75d57xu5xu",1,"text",null,null,null,1759538456644,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:10:58.321 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Message 34a0164e-b45a-481d-96a3-0535621f81aa stored successfully in 202ms
2025-10-04 06:11:13.123 15133-15133 Capacitor/Console       com.confessr.app                     E  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ❌ Direct fetch failed for message 34a0164e-b45a-481d-96a3-0535621f81aa: Direct fetch timeout after 15s
2025-10-04 06:11:13.125 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔄 Direct fetch failed, triggering fallback sync via onWake
2025-10-04 06:11:13.126 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Wake event: data
2025-10-04 06:11:13.127 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] 📬 New message in group 2e246d9c-356a-4fec-9022-108157fa391a - staying on current screen
2025-10-04 06:11:13.128 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] App resumed - delegating to reconnection manager
2025-10-04 06:11:13.129 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: app-resume (priority: high)
2025-10-04 06:11:13.130 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: app-resume
2025-10-04 06:11:13.131 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:41:13 Reconnect already in progress, waiting - reason: app-resume
2025-10-04 06:11:13.132 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Fetching missed messages for all groups...
2025-10-04 06:11:13.133 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for all groups
2025-10-04 06:11:13.139 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649264, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:11:13.139 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649264, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-04 06:11:13.150 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 since beginning
2025-10-04 06:11:13.155 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649265, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:11:13.156 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649265, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-04 06:11:13.166 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 06:11:13.167 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 06:11:13.168 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 06:11:13.173 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:41:13.171 📦 Starting outbox processing - session outbox-1759538473171
2025-10-04 06:11:13.174 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:41:13.171 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-04 06:11:13.183 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649266, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:11:13.184 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649266, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759538473172],"readonly":false,"isSQL92":true}
2025-10-04 06:11:13.193 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:41:13.191 📦 No outbox messages to process; idle
2025-10-04 06:11:13.277 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-04 06:11:13.279 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 2e246d9c-356a-4fec-9022-108157fa391a since beginning
2025-10-04 06:11:13.284 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649267, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:11:13.285 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649267, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:11:13.295 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 06:11:13.296 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 06:11:13.297 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 06:11:13.454 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649268, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:11:13.455 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649268, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["993d49f1-49b3-4189-be35-64592c3a2f04","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Hfutxutxutxtuxuxuciyciycyiciycicicitcicicyiciyviyviyci6c68f86ficiiycutcutcutcitcycjyicicyyiiy",1,"text",null,null,null,1759538392786,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:11:13.508 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649269, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:11:13.509 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649269, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["34a0164e-b45a-481d-96a3-0535621f81aa","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","F75d57xu5xu",1,"text",null,null,null,1759538456644,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:11:13.552 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649270, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:11:13.552 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649270, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759538473545,"2e246d9c-356a-4fec-9022-108157fa391a"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:11:13.574 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Stored 2 missed messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 06:11:13.575 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 6af01500-2e15-490e-9077-316348aef93e since beginning
2025-10-04 06:11:13.579 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649271, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:11:13.579 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649271, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["6af01500-2e15-490e-9077-316348aef93e"],"readonly":false,"isSQL92":true}
2025-10-04 06:11:13.590 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 06:11:13.591 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 06:11:13.592 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 06:11:13.669 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 6af01500-2e15-490e-9077-316348aef93e
2025-10-04 06:11:13.670 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 080c089f-e355-4ab7-a3b9-92bc9dd94f32 since beginning
2025-10-04 06:11:13.676 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649272, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:11:13.677 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649272, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["080c089f-e355-4ab7-a3b9-92bc9dd94f32"],"readonly":false,"isSQL92":true}
2025-10-04 06:11:13.686 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 06:11:13.687 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 06:11:13.688 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 06:11:13.819 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 080c089f-e355-4ab7-a3b9-92bc9dd94f32
2025-10-04 06:11:13.820 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 78045bbf-7474-46df-aac1-f34936b67d24 since beginning
2025-10-04 06:11:13.825 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649273, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:11:13.826 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649273, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-04 06:11:13.837 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 06:11:13.838 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 06:11:13.839 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 06:11:13.926 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 78045bbf-7474-46df-aac1-f34936b67d24
2025-10-04 06:11:13.927 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b since beginning
2025-10-04 06:11:13.932 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649274, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:11:13.933 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649274, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-04 06:11:13.945 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 06:11:13.946 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 06:11:13.947 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 06:11:14.045 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b
2025-10-04 06:11:14.046 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 87faebb0-0bf4-49c9-8119-8d56abe52be2 since beginning
2025-10-04 06:11:14.051 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649275, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:11:14.052 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649275, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["87faebb0-0bf4-49c9-8119-8d56abe52be2"],"readonly":false,"isSQL92":true}
2025-10-04 06:11:14.065 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 06:11:14.066 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 06:11:14.067 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 06:11:14.146 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 87faebb0-0bf4-49c9-8119-8d56abe52be2
2025-10-04 06:11:14.147 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Fetched 2 total missed messages across 7 groups
2025-10-04 06:11:14.148 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] ✅ Fetched 2 missed messages across 7 groups
2025-10-04 06:12:05.398 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event pause
2025-10-04 06:12:05.398 15133-15133 Capacitor/AppPlugin     com.confessr.app                     D  No listeners found for event pause
2025-10-04 06:12:05.404 15133-15133 Capacitor               com.confessr.app                     D  App paused
2025-10-04 06:12:05.441 15133-15133 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: false
2025-10-04 06:12:05.441 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-04 06:12:05.444 15133-15133 Capacitor               com.confessr.app                     D  App stopped
2025-10-04 06:12:05.449 15133-15133 Capacitor               com.confessr.app                     D  Saving instance state!
2025-10-04 06:12:05.467 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [device-lock] 00:42:05 📱 Device locked/app backgrounded
2025-10-04 06:12:05.469 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 App state changed: inactive
2025-10-04 06:12:05.469 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 App going to background/pause
2025-10-04 06:12:05.470 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [lifecycle] App paused - resetting outbox processing state
2025-10-04 06:12:05.470 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Resetting outbox processing state
2025-10-04 06:13:08.870 15133-15133 Capacitor               com.confessr.app                     D  App restarted
2025-10-04 06:13:08.871 15133-15133 Capacitor               com.confessr.app                     D  App started
2025-10-04 06:13:08.876 15133-15133 Capacitor/AppPlugin     com.confessr.app                     D  Firing change: true
2025-10-04 06:13:08.876 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event appStateChange
2025-10-04 06:13:08.877 15133-15133 Capacitor/AppPlugin     com.confessr.app                     V  Notifying listeners for event resume
2025-10-04 06:13:08.881 15133-15133 Capacitor               com.confessr.app                     D  App resumed
2025-10-04 06:13:08.889 15133-19750 Capacitor/NetworkPlugin com.confessr.app                     V  Notifying listeners for event networkStatusChange
2025-10-04 06:13:08.913 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [device-lock] 00:43:08 🔓 Device unlocked after 63s (short lock)
2025-10-04 06:13:08.913 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [whatsapp-connection] 00:43:08 🔓 Device unlocked: short lock (63s)
2025-10-04 06:13:08.913 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📱 App state changed: active
2025-10-04 06:13:08.913 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:43:08 ℹ️ App resume from appStateChange {"timeSinceLastResume":187807,"source":"appStateChange"}
2025-10-04 06:13:08.913 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:08.893 📱 App resume detected - checking session state
2025-10-04 06:13:08.913 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:08.893 🔄 Recovering session using cached tokens...
2025-10-04 06:13:08.914 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:08.893 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:13:08.914 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:08.894 🔄 Starting background session refresh with cached tokens
2025-10-04 06:13:08.914 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:08.894 🔄 Using cached tokens to recover session
2025-10-04 06:13:08.914 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 06:13:08.914 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 395 - Msg: [device-lock] 00:43:08 App foreground event while not locked, treating as activity
2025-10-04 06:13:08.914 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 06:13:08.914 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: app-resume (priority: high)
2025-10-04 06:13:08.914 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: app-resume
2025-10-04 06:13:08.914 15133-15133 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-10-04 06:13:08.915 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:43:08 ℹ️ App resume from resume {"timeSinceLastResume":6,"source":"resume"}
2025-10-04 06:13:08.915 15133-15133 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:43:08 🔍 Resume debounced (too soon after last resume)
2025-10-04 06:13:08.915 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:43:08 Reconnect already in progress, waiting - reason: device-unlock-short
2025-10-04 06:13:08.937 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [network] 00:43:08 ℹ️ Network status: online {"isOnline":true,"connectionType":"wifi"}
2025-10-04 06:13:08.972 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [network] 00:43:08 ℹ️ Network reconnected
2025-10-04 06:13:08.972 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Network came online
2025-10-04 06:13:08.972 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Network online - triggering outbox processing only
2025-10-04 06:13:08.972 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: network-online (priority: high)
2025-10-04 06:13:08.972 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Coalescing trigger (debounced) from: network-online
2025-10-04 06:13:08.972 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: network-online
2025-10-04 06:13:09.046 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:09.045 🌐 Network reconnection detected - refreshing session
2025-10-04 06:13:09.046 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:09.045 🔄 Recovering session using cached tokens...
2025-10-04 06:13:09.046 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:09.045 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:13:09.046 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:09.045 🔄 Using cached tokens to recover session
2025-10-04 06:13:09.048 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:09.047 📦 Starting outbox processing - session outbox-1759538589047
2025-10-04 06:13:09.048 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:09.047 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-04 06:13:09.049 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649276, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:13:09.049 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649276, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759538589047],"readonly":false,"isSQL92":true}
2025-10-04 06:13:09.056 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:09.055 📦 No outbox messages to process; idle
2025-10-04 06:13:09.439 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:43:09 Reconnect already in progress, waiting - reason: network-online
2025-10-04 06:13:09.538 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [realtime-v2] Channel already subscribed (fast path)
2025-10-04 06:13:09.538 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Fetching messages for group: 2e246d9c-356a-4fec-9022-108157fa391a (started at 00:43:09.538Z)
2025-10-04 06:13:09.613 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 SQLite ready check: true (74ms)
2025-10-04 06:13:09.614 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: 📦 MessageCache: HIT for group 2e246d9c-356a-4fec-9022-108157fa391a (50 messages)
2025-10-04 06:13:09.615 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📦 Cache check completed in 0ms, found 50 messages
2025-10-04 06:13:09.615 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: ⚡ INSTANT: Loading messages from in-memory cache
2025-10-04 06:13:09.615 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=50, existing=50, optimistic=0, realtime=0, final=50
2025-10-04 06:13:09.615 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: ⚡ INSTANT: Displayed 50 cached messages instantly
2025-10-04 06:13:09.616 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 Background refresh from SQLite (started at 74ms from group open)
2025-10-04 06:13:09.642 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649277, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:13:09.642 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649277, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a",50],"readonly":false,"isSQL92":true}
2025-10-04 06:13:09.664 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Background: Refreshing messages from SQLite to ensure cache is current
2025-10-04 06:13:09.668 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 📱 SQLite query completed in 54ms, got 50 messages
2025-10-04 06:13:09.668 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: 📦 MessageCache: CACHED 50 messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 06:13:09.668 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 mergeWithPending: incoming=50, existing=50, optimistic=0, realtime=0, final=50
2025-10-04 06:13:09.669 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Background: Updated UI with 50 fresh messages from SQLite
2025-10-04 06:13:09.697 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649278, pluginId: Network, methodName: getStatus
2025-10-04 06:13:09.697 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649278, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-04 06:13:09.736 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🌐 Background: Fetching messages from Supabase (non-blocking)...
2025-10-04 06:13:09.821 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 366 - Msg: 🔄 Loading remaining messages in background...
2025-10-04 06:13:09.825 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649279, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:13:09.826 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649279, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM messages\n      WHERE group_id = ?\n      ORDER BY created_at DESC\n      LIMIT ?\n    ","values":["2e246d9c-356a-4fec-9022-108157fa391a",50],"readonly":false,"isSQL92":true}
2025-10-04 06:13:11.698 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Marking group 2e246d9c-356a-4fec-9022-108157fa391a as read, lastMessageId=34a0164e-b45a-481d-96a3-0535621f81aa
2025-10-04 06:13:11.700 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: ✅ Marked group 2e246d9c-356a-4fec-9022-108157fa391a as read up to message 34a0164e-b45a-481d-96a3-0535621f81aa
2025-10-04 06:13:18.897 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:18.894 🔄 Token recovery timed out after 10s
2025-10-04 06:13:18.898 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:18.894 ⚠️ App resume: token recovery failed, session may need refresh
2025-10-04 06:13:18.898 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:18.894 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:13:18.898 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:18.895 ✅ App resume: token applied to realtime
2025-10-04 06:13:18.899 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:18.895 📦 Triggering outbox processing from: app-resume
2025-10-04 06:13:18.899 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:18.895 ✅ App resume completed using token recovery strategy
2025-10-04 06:13:18.899 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [general] 00:43:18 ℹ️ Triggered outbox processing on app resume
2025-10-04 06:13:18.899 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: [device-lifecycle] 00:43:18 ℹ️ App resume processed from appStateChange
2025-10-04 06:13:18.899 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:18.895 📦 Starting outbox processing - session outbox-1759538598895
2025-10-04 06:13:18.900 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:18.895 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-04 06:13:18.902 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649280, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:13:18.902 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649280, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759538598895],"readonly":false,"isSQL92":true}
2025-10-04 06:13:18.908 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:18.906 📦 No outbox messages to process; idle
2025-10-04 06:13:19.047 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:19.046 🔄 Token recovery timed out after 10s
2025-10-04 06:13:19.047 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:19.046 📦 Trigger coalesced (debounced 300ms) from: network-reconnect
2025-10-04 06:13:19.047 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:19.046 ✅ Network reconnect session refresh completed
2025-10-04 06:13:37.821 15133-15133 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillShow
2025-10-04 06:13:37.821 15133-15133 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillShow
2025-10-04 06:13:38.120 15133-15133 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidShow
2025-10-04 06:13:38.120 15133-15133 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidShow
2025-10-04 06:13:39.161 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📤 Send button clicked, processing message... [object Object]
2025-10-04 06:13:39.167 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 📤 About to send message: [object Object]
2025-10-04 06:13:39.167 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: 📤 sendMessage called: [object Object]
2025-10-04 06:13:39.168 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: ✅ Message dispatched, clearing input
2025-10-04 06:13:39.172 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649281, pluginId: Network, methodName: getStatus
2025-10-04 06:13:39.172 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649281, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-04 06:13:39.189 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 394 - Msg: 🌐 Network status: [object Object]
2025-10-04 06:13:39.254 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: 🔍 MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=51
2025-10-04 06:13:39.312 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649282, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:13:39.313 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649282, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["1759538619186-y2n3mjvkphr","2e246d9c-356a-4fec-9022-108157fa391a","839d1d4a-e72b-47bb-b74e-ef28a15f43ee","Hdudud",1,"text",null,null,null,1759538619186,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:13:39.471 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.370 📤 Sending message 1759538619186-y2n3mjvkphr...
2025-10-04 06:13:39.471 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.373 [send-1759538619186-y2n3mjvkphr] stage: entered send
2025-10-04 06:13:39.471 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.373 [send-1759538619186-y2n3mjvkphr] input: group=2e246d9c user=839d1d4a ghost=true type=text dedupe=true
2025-10-04 06:13:39.472 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.374 [send-1759538619186-y2n3mjvkphr] checkHealth() -> start
2025-10-04 06:13:39.497 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649283, pluginId: Network, methodName: getStatus
2025-10-04 06:13:39.498 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649283, pluginId: Network, methodName: getStatus, methodData: {}
2025-10-04 06:13:39.541 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.533 🌐 Network state: online=true webViewReady=true type=wifi
2025-10-04 06:13:39.541 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.534 🏥 Health check: starting (online=true webViewReady=true)
2025-10-04 06:13:39.541 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.534 🏥 Health check: using cached access token (healthy)
2025-10-04 06:13:39.541 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.534 [send-1759538619186-y2n3mjvkphr] checkHealth() -> healthy
2025-10-04 06:13:39.541 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.534 [send-1759538619186-y2n3mjvkphr] stage: health ok
2025-10-04 06:13:39.541 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.534 📤 Direct send attempt 1/3 - message 1759538619186-y2n3mjvkphr
2025-10-04 06:13:39.541 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.534 [send-1759538619186-y2n3mjvkphr] stage: pre-network
2025-10-04 06:13:39.541 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.534 [send-1759538619186-y2n3mjvkphr] pre-network: acquiring full client (≤10000ms)
2025-10-04 06:13:39.541 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.534 🔑 getClient() called - hasClient=true isInitialized=true initPromiseActive=false
2025-10-04 06:13:39.542 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.534 🔄 Starting background session refresh with cached tokens
2025-10-04 06:13:39.542 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.534 [send-1759538619186-y2n3mjvkphr] using full client
2025-10-04 06:13:39.542 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.534 [send-1759538619186-y2n3mjvkphr] auth: using cached token snapshot=true
2025-10-04 06:13:39.542 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.534 [send-1759538619186-y2n3mjvkphr] postgrest present=true hasAuthFn=false
2025-10-04 06:13:39.542 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.534 [send-1759538619186-y2n3mjvkphr] fast-path: using direct REST upsert (snapshot token)
2025-10-04 06:13:39.542 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.534 [send-1759538619186-y2n3mjvkphr] stage: network attempt started (path=rest)
2025-10-04 06:13:39.542 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.534 [send-1759538619186-y2n3mjvkphr] POST /messages (fast-path)
2025-10-04 06:13:39.542 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.535 [send-1759538619186-y2n3mjvkphr] stage: pre-network
2025-10-04 06:13:39.542 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.535 [send-1759538619186-y2n3mjvkphr] fast-path: direct REST upsert -> https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?on_conflict=dedupe_key&select=*,reactions(*),users!messages_user_id_fkey(display_name,avatar_url)
2025-10-04 06:13:39.542 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.535 [send-1759538619186-y2n3mjvkphr] POST /messages (fast-path)
2025-10-04 06:13:39.542 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.535 [send-1759538619186-y2n3mjvkphr] stage: network attempt started (path=rest)
2025-10-04 06:13:39.905 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.905 [send-1759538619186-y2n3mjvkphr] fast-path: response type=object, isArray=true
2025-10-04 06:13:39.906 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.905 [send-1759538619186-y2n3mjvkphr] fast-path: extracted server ID from array[0]: 58bc4406-eb7c-41b1-9e8e-362d89427f6e
2025-10-04 06:13:39.917 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.905 [send-1759538619186-y2n3mjvkphr] fast-path: direct REST upsert successful (server ID: 58bc4406-eb7c-41b1-9e8e-362d89427f6e, optimistic was: 1759538619186-y2n3mjvkphr)
2025-10-04 06:13:39.917 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.906 [send-1759538619186-y2n3mjvkphr] stage: response received
2025-10-04 06:13:39.917 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.906 ✅ Direct send successful - message 1759538619186-y2n3mjvkphr (server ID: 58bc4406-eb7c-41b1-9e8e-362d89427f6e)
2025-10-04 06:13:39.917 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.907 [TERMINAL] DIRECT_SUCCESS id=1759538619186-y2n3mjvkphr ts=2025-10-04T00:43:39.907Z
2025-10-04 06:13:39.917 15133-15133 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-DCcMhil1.js - Line 357 - Msg: [send-1759538619186-y2n3mjvkphr] attempt-1: 372.791015625 ms
2025-10-04 06:13:39.918 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.909 ✅ Message 1759538619186-y2n3mjvkphr sent successfully (server ID: 58bc4406-eb7c-41b1-9e8e-362d89427f6e)
2025-10-04 06:13:39.918 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.909 [supabase-pipeline] push-fanout call: origin=https://localhost headers=[Content-Type,apikey,Authorization]
2025-10-04 06:13:39.918 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:39.909 [supabase-pipeline] 🔑 Using server message ID for FCM: 58bc4406-eb7c-41b1-9e8e-362d89427f6e (optimistic was: 1759538619186-y2n3mjvkphr)
2025-10-04 06:13:40.583 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:40.574 [supabase-pipeline] push-fanout response: status=200
2025-10-04 06:13:40.583 15133-15133 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-DCcMhil1.js - Line 357 - Msg: [send-1759538619186-y2n3mjvkphr] total: 1204.18115234375 ms
2025-10-04 06:13:40.583 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:43:40.576 [send-1759538619186-y2n3mjvkphr] finished
2025-10-04 06:13:42.697 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 364 - Msg: [unread] Marking group 2e246d9c-356a-4fec-9022-108157fa391a as read, lastMessageId=1759538619186-y2n3mjvkphr
2025-10-04 06:13:42.698 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: ✅ Marked group 2e246d9c-356a-4fec-9022-108157fa391a as read up to message 1759538619186-y2n3mjvkphr
2025-10-04 06:13:48.770 15133-24544 Capacitor/...gingPlugin com.confessr.app                     V  Notifying listeners for event notificationReceived
2025-10-04 06:13:48.775 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 CRITICAL: FirebaseMessaging.notificationReceived FIRED! [object Object]
2025-10-04 06:13:48.775 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Raw notification object: {"notification":{"id":"0:1759538628516023%5612aab15612aab1","data":{"message_id":"c6aaedce-6f32-41f3-afb3-86f4c29ebc09","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-04T00:43:47.317Z"},"title":"New message","body":"You have a new message in Confessr","clickAction":"FLUTTER_NOTIFICATION_CLICK"}}
2025-10-04 06:13:48.776 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Extracted data: {"message_id":"c6aaedce-6f32-41f3-afb3-86f4c29ebc09","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-04T00:43:47.317Z"}
2025-10-04 06:13:48.776 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Notification received, reason=data, data: [object Object]
2025-10-04 06:13:48.776 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 📥 Attempting direct fetch for message c6aaedce-6f32-41f3-afb3-86f4c29ebc09
2025-10-04 06:13:48.777 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🚀 Starting fetch for message c6aaedce-6f32-41f3-afb3-86f4c29ebc09 in group 2e246d9c-356a-4fec-9022-108157fa391a (attempt 1/3)
2025-10-04 06:13:48.779 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649284, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:13:48.779 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649284, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT 1 FROM messages WHERE id = ? LIMIT 1","values":["c6aaedce-6f32-41f3-afb3-86f4c29ebc09"],"readonly":false,"isSQL92":true}
2025-10-04 06:13:48.791 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for direct REST call...
2025-10-04 06:13:48.791 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 06:13:48.791 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 06:13:49.001 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Query completed, got 1 messages
2025-10-04 06:13:49.002 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649285, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:13:49.002 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649285, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["c6aaedce-6f32-41f3-afb3-86f4c29ebc09","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Gyuf86f85",1,"text",null,null,null,1759538627499,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:13:49.029 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Message c6aaedce-6f32-41f3-afb3-86f4c29ebc09 stored successfully in 253ms
2025-10-04 06:13:49.542 15133-15133 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardWillHide
2025-10-04 06:13:49.542 15133-15133 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardWillHide
2025-10-04 06:13:49.849 15133-15133 Capacitor/...oardPlugin com.confessr.app                     V  Notifying listeners for event keyboardDidHide
2025-10-04 06:13:49.849 15133-15133 Capacitor/...oardPlugin com.confessr.app                     D  No listeners found for event keyboardDidHide
2025-10-04 06:14:03.778 15133-15133 Capacitor/Console       com.confessr.app                     E  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ❌ Direct fetch failed for message c6aaedce-6f32-41f3-afb3-86f4c29ebc09: Direct fetch timeout after 15s
2025-10-04 06:14:03.779 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔄 Direct fetch failed, triggering fallback sync via onWake
2025-10-04 06:14:03.780 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Wake event: data
2025-10-04 06:14:03.781 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] 📬 New message in group 2e246d9c-356a-4fec-9022-108157fa391a - staying on current screen
2025-10-04 06:14:03.782 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] App resumed - delegating to reconnection manager
2025-10-04 06:14:03.782 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Trigger requested from: app-resume (priority: high)
2025-10-04 06:14:03.783 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 390 - Msg: [outbox-unified] Scheduling processing in 50ms for: app-resume
2025-10-04 06:14:03.783 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/reconnectionManager-BltNTXDI.js - Line 2 - Msg: [reconnection-mgr] 00:44:03 Reconnect already in progress, waiting - reason: app-resume
2025-10-04 06:14:03.784 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] Fetching missed messages for all groups...
2025-10-04 06:14:03.785 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for all groups
2025-10-04 06:14:03.795 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649286, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:14:03.795 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649286, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT * FROM groups ORDER BY name","values":[],"readonly":false,"isSQL92":true}
2025-10-04 06:14:03.818 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30 since beginning
2025-10-04 06:14:03.822 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649287, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:14:03.823 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649287, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["fcf73372-c86c-4e53-ac3d-f28896ce1d30"],"readonly":false,"isSQL92":true}
2025-10-04 06:14:03.829 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:44:03.827 📦 Starting outbox processing - session outbox-1759538643827
2025-10-04 06:14:03.830 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:44:03.827 📦 Outbox pre-check: sqliteReady after 0ms
2025-10-04 06:14:03.834 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649288, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:14:03.835 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649288, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"\n      SELECT * FROM outbox \n      WHERE next_retry_at <= ? \n      ORDER BY next_retry_at ASC\n    ","values":[1759538643828],"readonly":false,"isSQL92":true}
2025-10-04 06:14:03.836 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 06:14:03.837 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 06:14:03.838 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 06:14:03.844 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [supabase-pipeline] 00:44:03.843 📦 No outbox messages to process; idle
2025-10-04 06:14:04.026 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group fcf73372-c86c-4e53-ac3d-f28896ce1d30
2025-10-04 06:14:04.027 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 2e246d9c-356a-4fec-9022-108157fa391a since beginning
2025-10-04 06:14:04.032 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649289, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:14:04.032 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649289, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["2e246d9c-356a-4fec-9022-108157fa391a"],"readonly":false,"isSQL92":true}
2025-10-04 06:14:04.043 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 06:14:04.044 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 06:14:04.045 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 06:14:04.181 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649290, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:14:04.182 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649290, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["530e38a1-6e24-420f-81fc-a171e66a1c71","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Icy8f86fu65",1,"text",null,null,null,1759538581925,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:14:04.247 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649291, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:14:04.248 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649291, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["58bc4406-eb7c-41b1-9e8e-362d89427f6e","2e246d9c-356a-4fec-9022-108157fa391a","839d1d4a-e72b-47bb-b74e-ef28a15f43ee","Hdudud",1,"text",null,null,null,1759538619934,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:14:04.316 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649292, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:14:04.317 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649292, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["c6aaedce-6f32-41f3-afb3-86f4c29ebc09","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Gyuf86f85",1,"text",null,null,null,1759538627499,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:14:04.361 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649293, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:14:04.362 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649293, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"INSERT OR REPLACE INTO messages\n       (id, group_id, user_id, content, is_ghost, message_type, category, parent_id, image_url, created_at, updated_at, deleted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);","values":["273db1ad-090a-415e-a6a1-96b7bd6737b1","2e246d9c-356a-4fec-9022-108157fa391a","7bef8c3e-cd57-47be-bcd7-0d9edecad2a5","Ft f75f75du5duf57f75f86f6",1,"text",null,null,null,1759538643436,null,null],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:14:04.405 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649294, pluginId: CapacitorSQLite, methodName: run
2025-10-04 06:14:04.406 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649294, pluginId: CapacitorSQLite, methodName: run, methodData: {"database":"confessr_db","statement":"UPDATE groups SET last_sync_timestamp = ? WHERE id = ?","values":[1759538644397,"2e246d9c-356a-4fec-9022-108157fa391a"],"transaction":true,"readonly":false,"returnMode":"no","isSQL92":true}
2025-10-04 06:14:04.433 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Stored 4 missed messages for group 2e246d9c-356a-4fec-9022-108157fa391a
2025-10-04 06:14:04.434 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 6af01500-2e15-490e-9077-316348aef93e since beginning
2025-10-04 06:14:04.439 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649295, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:14:04.439 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649295, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["6af01500-2e15-490e-9077-316348aef93e"],"readonly":false,"isSQL92":true}
2025-10-04 06:14:04.449 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 06:14:04.450 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 06:14:04.451 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 06:14:04.530 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 6af01500-2e15-490e-9077-316348aef93e
2025-10-04 06:14:04.531 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 080c089f-e355-4ab7-a3b9-92bc9dd94f32 since beginning
2025-10-04 06:14:04.536 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649296, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:14:04.537 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649296, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["080c089f-e355-4ab7-a3b9-92bc9dd94f32"],"readonly":false,"isSQL92":true}
2025-10-04 06:14:04.550 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 06:14:04.551 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 06:14:04.552 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 06:14:04.630 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 080c089f-e355-4ab7-a3b9-92bc9dd94f32
2025-10-04 06:14:04.631 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 78045bbf-7474-46df-aac1-f34936b67d24 since beginning
2025-10-04 06:14:04.637 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649297, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:14:04.638 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649297, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["78045bbf-7474-46df-aac1-f34936b67d24"],"readonly":false,"isSQL92":true}
2025-10-04 06:14:04.652 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 06:14:04.653 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 06:14:04.654 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 06:14:04.735 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 78045bbf-7474-46df-aac1-f34936b67d24
2025-10-04 06:14:04.736 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b since beginning
2025-10-04 06:14:04.744 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649298, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:14:04.745 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649298, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b"],"readonly":false,"isSQL92":true}
2025-10-04 06:14:04.768 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 06:14:04.769 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 06:14:04.770 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 06:14:04.772 15133-24578 Capacitor/...gingPlugin com.confessr.app                     V  Notifying listeners for event notificationReceived
2025-10-04 06:14:04.782 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 CRITICAL: FirebaseMessaging.notificationReceived FIRED! [object Object]
2025-10-04 06:14:04.782 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Raw notification object: {"notification":{"id":"0:1759538644488959%5612aab15612aab1","data":{"message_id":"273db1ad-090a-415e-a6a1-96b7bd6737b1","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-04T00:44:03.290Z"},"title":"New message","body":"You have a new message in Confessr","clickAction":"FLUTTER_NOTIFICATION_CLICK"}}
2025-10-04 06:14:04.783 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Extracted data: {"message_id":"273db1ad-090a-415e-a6a1-96b7bd6737b1","type":"new_message","group_id":"2e246d9c-356a-4fec-9022-108157fa391a","created_at":"2025-10-04T00:44:03.290Z"}
2025-10-04 06:14:04.783 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 🔔 Notification received, reason=data, data: [object Object]
2025-10-04 06:14:04.783 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] 📥 Attempting direct fetch for message 273db1ad-090a-415e-a6a1-96b7bd6737b1
2025-10-04 06:14:04.784 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🚀 Starting fetch for message 273db1ad-090a-415e-a6a1-96b7bd6737b1 in group 2e246d9c-356a-4fec-9022-108157fa391a (attempt 1/3)
2025-10-04 06:14:04.814 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649299, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:14:04.814 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649299, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT 1 FROM messages WHERE id = ? LIMIT 1","values":["273db1ad-090a-415e-a6a1-96b7bd6737b1"],"readonly":false,"isSQL92":true}
2025-10-04 06:14:04.820 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Message 273db1ad-090a-415e-a6a1-96b7bd6737b1 already exists (delivered via realtime), skipping fetch (36ms)
2025-10-04 06:14:04.821 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 741 - Msg: [push] ✅ Direct fetch succeeded for message 273db1ad-090a-415e-a6a1-96b7bd6737b1
2025-10-04 06:14:04.863 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group e96c7e8d-c7dd-4c3a-a06d-eb95da30cb2b
2025-10-04 06:14:04.864 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] Fetching missed messages for group 87faebb0-0bf4-49c9-8119-8d56abe52be2 since beginning
2025-10-04 06:14:04.868 15133-15133 Capacitor/Plugin        com.confessr.app                     V  To native (Capacitor plugin): callbackId: 117649300, pluginId: CapacitorSQLite, methodName: query
2025-10-04 06:14:04.869 15133-15133 Capacitor               com.confessr.app                     V  callback: 117649300, pluginId: CapacitorSQLite, methodName: query, methodData: {"database":"confessr_db","statement":"SELECT last_sync_timestamp FROM groups WHERE id = ?","values":["87faebb0-0bf4-49c9-8119-8d56abe52be2"],"readonly":false,"isSQL92":true}
2025-10-04 06:14:04.878 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Getting cached token for missed messages fetch...
2025-10-04 06:14:04.878 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Cached token found, making direct REST API call...
2025-10-04 06:14:04.879 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] 🔄 Fetching from: https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/messages?select=*,reactions(*),users!messages_user_...
2025-10-04 06:14:04.962 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] No missed messages for group 87faebb0-0bf4-49c9-8119-8d56abe52be2
2025-10-04 06:14:04.963 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/backgroundMessageSync-gAtqdysh.js - Line 2 - Msg: [bg-sync] ✅ Fetched 4 total missed messages across 7 groups
2025-10-04 06:14:04.964 15133-15133 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-DCcMhil1.js - Line 361 - Msg: [realtime-v2] ✅ Fetched 4 missed messages across 7 groups
