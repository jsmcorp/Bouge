
2025-11-23 00:29:17.710 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: ğŸ“ [NORMALIZE] +918600470916 â†’ +918600470916
2025-11-23 00:29:17.710 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: ğŸ“‡ Normalized 3995 contacts â†’ 3828 unique phone numbers (deduplicated)
2025-11-23 00:29:17.710 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: ğŸ“‡ Deduplication saved 0 duplicate operations
2025-11-23 00:29:17.710 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 503 - Msg: ğŸ“‡ Saving 3828 contacts to SQLite (batched transaction)...
2025-11-23 00:29:17.713 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:17.402 ğŸ” [direct-1763837953379-qavnyghbb] Checking storage state (skipping getSession() due to Supabase internal hang)...
2025-11-23 00:29:17.714 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:17.403 ğŸ” [direct-1763837953379-qavnyghbb] localStorage accessible, 0 supabase keys
2025-11-23 00:29:17.714 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:17.403 ğŸ”„ [direct-1763837953379-qavnyghbb] ğŸ” TIMEOUT DIAGNOSTICS: {"callId":"direct-1763837953379-qavnyghbb","phase":"setSession-timeout","timestamp":"2025-11-22T18:59:16.435Z","timeSinceStart":1763837956435,"network":{"connected":true,"connectionType":"wifi"},"client":{"exists":true,"isInitialized":true,"hasAuth":true},"session":{"hasUserId":true,"hasAccessToken":true,"hasRefreshToken":true,"hasCachedSession":false,"cachedSessionAge":null,"consecutiveFailures":0,"lastCorruptionCheck":1763837957402},"circuitBreaker":{"failureCount":0,"isOpen":false,"lastFailureAt":0,"timeSinceLastFailure":null},"inFlight":{"hasRefreshInFlight":true},"storage":{"accessible":true,"supabaseKeyCount":0},"clientSession":{"skipped":true,"reason":"getSession() has Supabase internal hang issue"},"webview":{"userAgent":"Mozilla/5.0 (Linux; Android 13; CPH2251 Build/TP1A.220905.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/142.0.7444.102 Mobile Safari/537.36","language":"en-IN","onLine":true,"cookieEnabled":true},"memory":{"usedJSHeapSize":10000000,"totalJSHeapSize":12700000,"jsHeapSizeLimit":1130000000,"usagePercent":1},"pendingRequests":{"recentFetchCount":0}}
2025-11-23 00:29:17.714 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:17.403 ğŸ”„ [direct-1763837953379-qavnyghbb] ğŸ”„ Falling through to Strategy 2 (refreshSession)
2025-11-23 00:29:17.714 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:17.403 ğŸ”„ [direct-1763837953379-qavnyghbb] ğŸ”„ Strategy 2: Attempting refreshSession() as fallback
2025-11-23 00:29:19.655 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 506 - Msg: âœ… Saved 3828 contacts to SQLite in 2275ms (batched)
2025-11-23 00:29:19.655 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: âœ… Saved 3828 contacts to SQLite
2025-11-23 00:29:19.658 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:19.655 ğŸ” [direct-1763837953379-qavnyghbb] Checking storage state (skipping getSession() due to Supabase internal hang)...
2025-11-23 00:29:19.659 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:19.655 ğŸ” [direct-1763837953379-qavnyghbb] localStorage accessible, 0 supabase keys
2025-11-23 00:29:19.659 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:19.655 ğŸ”„ [direct-1763837953379-qavnyghbb] ğŸ” PRE-CALL DIAGNOSTICS: {"callId":"direct-1763837953379-qavnyghbb","phase":"refreshSession-before","timestamp":"2025-11-22T18:59:17.403Z","timeSinceStart":1763837957403,"network":{"connected":true,"connectionType":"wifi"},"client":{"exists":true,"isInitialized":true,"hasAuth":true},"session":{"hasUserId":true,"hasAccessToken":true,"hasRefreshToken":true,"hasCachedSession":false,"cachedSessionAge":null,"consecutiveFailures":0,"lastCorruptionCheck":1763837959655},"circuitBreaker":{"failureCount":0,"isOpen":false,"lastFailureAt":0,"timeSinceLastFailure":null},"inFlight":{"hasRefreshInFlight":true},"storage":{"accessible":true,"supabaseKeyCount":0},"clientSession":{"skipped":true,"reason":"getSession() has Supabase internal hang issue"},"webview":{"userAgent":"Mozilla/5.0 (Linux; Android 13; CPH2251 Build/TP1A.220905.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/142.0.7444.102 Mobile Safari/537.36","language":"en-IN","onLine":true,"cookieEnabled":true},"memory":{"usedJSHeapSize":10000000,"totalJSHeapSize":12700000,"jsHeapSizeLimit":1130000000,"usagePercent":1},"pendingRequests":{"recentFetchCount":0}}
2025-11-23 00:29:19.659 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:19.655 ğŸ”„ [direct-1763837953379-qavnyghbb] ğŸ“ Calling client.auth.refreshSession()...
2025-11-23 00:29:19.659 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:19.655 ğŸ” [direct-1763837953379-qavnyghbb] PRE-refreshSession state:
2025-11-23 00:29:19.660 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:19.656 ğŸ” [direct-1763837953379-qavnyghbb]   - client.auth exists: true
2025-11-23 00:29:19.660 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:19.656 ğŸ” [direct-1763837953379-qavnyghbb]   - typeof refreshSession: function
2025-11-23 00:29:19.660 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:19.656 ğŸ” [direct-1763837953379-qavnyghbb]   - _currentSession exists: false
2025-11-23 00:29:19.660 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:19.656 ğŸ” [direct-1763837953379-qavnyghbb]   - _refreshing: undefined
2025-11-23 00:29:19.660 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:19.657 ğŸ” [direct-1763837953379-qavnyghbb] refreshSession() called, promise created at 1ms
2025-11-23 00:29:19.661 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:19.658 ğŸ”„ [direct-1763837953379-qavnyghbb] â±ï¸ Setting up timeout race (10000ms)...
2025-11-23 00:29:19.661 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:19.658 ğŸ”„ [direct-1763837953379-qavnyghbb] ğŸ Starting Promise.race for refreshSession...
2025-11-23 00:29:19.870 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: ğŸ“‡ Total contacts in SQLite: 3828
2025-11-23 00:29:19.871 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: âœ… Synced 3828 contacts
2025-11-23 00:29:19.874 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: ğŸ“‡ [V3] Starting background discovery...
2025-11-23 00:29:19.876 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: ğŸ“‡ [V3] Starting background discovery...
2025-11-23 00:29:20.076 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: ğŸ“‡ [V3] Loaded 3828 contacts from SQLite
2025-11-23 00:29:20.100 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: ğŸ“‡ [V3] Checksum - Current: 0d11546d, Last: null
2025-11-23 00:29:20.100 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: ğŸ“‡ [V3] Contacts changed, starting discovery...
2025-11-23 00:29:20.102 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 658 - Msg: ğŸ“‡ [V3] Starting optimized discovery for 3828 contacts...
2025-11-23 00:29:20.102 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 658 - Msg: ğŸ“‡ [V3] Calling discover_contacts_v3 RPC...
2025-11-23 00:29:20.103 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 658 - Msg: ğŸ“‡ [V3] Sample contacts: [object Object],[object Object],[object Object]
2025-11-23 00:29:20.103 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 658 - Msg: ğŸ“‡ [V3] Using primary-direct REST RPC for first-flow discovery...
2025-11-23 00:29:20.104 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:20.102 ğŸ”— rpcDirect POST https://sxykfyqrqwifkirveqgr.supabase.co/rest/v1/rpc/discover_contacts_v3
2025-11-23 00:29:20.918 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 658 - Msg: âœ… [V3] Discovery complete in 816ms
2025-11-23 00:29:20.919 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 658 - Msg: âœ… [V3] Found 6 registered users
2025-11-23 00:29:20.919 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 658 - Msg: ğŸ“‹ [V3] Sample matches: [object Object],[object Object],[object Object]
2025-11-23 00:29:20.919 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: ğŸ“‡ [V3] RPC completed in 818ms, found 6 matches
2025-11-23 00:29:21.026 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 513 - Msg: ğŸ“‡ Saving 6 contact-user mappings (batched transaction)...
2025-11-23 00:29:21.054 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 517 - Msg: âœ… Saved 6 contact-user mappings in 30ms (batched)
2025-11-23 00:29:21.054 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: âœ… [V3] Saved 6 contact-user mappings
2025-11-23 00:29:21.085 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: âœ… [V3] Checksum updated: 0d11546d
2025-11-23 00:29:21.107 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: âœ… [V3] Discovery complete: 6 registered users
2025-11-23 00:29:21.107 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: âœ… [V3] Background discovery complete: 6 registered users
2025-11-23 00:29:21.117 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: âœ… [INIT-ORCHESTRATOR] Step 1/4 complete: Contacts synced
2025-11-23 00:29:21.118 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: ğŸ“± [INIT-ORCHESTRATOR] Step 2/4: Fetching groups...
2025-11-23 00:29:21.123 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± Loading groups from local storage first (local-first approach)
2025-11-23 00:29:21.143 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± Found 1 groups in local storage
2025-11-23 00:29:21.144 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: âœ… Loaded 1 groups from local storage
2025-11-23 00:29:21.151 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ï¿½ B ackground syncing groups with Supabase...
2025-11-23 00:29:21.151 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸŒ Fetching groups from Supabase...
2025-11-23 00:29:21.151 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ”‘ Getting Supabase client (single initialization)
2025-11-23 00:29:21.151 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ”‘ Getting user from existing client session
2025-11-23 00:29:23.879 18829-18829 Capacitor/Console       com.confessr.app                     W  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: âš ï¸ [INIT-ORCHESTRATOR] syncContacts timeout after 10s, continuing anyway
2025-11-23 00:29:26.118 18829-18829 Capacitor/Console       com.confessr.app                     W  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: âš ï¸ [INIT-ORCHESTRATOR] fetchGroups timeout after 5s, continuing anyway
2025-11-23 00:29:26.119 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: âœ… [INIT-ORCHESTRATOR] Step 2/4 complete: 1 groups loaded
2025-11-23 00:29:26.120 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: â³ [INIT-ORCHESTRATOR] Waiting for groups to be saved to SQLite...
2025-11-23 00:29:26.620 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: âœ… [INIT-ORCHESTRATOR] Groups should be saved to SQLite now
2025-11-23 00:29:26.621 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: ğŸ‘¥ [INIT-ORCHESTRATOR] Step 3/4: Fetching group members (also saves user profiles)...
2025-11-23 00:29:26.625 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 626 - Msg: [GroupActions] ğŸ“± Loading group members from SQLite cache for group 04a965fb-b53d-41bd-9372-5f25a5c1bec9
2025-11-23 00:29:26.643 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 626 - Msg: [GroupActions] ğŸ“­ No cached members found in SQLite
2025-11-23 00:29:26.643 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 626 - Msg: [GroupActions] ğŸŒ Fetching fresh members from Supabase...
2025-11-23 00:29:26.645 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:26.643 ğŸ—„ï¸ Executing fetch group members...
2025-11-23 00:29:26.645 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:26.644 ğŸ”‘ getClient() called - hasClient=true isInitialized=true initPromiseActive=false corrupted=false
2025-11-23 00:29:26.645 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:26.645 ğŸ”‘ getClient() -> within 60s of init (42s), trusting autoRefreshToken
2025-11-23 00:29:29.666 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.663 ğŸ”„ [direct-1763837953379-qavnyghbb] â° refreshSession timeout fired after 10000ms (event loop checks: 20)
2025-11-23 00:29:29.666 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.663 ğŸ”„ [direct-1763837953379-qavnyghbb] â° refreshSession TIMEOUT after 16284ms (10000ms limit)
2025-11-23 00:29:29.678 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.674 ğŸ” [direct-1763837953379-qavnyghbb] Checking storage state (skipping getSession() due to Supabase internal hang)...
2025-11-23 00:29:29.678 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.674 ğŸ” [direct-1763837953379-qavnyghbb] localStorage accessible, 0 supabase keys
2025-11-23 00:29:29.679 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.675 ğŸ”„ [direct-1763837953379-qavnyghbb] ğŸ” TIMEOUT DIAGNOSTICS: {"callId":"direct-1763837953379-qavnyghbb","phase":"refreshSession-timeout","timestamp":"2025-11-22T18:59:29.663Z","timeSinceStart":1763837969663,"network":{"connected":true,"connectionType":"wifi"},"client":{"exists":true,"isInitialized":true,"hasAuth":true},"session":{"hasUserId":true,"hasAccessToken":true,"hasRefreshToken":true,"hasCachedSession":false,"cachedSessionAge":null,"consecutiveFailures":0,"lastCorruptionCheck":1763837969674},"circuitBreaker":{"failureCount":0,"isOpen":false,"lastFailureAt":0,"timeSinceLastFailure":null},"inFlight":{"hasRefreshInFlight":true},"storage":{"accessible":true,"supabaseKeyCount":0},"clientSession":{"skipped":true,"reason":"getSession() has Supabase internal hang issue"},"webview":{"userAgent":"Mozilla/5.0 (Linux; Android 13; CPH2251 Build/TP1A.220905.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/142.0.7444.102 Mobile Safari/537.36","language":"en-IN","onLine":true,"cookieEnabled":true},"memory":{"usedJSHeapSize":10000000,"totalJSHeapSize":12700000,"jsHeapSizeLimit":1130000000,"usagePercent":1},"pendingRequests":{"recentFetchCount":0}}
2025-11-23 00:29:29.679 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.675 ğŸ”„ [direct-1763837953379-qavnyghbb] ğŸ“Š consecutiveFailures incremented to 1
2025-11-23 00:29:29.679 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.675 ğŸ”„ [direct-1763837953379-qavnyghbb] âœ… refreshInFlight promise resolved in 16296ms, result=false
2025-11-23 00:29:29.680 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.675 ğŸ”„ [direct-1763837953379-qavnyghbb] ğŸ”“ FINALLY: Clearing refreshInFlight lock
2025-11-23 00:29:29.680 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.675 ğŸ”„ [direct-1763837953379-qavnyghbb] ğŸ COMPLETE: Total time 16296ms, lock released
2025-11-23 00:29:29.681 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.675 ğŸ”„ [direct-1763837953404-ycg210pbq] refreshSessionUnified: âœ… WAIT COMPLETED in 16271ms, result=false
2025-11-23 00:29:29.681 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.675 âš ï¸ App resume: token recovery failed, session may need refresh
2025-11-23 00:29:29.681 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.676 ğŸ”‘ getClient() called - hasClient=true isInitialized=true initPromiseActive=false corrupted=false
2025-11-23 00:29:29.681 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.676 ğŸ”‘ getClient() -> within 60s of init (45s), trusting autoRefreshToken
2025-11-23 00:29:29.682 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.676 âš ï¸ Background session refresh failed (will retry on next API call)
2025-11-23 00:29:29.682 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.676 âœ… App resume: token applied to realtime
2025-11-23 00:29:29.682 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.676 ğŸ“¦ Triggering outbox processing from: app-resume
2025-11-23 00:29:29.683 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.677 âœ… App resume completed using token recovery strategy
2025-11-23 00:29:29.683 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [general] 18:59:29 â„¹ï¸ Triggered outbox processing on app resume
2025-11-23 00:29:29.688 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.684 ğŸ“¦ Starting outbox processing - session outbox-1763837969684
2025-11-23 00:29:29.689 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.685 ğŸ“¦ Outbox pre-check: sqliteReady after 0ms
2025-11-23 00:29:29.696 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:29.695 ğŸ“¦ No outbox messages to process; idle
2025-11-23 00:29:29.878 18829-18829 Capacitor/Console       com.confessr.app                     W  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: âš ï¸ [INIT-ORCHESTRATOR] discoverInBackgroundV3 timeout after 10s, continuing anyway
2025-11-23 00:29:31.649 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:31.647 ğŸ—„ï¸ fetch group members failed: Error: fetch group members timeout after 5000ms
                                                                                                    Error: fetch group members timeout after 5000ms
                                                                                                        at https://localhost/assets/index-QqmCKEMV.js:578:30019
2025-11-23 00:29:31.649 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 626 - Msg: [GroupActions] fetchGroupMembers - groupId: 04a965fb-b53d-41bd-9372-5f25a5c1bec9
2025-11-23 00:29:31.650 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 626 - Msg: [GroupActions] fetchGroupMembers - data: null
2025-11-23 00:29:31.650 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 626 - Msg: [GroupActions] fetchGroupMembers - error: Error: fetch group members timeout after 5000ms
2025-11-23 00:29:31.650 18829-18829 Capacitor/Console       com.confessr.app                     E  File: https://localhost/assets/index-QqmCKEMV.js - Line 626 - Msg: [GroupActions] Error fetching group members: Error: fetch group members timeout after 5000ms
2025-11-23 00:29:31.658 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: âœ… [INIT-ORCHESTRATOR] Loaded members + user profiles for group: Admin
2025-11-23 00:29:31.658 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: âœ… [INIT-ORCHESTRATOR] Step 3/4 complete: Group members + user profiles loaded
2025-11-23 00:29:31.659 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: ğŸ’¬ [INIT-ORCHESTRATOR] Step 4/4: Fetching recent messages...
2025-11-23 00:29:31.669 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ”„ Fetching messages for group: 04a965fb-b53d-41bd-9372-5f25a5c1bec9 (started at 18:59:31.663Z)
2025-11-23 00:29:31.677 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± SQLite ready check: true (13ms)
2025-11-23 00:29:31.695 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: [unread] ğŸ“¥ FIRST TIME: No local group_members row, creating locally...
2025-11-23 00:29:31.721 18829-21833 com.getcap...RetHandler com.confessr.app                     V  *** ERROR Run: FOREIGN KEY constraint failed (code 787)
2025-11-23 00:29:31.730 18829-18829 Capacitor/Console       com.confessr.app                     W  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: [unread] âš ï¸ Failed to ensure local group_members row: Error: Run: FOREIGN KEY constraint failed (code 787)
2025-11-23 00:29:31.734 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“¦ MessageCache: MISS for group 04a965fb-b53d-41bd-9372-5f25a5c1bec9
2025-11-23 00:29:31.734 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“¦ Cache check completed in 1ms, found 0 messages
2025-11-23 00:29:31.734 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± Loading from SQLite (started at 66ms from group open)
2025-11-23 00:29:31.749 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± SQLite query completed in 12ms, got 0 messages
2025-11-23 00:29:31.749 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: â­ï¸ Skipping stale set for group 04a965fb-b53d-41bd-9372-5f25a5c1bec9
2025-11-23 00:29:31.760 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸŒ Background: Fetching messages from Supabase (non-blocking)...
2025-11-23 00:29:31.760 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: âœ… [INIT-ORCHESTRATOR] Loaded messages for priority group: Admin
2025-11-23 00:29:31.761 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: âœ… [INIT-ORCHESTRATOR] Recent messages fetched for all 1 groups
2025-11-23 00:29:31.761 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: âœ… [INIT-ORCHESTRATOR] Step 4/4 complete: Recent messages loaded
2025-11-23 00:29:31.762 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: ğŸ‰ [INIT-ORCHESTRATOR] First-time initialization complete!
2025-11-23 00:29:31.763 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: âœ… [SETUP] First-time initialization complete!
2025-11-23 00:29:31.763 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: âœ… [SETUP] Step 2/3 complete: Setting Up Your Account
2025-11-23 00:29:31.961 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: â­ï¸ Skipping background Supabase fetch - user switched groups
2025-11-23 00:29:32.262 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: ğŸ“‡ [SETUP] Starting step 3/3: All Set!
2025-11-23 00:29:32.262 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: ğŸ‰ [SETUP] Setup complete!
2025-11-23 00:29:32.263 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: âœ… [SETUP] Step 3/3 complete: All Set!
2025-11-23 00:29:32.764 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: ğŸ‰ [SETUP] All steps complete!
2025-11-23 00:29:33.786 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: ğŸ” [INIT-DETECTOR] Checking if first-time initialization is needed...
2025-11-23 00:29:33.808 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: âœ… [INIT-DETECTOR] First-time init NOT needed: all checks passed (1 groups found)
2025-11-23 00:29:33.881 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1089 - Msg: [unread] Fetching counts for 1 groups
2025-11-23 00:29:33.881 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1089 - Msg: [unread] Dashboard visible, refreshing counts
2025-11-23 00:29:33.882 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± Loading groups from local storage first (local-first approach)
2025-11-23 00:29:33.982 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1039 - Msg: ğŸ“‡ Setup already complete, redirecting to dashboard
2025-11-23 00:29:33.987 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1089 - Msg: [unread] Fetching counts for 1 groups
2025-11-23 00:29:33.988 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1089 - Msg: [unread] Dashboard visible, refreshing counts
2025-11-23 00:29:33.988 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: ğŸ” [INIT-DETECTOR] Checking if first-time initialization is needed...
2025-11-23 00:29:33.989 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± Loading groups from local storage first (local-first approach)
2025-11-23 00:29:34.023 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± Found 1 groups in local storage
2025-11-23 00:29:34.023 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: âœ… Loaded 1 groups from local storage
2025-11-23 00:29:34.081 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: âœ… [INIT-DETECTOR] First-time init NOT needed: all checks passed (1 groups found)
2025-11-23 00:29:34.082 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± Found 1 groups in local storage
2025-11-23 00:29:34.083 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: âœ… Loaded 1 groups from local storage
2025-11-23 00:29:34.083 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1089 - Msg: [unread] Fetching counts for 1 groups
2025-11-23 00:29:34.084 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1089 - Msg: [unread] Dashboard visible, refreshing counts
2025-11-23 00:29:34.084 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± Loading groups from local storage first (local-first approach)
2025-11-23 00:29:34.099 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ï¿½ B ackground syncing groups with Supabase...
2025-11-23 00:29:34.099 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸŒ Fetching groups from Supabase...
2025-11-23 00:29:34.099 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ”‘ Getting Supabase client (single initialization)
2025-11-23 00:29:34.099 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ”‘ Getting user from existing client session
2025-11-23 00:29:34.133 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ï¿½ B ackground syncing groups with Supabase...
2025-11-23 00:29:34.134 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸŒ Fetching groups from Supabase...
2025-11-23 00:29:34.134 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ”‘ Getting Supabase client (single initialization)
2025-11-23 00:29:34.134 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ”‘ Getting user from existing client session
2025-11-23 00:29:34.135 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± Found 1 groups in local storage
2025-11-23 00:29:34.135 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: âœ… Loaded 1 groups from local storage
2025-11-23 00:29:34.139 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1089 - Msg: [unread] Fetching counts for 1 groups
2025-11-23 00:29:34.148 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ï¿½ B ackground syncing groups with Supabase...
2025-11-23 00:29:34.148 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸŒ Fetching groups from Supabase...
2025-11-23 00:29:34.148 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ”‘ Getting Supabase client (single initialization)
2025-11-23 00:29:34.148 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ”‘ Getting user from existing client session
2025-11-23 00:29:47.377 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1089 - Msg: [unread] Fetching counts for 1 groups
2025-11-23 00:29:47.377 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1089 - Msg: [unread] Dashboard visible, refreshing counts
2025-11-23 00:29:47.384 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: ğŸ” [INIT-DETECTOR] Checking if first-time initialization is needed...
2025-11-23 00:29:47.407 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: ğŸ” MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=0, hasMoreOlder=true, isLoadingOlder=false
2025-11-23 00:29:47.409 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: ğŸ’¬ ChatArea: Opening chat for group 04a965fb-b53d-41bd-9372-5f25a5c1bec9 (Admin)
2025-11-23 00:29:47.409 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1089 - Msg: [unread] Updating count: 04a965fb-b53d-41bd-9372-5f25a5c1bec9 â†’ 0
2025-11-23 00:29:47.409 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: [unread] ğŸ“Š Cleared unread count in sidebar instantly
2025-11-23 00:29:47.409 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ”„ Fetching messages for group: 04a965fb-b53d-41bd-9372-5f25a5c1bec9 (started at 18:59:47.409Z)
2025-11-23 00:29:47.411 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: [unread] ğŸ¬ REALTIME: Starting subscription, initial last message: none
2025-11-23 00:29:47.430 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± SQLite ready check: true (20ms)
2025-11-23 00:29:47.458 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: [unread] ğŸ›‘ REALTIME: Unsubscribing
2025-11-23 00:29:47.458 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-11-23 00:29:47.461 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: âœ… [INIT-DETECTOR] First-time init NOT needed: all checks passed (1 groups found)
2025-11-23 00:29:47.462 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: [unread] ğŸ“¥ FIRST TIME: No local group_members row, creating locally...
2025-11-23 00:29:47.462 18829-18829 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-11-23 00:29:47.462 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: [push] ğŸ“‚ Active group ID saved: 04a965fb-b53d-41bd-9372-5f25a5c1bec9
2025-11-23 00:29:47.484 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1089 - Msg: [unread] Fetching counts for 1 groups
2025-11-23 00:29:47.484 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: ğŸ” MessageList: firstUnreadMessageId=undefined, unreadCount=undefined, messages=0, hasMoreOlder=true, isLoadingOlder=false
2025-11-23 00:29:47.484 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: ğŸ’¬ ChatArea: Opening chat for group 04a965fb-b53d-41bd-9372-5f25a5c1bec9 (Admin)
2025-11-23 00:29:47.484 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1089 - Msg: [unread] Updating count: 04a965fb-b53d-41bd-9372-5f25a5c1bec9 â†’ 0
2025-11-23 00:29:47.484 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: [unread] ğŸ“Š Cleared unread count in sidebar instantly
2025-11-23 00:29:47.485 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ”„ Fetching messages for group: 04a965fb-b53d-41bd-9372-5f25a5c1bec9 (started at 18:59:47.483Z)
2025-11-23 00:29:47.485 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: â­ï¸ Skipping duplicate fetchMessages for group 04a965fb-b53d-41bd-9372-5f25a5c1bec9
2025-11-23 00:29:47.485 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: [unread] ğŸ¬ REALTIME: Starting subscription, initial last message: none
2025-11-23 00:29:47.486 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: ğŸ’¬ ChatArea: Messages loaded in 1.80ms
2025-11-23 00:29:47.500 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] Canceling pending cleanup timer (reusing connection)
2025-11-23 00:29:47.500 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [webview] 18:59:47 â„¹ï¸ Checking WebView readiness for realtime setup
2025-11-23 00:29:47.501 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [webview-lifecycle] 18:59:47 WebView already ready
2025-11-23 00:29:47.501 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.500 ğŸ”‘ getClient() called - hasClient=true isInitialized=true initPromiseActive=false corrupted=false
2025-11-23 00:29:47.501 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.500 ğŸ”„ getClient() -> triggering background session refresh (app stable >60s)
2025-11-23 00:29:47.501 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.500 ğŸ”„ [background-1763837987500-v0s2ui6wh] refreshSessionUnified(background, timeout=5000ms) ğŸš€ START (taking lock)
2025-11-23 00:29:47.501 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.500 ğŸ”„ [background-1763837987500-v0s2ui6wh] ğŸ“ Inside refresh promise execution
2025-11-23 00:29:47.501 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.500 ğŸ”„ [background-1763837987500-v0s2ui6wh] ğŸ“ Calling getClient()...
2025-11-23 00:29:47.501 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.500 ğŸ”‘ getClient() called - hasClient=true isInitialized=true initPromiseActive=false corrupted=false
2025-11-23 00:29:47.501 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.500 ğŸ”„ [background-1763837987500-v0s2ui6wh] â³ Awaiting refreshInFlight promise...
2025-11-23 00:29:47.501 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] Setting up multi-group realtime subscription for 1 groups (active: 04a965fb-b53d-41bd-9372-5f25a5c1bec9)
2025-11-23 00:29:47.502 18829-18829 Capacitor/Console       com.confessr.app                     D  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [timing] 18:59:47 ğŸ” Started timing: realtime-setup {"groupId":"04a965fb-b53d-41bd-9372-5f25a5c1bec9","totalGroups":1}
2025-11-23 00:29:47.502 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] Skipping blocking auth check; proceeding with local auth state
2025-11-23 00:29:47.502 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.501 ğŸ” Waiting for in-flight session request (max 5s)
2025-11-23 00:29:47.511 18829-21833 com.getcap...RetHandler com.confessr.app                     V  *** ERROR Run: FOREIGN KEY constraint failed (code 787)
2025-11-23 00:29:47.797 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.504 ğŸ”„ [background-1763837987500-v0s2ui6wh] âœ… getClient() returned successfully
2025-11-23 00:29:47.797 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.504 ğŸ”„ [background-1763837987500-v0s2ui6wh] ğŸ”‘ Strategy 1: Attempting setSession() with cached tokens
2025-11-23 00:29:47.797 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.504 ğŸ”„ [background-1763837987500-v0s2ui6wh] ğŸ”‘ Token info: accessToken=eyJhbGciOiJIUzI1NiIs... refreshToken=owhcc5bmrrjl...
2025-11-23 00:29:47.889 18829-18829 Capacitor/Console       com.confessr.app                     W  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: [unread] âš ï¸ Failed to ensure local group_members row: Error: Run: FOREIGN KEY constraint failed (code 787)
2025-11-23 00:29:47.889 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“¦ MessageCache: MISS for group 04a965fb-b53d-41bd-9372-5f25a5c1bec9
2025-11-23 00:29:47.890 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“¦ Cache check completed in 0ms, found 0 messages
2025-11-23 00:29:47.890 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± Loading from SQLite (started at 391ms from group open)
2025-11-23 00:29:47.900 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.899 ğŸ” [background-1763837987500-v0s2ui6wh] Checking storage state (skipping getSession() due to Supabase internal hang)...
2025-11-23 00:29:47.900 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.899 ğŸ” [background-1763837987500-v0s2ui6wh] localStorage accessible, 0 supabase keys
2025-11-23 00:29:47.900 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.900 ğŸ”„ [background-1763837987500-v0s2ui6wh] ğŸ” PRE-CALL DIAGNOSTICS: {"callId":"background-1763837987500-v0s2ui6wh","phase":"setSession-before","timestamp":"2025-11-22T18:59:47.504Z","timeSinceStart":1763837987504,"network":{"connected":true,"connectionType":"wifi"},"client":{"exists":true,"isInitialized":true,"hasAuth":true},"session":{"hasUserId":true,"hasAccessToken":true,"hasRefreshToken":true,"hasCachedSession":false,"cachedSessionAge":null,"consecutiveFailures":1,"lastCorruptionCheck":399},"circuitBreaker":{"failureCount":0,"isOpen":false,"lastFailureAt":0,"timeSinceLastFailure":null},"inFlight":{"hasRefreshInFlight":true},"storage":{"accessible":true,"supabaseKeyCount":0},"clientSession":{"skipped":true,"reason":"getSession() has Supabase internal hang issue"},"webview":{"userAgent":"Mozilla/5.0 (Linux; Android 13; CPH2251 Build/TP1A.220905.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/142.0.7444.102 Mobile Safari/537.36","language":"en-IN","onLine":true,"cookieEnabled":true},"memory":{"usedJSHeapSize":10000000,"totalJSHeapSize":12700000,"jsHeapSizeLimit":1130000000,"usagePercent":1},"pendingRequests":{"recentFetchCount":0}}
2025-11-23 00:29:47.900 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.900 ğŸ”„ [background-1763837987500-v0s2ui6wh] ğŸ“ Calling client.auth.setSession()...
2025-11-23 00:29:47.900 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.900 ğŸ” [background-1763837987500-v0s2ui6wh] PRE-setSession state:
2025-11-23 00:29:47.901 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.900 ğŸ” [background-1763837987500-v0s2ui6wh]   - client.auth exists: true
2025-11-23 00:29:47.901 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.900 ğŸ” [background-1763837987500-v0s2ui6wh]   - typeof setSession: function
2025-11-23 00:29:47.901 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.900 ğŸ” [background-1763837987500-v0s2ui6wh]   - _currentSession exists: false
2025-11-23 00:29:47.901 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.900 ğŸ” [background-1763837987500-v0s2ui6wh] setSession() called, promise created at 0ms
2025-11-23 00:29:47.901 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.900 ğŸ”„ [background-1763837987500-v0s2ui6wh] â±ï¸ Setting up timeout race (3000ms)...
2025-11-23 00:29:47.901 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:47.900 ğŸ”„ [background-1763837987500-v0s2ui6wh] ğŸ Starting Promise.race for setSession...
2025-11-23 00:29:47.932 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± SQLite query completed in 117ms, got 0 messages
2025-11-23 00:29:47.952 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸŒ Background: Fetching messages from Supabase (non-blocking)...
2025-11-23 00:29:47.952 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: ğŸ’¬ ChatArea: Messages loaded in 542.40ms
2025-11-23 00:29:49.308 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:49.302 ğŸ”„ Recovering session using cached tokens...
2025-11-23 00:29:49.309 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:49.304 ğŸ”„ [direct-1763837989304-qrtrhzk1q] refreshSessionUnified: â³ WAITING for in-flight refresh
2025-11-23 00:29:50.908 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.901 ğŸ”„ [background-1763837987500-v0s2ui6wh] â° setSession timeout fired after 3000ms (event loop checks: 6)
2025-11-23 00:29:50.909 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.902 ğŸ”„ [background-1763837987500-v0s2ui6wh] â° setSession TIMEOUT after 3402ms
2025-11-23 00:29:50.931 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.922 ğŸ” [background-1763837987500-v0s2ui6wh] Checking storage state (skipping getSession() due to Supabase internal hang)...
2025-11-23 00:29:50.932 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.923 ğŸ” [background-1763837987500-v0s2ui6wh] localStorage accessible, 0 supabase keys
2025-11-23 00:29:50.932 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.924 ğŸ”„ [background-1763837987500-v0s2ui6wh] ğŸ” TIMEOUT DIAGNOSTICS: {"callId":"background-1763837987500-v0s2ui6wh","phase":"setSession-timeout","timestamp":"2025-11-22T18:59:50.903Z","timeSinceStart":1763837990903,"network":{"connected":true,"connectionType":"wifi"},"client":{"exists":true,"isInitialized":true,"hasAuth":true},"session":{"hasUserId":true,"hasAccessToken":true,"hasRefreshToken":true,"hasCachedSession":false,"cachedSessionAge":null,"consecutiveFailures":1,"lastCorruptionCheck":3422},"circuitBreaker":{"failureCount":0,"isOpen":false,"lastFailureAt":0,"timeSinceLastFailure":null},"inFlight":{"hasRefreshInFlight":true},"storage":{"accessible":true,"supabaseKeyCount":0},"clientSession":{"skipped":true,"reason":"getSession() has Supabase internal hang issue"},"webview":{"userAgent":"Mozilla/5.0 (Linux; Android 13; CPH2251 Build/TP1A.220905.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/142.0.7444.102 Mobile Safari/537.36","language":"en-IN","onLine":true,"cookieEnabled":true},"memory":{"usedJSHeapSize":10000000,"totalJSHeapSize":12700000,"jsHeapSizeLimit":1130000000,"usagePercent":1},"pendingRequests":{"recentFetchCount":0}}
2025-11-23 00:29:50.933 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.924 ğŸ”„ [background-1763837987500-v0s2ui6wh] ğŸ”„ Falling through to Strategy 2 (refreshSession)
2025-11-23 00:29:50.933 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.924 ğŸ”„ [background-1763837987500-v0s2ui6wh] ğŸ”„ Strategy 2: Attempting refreshSession() as fallback
2025-11-23 00:29:50.945 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.943 ğŸ” [background-1763837987500-v0s2ui6wh] Checking storage state (skipping getSession() due to Supabase internal hang)...
2025-11-23 00:29:50.953 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.945 ğŸ” [background-1763837987500-v0s2ui6wh] localStorage accessible, 0 supabase keys
2025-11-23 00:29:50.953 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.945 ğŸ”„ [background-1763837987500-v0s2ui6wh] ğŸ” PRE-CALL DIAGNOSTICS: {"callId":"background-1763837987500-v0s2ui6wh","phase":"refreshSession-before","timestamp":"2025-11-22T18:59:50.924Z","timeSinceStart":1763837990924,"network":{"connected":true,"connectionType":"wifi"},"client":{"exists":true,"isInitialized":true,"hasAuth":true},"session":{"hasUserId":true,"hasAccessToken":true,"hasRefreshToken":true,"hasCachedSession":false,"cachedSessionAge":null,"consecutiveFailures":1,"lastCorruptionCheck":3443},"circuitBreaker":{"failureCount":0,"isOpen":false,"lastFailureAt":0,"timeSinceLastFailure":null},"inFlight":{"hasRefreshInFlight":true},"storage":{"accessible":true,"supabaseKeyCount":0},"clientSession":{"skipped":true,"reason":"getSession() has Supabase internal hang issue"},"webview":{"userAgent":"Mozilla/5.0 (Linux; Android 13; CPH2251 Build/TP1A.220905.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/142.0.7444.102 Mobile Safari/537.36","language":"en-IN","onLine":true,"cookieEnabled":true},"memory":{"usedJSHeapSize":10000000,"totalJSHeapSize":12700000,"jsHeapSizeLimit":1130000000,"usagePercent":1},"pendingRequests":{"recentFetchCount":0}}
2025-11-23 00:29:50.953 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.946 ğŸ”„ [background-1763837987500-v0s2ui6wh] ğŸ“ Calling client.auth.refreshSession()...
2025-11-23 00:29:50.954 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.946 ğŸ” [background-1763837987500-v0s2ui6wh] PRE-refreshSession state:
2025-11-23 00:29:50.954 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.946 ğŸ” [background-1763837987500-v0s2ui6wh]   - client.auth exists: true
2025-11-23 00:29:50.954 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.946 ğŸ” [background-1763837987500-v0s2ui6wh]   - typeof refreshSession: function
2025-11-23 00:29:50.955 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.946 ğŸ” [background-1763837987500-v0s2ui6wh]   - _currentSession exists: false
2025-11-23 00:29:50.955 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.946 ğŸ” [background-1763837987500-v0s2ui6wh]   - _refreshing: undefined
2025-11-23 00:29:50.955 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.946 ğŸ” [background-1763837987500-v0s2ui6wh] refreshSession() called, promise created at 0ms
2025-11-23 00:29:50.956 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.946 ğŸ”„ [background-1763837987500-v0s2ui6wh] â±ï¸ Setting up timeout race (5000ms)...
2025-11-23 00:29:50.956 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:50.946 ğŸ”„ [background-1763837987500-v0s2ui6wh] ğŸ Starting Promise.race for refreshSession...
2025-11-23 00:29:51.123 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: [whatsapp-connection] 18:59:51 ğŸ“Š Status: connecting -  
2025-11-23 00:29:51.123 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [connection] 18:59:51 â„¹ï¸ Connection status: connecting -  {"isUserVisible":false}
2025-11-23 00:29:51.128 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] Creating multi-group channel: multi-group-852432e2-c453-4f00-9ec7-ecf6bda87676-1763837991103-c25nnv7s3p (1 groups)
2025-11-23 00:29:51.146 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ“¡ Subscribing to messages with filter: group_id=eq.04a965fb-b53d-41bd-9372-5f25a5c1bec9
2025-11-23 00:29:51.146 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ§ª DEBUG: Group IDs = ["04a965fb-b53d-41bd-9372-5f25a5c1bec9"]
2025-11-23 00:29:52.506 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:52.505 âš ï¸ In-flight session request timed out after 5s, clearing and retrying
2025-11-23 00:29:52.506 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:52.505 ğŸ” Attempting session recovery using cached tokens
2025-11-23 00:29:52.506 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:52.505 ğŸ”‘ getClient() called - hasClient=true isInitialized=true initPromiseActive=false corrupted=false
2025-11-23 00:29:52.846 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] Subscription status: SUBSCRIBED
2025-11-23 00:29:52.857 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ§ª DEBUG: Subscription is SUBSCRIBED; handlers registered for messages, polls, votes, join-requests
2025-11-23 00:29:52.858 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] âœ… Realtime connected successfully
2025-11-23 00:29:52.867 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: [whatsapp-connection] 18:59:52 ğŸ“Š Status: connected -  
2025-11-23 00:29:52.868 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [connection] 18:59:52 â„¹ï¸ Connection status: connected -  {"isUserVisible":false}
2025-11-23 00:29:52.868 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ’“ Starting heartbeat mechanism
2025-11-23 00:29:53.018 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ”„ Fetching messages for group: 04a965fb-b53d-41bd-9372-5f25a5c1bec9 (started at 18:59:53.015Z)
2025-11-23 00:29:53.024 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± SQLite ready check: true (7ms)
2025-11-23 00:29:53.042 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: [unread] ğŸ“¥ FIRST TIME: No local group_members row, creating locally...
2025-11-23 00:29:53.079 18829-21833 com.getcap...RetHandler com.confessr.app                     V  *** ERROR Run: FOREIGN KEY constraint failed (code 787)
2025-11-23 00:29:53.089 18829-18829 Capacitor/Console       com.confessr.app                     W  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: [unread] âš ï¸ Failed to ensure local group_members row: Error: Run: FOREIGN KEY constraint failed (code 787)
2025-11-23 00:29:53.090 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“¦ MessageCache: MISS for group 04a965fb-b53d-41bd-9372-5f25a5c1bec9
2025-11-23 00:29:53.090 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“¦ Cache check completed in 1ms, found 0 messages
2025-11-23 00:29:53.091 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± Loading from SQLite (started at 73ms from group open)
2025-11-23 00:29:53.108 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± SQLite query completed in 18ms, got 0 messages
2025-11-23 00:29:53.143 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸŒ Background: Fetching messages from Supabase (non-blocking)...
2025-11-23 00:29:53.868 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 653 - Msg: [outbox-unified] Trigger requested from: realtime-connected (priority: normal)
2025-11-23 00:29:53.869 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 653 - Msg: [outbox-unified] Scheduling processing in 75ms for: realtime-connected
2025-11-23 00:29:53.947 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:53.942 ğŸ“¦ Starting outbox processing - session outbox-1763837993942
2025-11-23 00:29:53.948 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:53.944 ğŸ“¦ Outbox pre-check: sqliteReady after 0ms
2025-11-23 00:29:53.963 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:53.961 ğŸ“¦ No outbox messages to process; idle
2025-11-23 00:29:55.949 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:55.947 ğŸ”„ [background-1763837987500-v0s2ui6wh] â° refreshSession timeout fired after 5000ms (event loop checks: 10)
2025-11-23 00:29:55.950 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:55.948 ğŸ”„ [background-1763837987500-v0s2ui6wh] â° refreshSession TIMEOUT after 8448ms (5000ms limit)
2025-11-23 00:29:55.970 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:55.966 ğŸ” [background-1763837987500-v0s2ui6wh] Checking storage state (skipping getSession() due to Supabase internal hang)...
2025-11-23 00:29:55.971 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:55.967 ğŸ” [background-1763837987500-v0s2ui6wh] localStorage accessible, 0 supabase keys
2025-11-23 00:29:55.973 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:55.968 ğŸ”„ [background-1763837987500-v0s2ui6wh] ğŸ” TIMEOUT DIAGNOSTICS: {"callId":"background-1763837987500-v0s2ui6wh","phase":"refreshSession-timeout","timestamp":"2025-11-22T18:59:55.949Z","timeSinceStart":1763837995949,"network":{"connected":true,"connectionType":"wifi"},"client":{"exists":true,"isInitialized":true,"hasAuth":true},"session":{"hasUserId":true,"hasAccessToken":true,"hasRefreshToken":true,"hasCachedSession":false,"cachedSessionAge":null,"consecutiveFailures":1,"lastCorruptionCheck":8466},"circuitBreaker":{"failureCount":0,"isOpen":false,"lastFailureAt":0,"timeSinceLastFailure":null},"inFlight":{"hasRefreshInFlight":true},"storage":{"accessible":true,"supabaseKeyCount":0},"clientSession":{"skipped":true,"reason":"getSession() has Supabase internal hang issue"},"webview":{"userAgent":"Mozilla/5.0 (Linux; Android 13; CPH2251 Build/TP1A.220905.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/142.0.7444.102 Mobile Safari/537.36","language":"en-IN","onLine":true,"cookieEnabled":true},"memory":{"usedJSHeapSize":10000000,"totalJSHeapSize":12700000,"jsHeapSizeLimit":1130000000,"usagePercent":1},"pendingRequests":{"recentFetchCount":0}}
2025-11-23 00:29:55.973 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:55.968 ğŸ”„ [background-1763837987500-v0s2ui6wh] ğŸ“Š consecutiveFailures incremented to 2
2025-11-23 00:29:55.974 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:55.968 ğŸ”„ [background-1763837987500-v0s2ui6wh] âœ… refreshInFlight promise resolved in 8468ms, result=false
2025-11-23 00:29:55.975 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:55.969 ğŸ”„ [background-1763837987500-v0s2ui6wh] ğŸ”“ FINALLY: Clearing refreshInFlight lock
2025-11-23 00:29:55.975 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:55.969 ğŸ”„ [background-1763837987500-v0s2ui6wh] ğŸ COMPLETE: Total time 8469ms, lock released
2025-11-23 00:29:55.976 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 18:59:55.969 ğŸ”„ [direct-1763837989304-qrtrhzk1q] refreshSessionUnified: âœ… WAIT COMPLETED in 6665ms, result=false
2025-11-23 00:30:22.868 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ’“ Heartbeat sent
2025-11-23 00:30:22.973 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ’“ Heartbeat pong received
2025-11-23 00:30:45.884 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: [unread] ğŸ›‘ REALTIME: Unsubscribing
2025-11-23 00:30:45.884 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] Scheduling cleanup in 5s (allows quick navigation reuse)
2025-11-23 00:30:45.904 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: [GroupDetailsViewPage] Fetching members for group: 04a965fb-b53d-41bd-9372-5f25a5c1bec9
2025-11-23 00:30:45.904 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 626 - Msg: [GroupActions] ğŸ“± Loading group members from SQLite cache for group 04a965fb-b53d-41bd-9372-5f25a5c1bec9
2025-11-23 00:30:45.905 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.904 ğŸ”‘ getClient() called - hasClient=true isInitialized=true initPromiseActive=false corrupted=false
2025-11-23 00:30:45.906 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.904 ğŸ”„ getClient() -> triggering background session refresh (app stable >60s)
2025-11-23 00:30:45.906 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.905 ğŸ”„ [background-1763838045905-9hdm7iftj] refreshSessionUnified(background, timeout=5000ms) ğŸš€ START (taking lock)
2025-11-23 00:30:45.906 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.905 ğŸ”„ [background-1763838045905-9hdm7iftj] ğŸ“ Inside refresh promise execution
2025-11-23 00:30:45.906 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.905 ğŸ”„ [background-1763838045905-9hdm7iftj] ğŸ“ Calling getClient()...
2025-11-23 00:30:45.906 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.905 ğŸ”‘ getClient() called - hasClient=true isInitialized=true initPromiseActive=false corrupted=false
2025-11-23 00:30:45.906 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.906 ğŸ”„ [background-1763838045905-9hdm7iftj] â³ Awaiting refreshInFlight promise...
2025-11-23 00:30:45.907 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: [GroupDetailsViewPage] groupMembers updated: 
2025-11-23 00:30:45.907 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: [GroupDetailsViewPage] groupMembers.length: 0
2025-11-23 00:30:45.907 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: ğŸ” [INIT-DETECTOR] Checking if first-time initialization is needed...
2025-11-23 00:30:45.915 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.914 ğŸ”„ [background-1763838045905-9hdm7iftj] âœ… getClient() returned successfully
2025-11-23 00:30:45.915 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.914 ğŸ”„ [background-1763838045905-9hdm7iftj] ğŸ”‘ Strategy 1: Attempting setSession() with cached tokens
2025-11-23 00:30:45.915 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.914 ğŸ”„ [background-1763838045905-9hdm7iftj] ğŸ”‘ Token info: accessToken=eyJhbGciOiJIUzI1NiIs... refreshToken=owhcc5bmrrjl...
2025-11-23 00:30:45.939 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 626 - Msg: [GroupActions] ğŸ“­ No cached members found in SQLite
2025-11-23 00:30:45.939 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 626 - Msg: [GroupActions] ğŸŒ Fetching fresh members from Supabase...
2025-11-23 00:30:45.939 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.938 ğŸ—„ï¸ Executing fetch group members...
2025-11-23 00:30:45.939 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.938 ğŸ”‘ getClient() called - hasClient=true isInitialized=true initPromiseActive=false corrupted=false
2025-11-23 00:30:45.941 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: âœ… [INIT-DETECTOR] First-time init NOT needed: all checks passed (1 groups found)
2025-11-23 00:30:45.945 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.945 ğŸ” [background-1763838045905-9hdm7iftj] Checking storage state (skipping getSession() due to Supabase internal hang)...
2025-11-23 00:30:45.945 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.945 ğŸ” [background-1763838045905-9hdm7iftj] localStorage accessible, 0 supabase keys
2025-11-23 00:30:45.946 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.946 ğŸ”„ [background-1763838045905-9hdm7iftj] ğŸ” PRE-CALL DIAGNOSTICS: {"callId":"background-1763838045905-9hdm7iftj","phase":"setSession-before","timestamp":"2025-11-22T19:00:45.914Z","timeSinceStart":1763838045914,"network":{"connected":true,"connectionType":"wifi"},"client":{"exists":true,"isInitialized":true,"hasAuth":true},"session":{"hasUserId":true,"hasAccessToken":true,"hasRefreshToken":true,"hasCachedSession":false,"cachedSessionAge":null,"consecutiveFailures":2,"lastCorruptionCheck":41},"circuitBreaker":{"failureCount":0,"isOpen":false,"lastFailureAt":0,"timeSinceLastFailure":null},"inFlight":{"hasRefreshInFlight":true},"storage":{"accessible":true,"supabaseKeyCount":0},"clientSession":{"skipped":true,"reason":"getSession() has Supabase internal hang issue"},"webview":{"userAgent":"Mozilla/5.0 (Linux; Android 13; CPH2251 Build/TP1A.220905.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/142.0.7444.102 Mobile Safari/537.36","language":"en-IN","onLine":true,"cookieEnabled":true},"memory":{"usedJSHeapSize":10000000,"totalJSHeapSize":12700000,"jsHeapSizeLimit":1130000000,"usagePercent":1},"pendingRequests":{"recentFetchCount":0}}
2025-11-23 00:30:45.946 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.946 ğŸ”„ [background-1763838045905-9hdm7iftj] ğŸ“ Calling client.auth.setSession()...
2025-11-23 00:30:45.946 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.946 ğŸ” [background-1763838045905-9hdm7iftj] PRE-setSession state:
2025-11-23 00:30:45.946 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.946 ğŸ” [background-1763838045905-9hdm7iftj]   - client.auth exists: true
2025-11-23 00:30:45.947 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.946 ğŸ” [background-1763838045905-9hdm7iftj]   - typeof setSession: function
2025-11-23 00:30:45.947 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.946 ğŸ” [background-1763838045905-9hdm7iftj]   - _currentSession exists: false
2025-11-23 00:30:45.947 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.946 ğŸ” [background-1763838045905-9hdm7iftj] setSession() called, promise created at 0ms
2025-11-23 00:30:45.947 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.946 ğŸ”„ [background-1763838045905-9hdm7iftj] â±ï¸ Setting up timeout race (3000ms)...
2025-11-23 00:30:45.947 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.946 ğŸ”„ [background-1763838045905-9hdm7iftj] ğŸ Starting Promise.race for setSession...
2025-11-23 00:30:45.959 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: [GroupDetailsViewPage] Fetching members for group: 04a965fb-b53d-41bd-9372-5f25a5c1bec9
2025-11-23 00:30:45.959 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 626 - Msg: [GroupActions] fetchGroupMembers - deduplicating request for group 04a965fb-b53d-41bd-9372-5f25a5c1bec9
2025-11-23 00:30:45.959 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:45.959 ğŸ”‘ getClient() called - hasClient=true isInitialized=true initPromiseActive=false corrupted=false
2025-11-23 00:30:45.959 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: [GroupDetailsViewPage] groupMembers updated: 
2025-11-23 00:30:45.960 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: [GroupDetailsViewPage] groupMembers.length: 0
2025-11-23 00:30:48.465 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 626 - Msg: [GroupActions] fetchGroupMembers - deduplicating request for group 04a965fb-b53d-41bd-9372-5f25a5c1bec9
2025-11-23 00:30:48.465 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: ğŸ” [INIT-DETECTOR] Checking if first-time initialization is needed...
2025-11-23 00:30:48.499 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: âœ… [INIT-DETECTOR] First-time init NOT needed: all checks passed (1 groups found)
2025-11-23 00:30:48.576 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 626 - Msg: [GroupActions] fetchGroupMembers - deduplicating request for group 04a965fb-b53d-41bd-9372-5f25a5c1bec9
2025-11-23 00:30:48.948 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.946 ğŸ”„ [background-1763838045905-9hdm7iftj] â° setSession timeout fired after 3000ms (event loop checks: 6)
2025-11-23 00:30:48.948 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.947 ğŸ”„ [background-1763838045905-9hdm7iftj] â° setSession TIMEOUT after 3042ms
2025-11-23 00:30:48.965 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.962 ğŸ” [background-1763838045905-9hdm7iftj] Checking storage state (skipping getSession() due to Supabase internal hang)...
2025-11-23 00:30:48.965 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.963 ğŸ” [background-1763838045905-9hdm7iftj] localStorage accessible, 0 supabase keys
2025-11-23 00:30:48.965 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.964 ğŸ”„ [background-1763838045905-9hdm7iftj] ğŸ” TIMEOUT DIAGNOSTICS: {"callId":"background-1763838045905-9hdm7iftj","phase":"setSession-timeout","timestamp":"2025-11-22T19:00:48.948Z","timeSinceStart":1763838048948,"network":{"connected":true,"connectionType":"wifi"},"client":{"exists":true,"isInitialized":true,"hasAuth":true},"session":{"hasUserId":true,"hasAccessToken":true,"hasRefreshToken":true,"hasCachedSession":false,"cachedSessionAge":null,"consecutiveFailures":2,"lastCorruptionCheck":3058},"circuitBreaker":{"failureCount":0,"isOpen":false,"lastFailureAt":0,"timeSinceLastFailure":null},"inFlight":{"hasRefreshInFlight":true},"storage":{"accessible":true,"supabaseKeyCount":0},"clientSession":{"skipped":true,"reason":"getSession() has Supabase internal hang issue"},"webview":{"userAgent":"Mozilla/5.0 (Linux; Android 13; CPH2251 Build/TP1A.220905.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/142.0.7444.102 Mobile Safari/537.36","language":"en-IN","onLine":true,"cookieEnabled":true},"memory":{"usedJSHeapSize":10000000,"totalJSHeapSize":12700000,"jsHeapSizeLimit":1130000000,"usagePercent":1},"pendingRequests":{"recentFetchCount":0}}
2025-11-23 00:30:48.966 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.964 ğŸ”„ [background-1763838045905-9hdm7iftj] ğŸ”„ Falling through to Strategy 2 (refreshSession)
2025-11-23 00:30:48.966 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.964 ğŸ”„ [background-1763838045905-9hdm7iftj] ğŸ”„ Strategy 2: Attempting refreshSession() as fallback
2025-11-23 00:30:48.981 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.979 ğŸ” [background-1763838045905-9hdm7iftj] Checking storage state (skipping getSession() due to Supabase internal hang)...
2025-11-23 00:30:48.982 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.981 ğŸ” [background-1763838045905-9hdm7iftj] localStorage accessible, 0 supabase keys
2025-11-23 00:30:48.986 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.983 ğŸ”„ [background-1763838045905-9hdm7iftj] ğŸ” PRE-CALL DIAGNOSTICS: {"callId":"background-1763838045905-9hdm7iftj","phase":"refreshSession-before","timestamp":"2025-11-22T19:00:48.965Z","timeSinceStart":1763838048965,"network":{"connected":true,"connectionType":"wifi"},"client":{"exists":true,"isInitialized":true,"hasAuth":true},"session":{"hasUserId":true,"hasAccessToken":true,"hasRefreshToken":true,"hasCachedSession":false,"cachedSessionAge":null,"consecutiveFailures":2,"lastCorruptionCheck":3075},"circuitBreaker":{"failureCount":0,"isOpen":false,"lastFailureAt":0,"timeSinceLastFailure":null},"inFlight":{"hasRefreshInFlight":true},"storage":{"accessible":true,"supabaseKeyCount":0},"clientSession":{"skipped":true,"reason":"getSession() has Supabase internal hang issue"},"webview":{"userAgent":"Mozilla/5.0 (Linux; Android 13; CPH2251 Build/TP1A.220905.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/142.0.7444.102 Mobile Safari/537.36","language":"en-IN","onLine":true,"cookieEnabled":true},"memory":{"usedJSHeapSize":10000000,"totalJSHeapSize":12700000,"jsHeapSizeLimit":1130000000,"usagePercent":1},"pendingRequests":{"recentFetchCount":0}}
2025-11-23 00:30:48.987 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.983 ğŸ”„ [background-1763838045905-9hdm7iftj] ğŸ“ Calling client.auth.refreshSession()...
2025-11-23 00:30:48.987 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.983 ğŸ” [background-1763838045905-9hdm7iftj] PRE-refreshSession state:
2025-11-23 00:30:48.987 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.984 ğŸ” [background-1763838045905-9hdm7iftj]   - client.auth exists: true
2025-11-23 00:30:48.987 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.984 ğŸ” [background-1763838045905-9hdm7iftj]   - typeof refreshSession: function
2025-11-23 00:30:48.988 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.984 ğŸ” [background-1763838045905-9hdm7iftj]   - _currentSession exists: false
2025-11-23 00:30:48.988 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.984 ğŸ” [background-1763838045905-9hdm7iftj]   - _refreshing: undefined
2025-11-23 00:30:48.989 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.984 ğŸ” [background-1763838045905-9hdm7iftj] refreshSession() called, promise created at 0ms
2025-11-23 00:30:48.989 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.985 ğŸ”„ [background-1763838045905-9hdm7iftj] â±ï¸ Setting up timeout race (5000ms)...
2025-11-23 00:30:48.989 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:48.985 ğŸ”„ [background-1763838045905-9hdm7iftj] ğŸ Starting Promise.race for refreshSession...
2025-11-23 00:30:50.886 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] â­ï¸ Skipping cleanup - channel still active (state: joined)
2025-11-23 00:30:50.944 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:50.939 ğŸ—„ï¸ fetch group members failed: Error: fetch group members timeout after 5000ms
                                                                                                    Error: fetch group members timeout after 5000ms
                                                                                                        at https://localhost/assets/index-QqmCKEMV.js:578:30019
2025-11-23 00:30:50.944 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 626 - Msg: [GroupActions] fetchGroupMembers - groupId: 04a965fb-b53d-41bd-9372-5f25a5c1bec9
2025-11-23 00:30:50.944 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 626 - Msg: [GroupActions] fetchGroupMembers - data: null
2025-11-23 00:30:50.944 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 626 - Msg: [GroupActions] fetchGroupMembers - error: Error: fetch group members timeout after 5000ms
2025-11-23 00:30:50.945 18829-18829 Capacitor/Console       com.confessr.app                     E  File: https://localhost/assets/index-QqmCKEMV.js - Line 626 - Msg: [GroupActions] Error fetching group members: Error: fetch group members timeout after 5000ms
2025-11-23 00:30:52.479 18829-18829 Capacitor/Console       com.confessr.app                     I  File:  - Line 334 - Msg: undefined
2025-11-23 00:30:52.479 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: [push] ğŸ“‚ Active group ID cleared
2025-11-23 00:30:52.503 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1089 - Msg: [unread] Fetching counts for 1 groups
2025-11-23 00:30:52.503 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1089 - Msg: [unread] Dashboard visible, refreshing counts
2025-11-23 00:30:52.505 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: ğŸ” [INIT-DETECTOR] Checking if first-time initialization is needed...
2025-11-23 00:30:52.510 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± Loading groups from local storage first (local-first approach)
2025-11-23 00:30:52.527 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: âœ… [INIT-DETECTOR] First-time init NOT needed: all checks passed (1 groups found)
2025-11-23 00:30:52.527 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± Found 1 groups in local storage
2025-11-23 00:30:52.527 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: âœ… Loaded 1 groups from local storage
2025-11-23 00:30:52.543 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1089 - Msg: [unread] Fetching counts for 1 groups
2025-11-23 00:30:52.543 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1089 - Msg: [unread] Dashboard visible, refreshing counts
2025-11-23 00:30:52.547 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± Loading groups from local storage first (local-first approach)
2025-11-23 00:30:52.659 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ï¿½ B ackground syncing groups with Supabase...
2025-11-23 00:30:52.659 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸŒ Fetching groups from Supabase...
2025-11-23 00:30:52.659 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ”‘ Getting Supabase client (single initialization)
2025-11-23 00:30:52.659 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ”‘ Getting user from existing client session
2025-11-23 00:30:52.663 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ“± Found 1 groups in local storage
2025-11-23 00:30:52.663 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: âœ… Loaded 1 groups from local storage
2025-11-23 00:30:52.665 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1089 - Msg: [unread] Fetching counts for 1 groups
2025-11-23 00:30:52.690 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ï¿½ B ackground syncing groups with Supabase...
2025-11-23 00:30:52.690 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸŒ Fetching groups from Supabase...
2025-11-23 00:30:52.690 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ”‘ Getting Supabase client (single initialization)
2025-11-23 00:30:52.690 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 629 - Msg: ğŸ”‘ Getting user from existing client session
2025-11-23 00:30:52.866 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ’“ Heartbeat sent
2025-11-23 00:30:52.968 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ’“ Heartbeat pong received
2025-11-23 00:30:53.991 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:53.989 ğŸ”„ [background-1763838045905-9hdm7iftj] â° refreshSession timeout fired after 5000ms (event loop checks: 10)
2025-11-23 00:30:53.991 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:53.990 ğŸ”„ [background-1763838045905-9hdm7iftj] â° refreshSession TIMEOUT after 8085ms (5000ms limit)
2025-11-23 00:30:54.000 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:53.999 ğŸ” [background-1763838045905-9hdm7iftj] Checking storage state (skipping getSession() due to Supabase internal hang)...
2025-11-23 00:30:54.000 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:53.999 ğŸ” [background-1763838045905-9hdm7iftj] localStorage accessible, 0 supabase keys
2025-11-23 00:30:54.001 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:54.000 ğŸ”„ [background-1763838045905-9hdm7iftj] ğŸ” TIMEOUT DIAGNOSTICS: {"callId":"background-1763838045905-9hdm7iftj","phase":"refreshSession-timeout","timestamp":"2025-11-22T19:00:53.990Z","timeSinceStart":1763838053990,"network":{"connected":true,"connectionType":"wifi"},"client":{"exists":true,"isInitialized":true,"hasAuth":true},"session":{"hasUserId":true,"hasAccessToken":true,"hasRefreshToken":true,"hasCachedSession":false,"cachedSessionAge":null,"consecutiveFailures":2,"lastCorruptionCheck":8095},"circuitBreaker":{"failureCount":0,"isOpen":false,"lastFailureAt":0,"timeSinceLastFailure":null},"inFlight":{"hasRefreshInFlight":true},"storage":{"accessible":true,"supabaseKeyCount":0},"clientSession":{"skipped":true,"reason":"getSession() has Supabase internal hang issue"},"webview":{"userAgent":"Mozilla/5.0 (Linux; Android 13; CPH2251 Build/TP1A.220905.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/142.0.7444.102 Mobile Safari/537.36","language":"en-IN","onLine":true,"cookieEnabled":true},"memory":{"usedJSHeapSize":10000000,"totalJSHeapSize":12700000,"jsHeapSizeLimit":1130000000,"usagePercent":1},"pendingRequests":{"recentFetchCount":0}}
2025-11-23 00:30:54.001 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:54.000 ğŸ”„ [background-1763838045905-9hdm7iftj] ğŸ“Š consecutiveFailures incremented to 3
2025-11-23 00:30:54.001 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:54.000 ğŸ”„ [background-1763838045905-9hdm7iftj] âœ… refreshInFlight promise resolved in 8095ms, result=false
2025-11-23 00:30:54.001 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:54.000 ğŸ”„ [background-1763838045905-9hdm7iftj] ğŸ”“ FINALLY: Clearing refreshInFlight lock
2025-11-23 00:30:54.001 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:00:54.000 ğŸ”„ [background-1763838045905-9hdm7iftj] ğŸ COMPLETE: Total time 8095ms, lock released
2025-11-23 00:31:22.868 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ’“ Heartbeat sent
2025-11-23 00:31:22.967 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ’“ Heartbeat pong received
2025-11-23 00:31:52.871 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ’“ Heartbeat sent
2025-11-23 00:31:52.966 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ’“ Heartbeat pong received
2025-11-23 00:32:22.868 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ’“ Heartbeat sent
2025-11-23 00:32:22.967 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ’“ Heartbeat pong received
2025-11-23 00:32:52.870 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ’“ Heartbeat sent
2025-11-23 00:32:53.076 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ’“ Heartbeat pong received
2025-11-23 00:32:53.131 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 662 - Msg: [device-lock] 19:02:53 ğŸ“± Device locked/app backgrounded
2025-11-23 00:32:53.133 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: ğŸ“± App state changed: inactive
2025-11-23 00:32:53.133 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 1095 - Msg: ğŸ“± App going to background/pause
2025-11-23 00:32:53.134 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [lifecycle] App paused - resetting outbox processing state
2025-11-23 00:32:53.146 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 653 - Msg: [outbox-unified] Resetting outbox processing state
2025-11-23 00:33:04.072 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [lifecycle] 10s since pause - stopping heartbeat to save resources
2025-11-23 00:33:04.076 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ”’ Device locked - stopping heartbeat to save battery
2025-11-23 00:33:04.077 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ’“ Heartbeat stopped
2025-11-23 00:33:04.077 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ’“ Heartbeat check stopped
2025-11-23 00:33:04.078 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ’“ Zombie check stopped
2025-11-23 00:34:46.154 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] Subscription status: CHANNEL_ERROR
2025-11-23 00:34:46.181 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] âŒ Connection failed with status: CHANNEL_ERROR
2025-11-23 00:34:46.182 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 657 - Msg: [realtime-v2] ğŸ”§ CHANNEL_ERROR detected - attempting session refresh
2025-11-23 00:34:46.183 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:46.158 ğŸ” Waiting for in-flight session request (max 5s)
2025-11-23 00:34:52.072 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.069 âš ï¸ In-flight session request timed out after 5s, clearing and retrying
2025-11-23 00:34:52.073 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.069 ğŸ” Attempting session recovery using cached tokens
2025-11-23 00:34:52.074 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.069 ğŸ”‘ getClient() called - hasClient=true isInitialized=true initPromiseActive=false corrupted=false
2025-11-23 00:34:52.074 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.070 ğŸ”„ getClient() -> triggering background session refresh (app stable >60s)
2025-11-23 00:34:52.076 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.070 ğŸ”„ [background-1763838292070-5cusr5u2n] refreshSessionUnified(background, timeout=5000ms) ğŸš€ START (taking lock)
2025-11-23 00:34:52.077 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.070 ğŸ”„ [background-1763838292070-5cusr5u2n] ğŸ“ Inside refresh promise execution
2025-11-23 00:34:52.077 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.071 ğŸ”„ [background-1763838292070-5cusr5u2n] ğŸ“ Calling getClient()...
2025-11-23 00:34:52.078 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.071 ğŸ”‘ getClient() called - hasClient=true isInitialized=true initPromiseActive=false corrupted=false
2025-11-23 00:34:52.079 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.071 ğŸ”„ [background-1763838292070-5cusr5u2n] â³ Awaiting refreshInFlight promise...
2025-11-23 00:34:52.080 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.071 ğŸ”„ [background-1763838292070-5cusr5u2n] âœ… getClient() returned successfully
2025-11-23 00:34:52.081 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.071 ğŸ”„ [background-1763838292070-5cusr5u2n] ğŸ”‘ Strategy 1: Attempting setSession() with cached tokens
2025-11-23 00:34:52.082 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.072 ğŸ”„ [background-1763838292070-5cusr5u2n] ğŸ”‘ Token info: accessToken=eyJhbGciOiJIUzI1NiIs... refreshToken=owhcc5bmrrjl...
2025-11-23 00:34:52.103 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.099 ğŸ” [background-1763838292070-5cusr5u2n] Checking storage state (skipping getSession() due to Supabase internal hang)...
2025-11-23 00:34:52.104 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.100 ğŸ” [background-1763838292070-5cusr5u2n] localStorage accessible, 0 supabase keys
2025-11-23 00:34:52.107 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.101 ğŸ”„ [background-1763838292070-5cusr5u2n] ğŸ” PRE-CALL DIAGNOSTICS: {"callId":"background-1763838292070-5cusr5u2n","phase":"setSession-before","timestamp":"2025-11-22T19:04:52.072Z","timeSinceStart":1763838292072,"network":{"connected":true,"connectionType":"wifi"},"client":{"exists":true,"isInitialized":true,"hasAuth":true},"session":{"hasUserId":true,"hasAccessToken":true,"hasRefreshToken":true,"hasCachedSession":false,"cachedSessionAge":null,"consecutiveFailures":3,"lastCorruptionCheck":29},"circuitBreaker":{"failureCount":0,"isOpen":false,"lastFailureAt":0,"timeSinceLastFailure":null},"inFlight":{"hasRefreshInFlight":true},"storage":{"accessible":true,"supabaseKeyCount":0},"clientSession":{"skipped":true,"reason":"getSession() has Supabase internal hang issue"},"webview":{"userAgent":"Mozilla/5.0 (Linux; Android 13; CPH2251 Build/TP1A.220905.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/142.0.7444.102 Mobile Safari/537.36","language":"en-IN","onLine":true,"cookieEnabled":true},"memory":{"usedJSHeapSize":10000000,"totalJSHeapSize":12700000,"jsHeapSizeLimit":1130000000,"usagePercent":1},"pendingRequests":{"recentFetchCount":0}}
2025-11-23 00:34:52.108 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.101 ğŸ”„ [background-1763838292070-5cusr5u2n] ğŸ“ Calling client.auth.setSession()...
2025-11-23 00:34:52.109 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.102 ğŸ” [background-1763838292070-5cusr5u2n] PRE-setSession state:
2025-11-23 00:34:52.110 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.102 ğŸ” [background-1763838292070-5cusr5u2n]   - client.auth exists: true
2025-11-23 00:34:52.110 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.102 ğŸ” [background-1763838292070-5cusr5u2n]   - typeof setSession: function
2025-11-23 00:34:52.111 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.102 ğŸ” [background-1763838292070-5cusr5u2n]   - _currentSession exists: false
2025-11-23 00:34:52.113 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.102 ğŸ” [background-1763838292070-5cusr5u2n] setSession() called, promise created at 0ms
2025-11-23 00:34:52.113 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.103 ğŸ”„ [background-1763838292070-5cusr5u2n] â±ï¸ Setting up timeout race (3000ms)...
2025-11-23 00:34:52.114 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:52.104 ğŸ”„ [background-1763838292070-5cusr5u2n] ğŸ Starting Promise.race for setSession...
2025-11-23 00:34:56.072 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.069 ğŸ”„ [background-1763838292070-5cusr5u2n] â° setSession timeout fired after 3000ms (event loop checks: 4)
2025-11-23 00:34:56.073 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.069 ğŸ”„ [background-1763838292070-5cusr5u2n] â° setSession TIMEOUT after 3999ms
2025-11-23 00:34:56.091 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.089 ğŸ” [background-1763838292070-5cusr5u2n] Checking storage state (skipping getSession() due to Supabase internal hang)...
2025-11-23 00:34:56.093 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.090 ğŸ” [background-1763838292070-5cusr5u2n] localStorage accessible, 0 supabase keys
2025-11-23 00:34:56.095 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.091 ğŸ”„ [background-1763838292070-5cusr5u2n] ğŸ” TIMEOUT DIAGNOSTICS: {"callId":"background-1763838292070-5cusr5u2n","phase":"setSession-timeout","timestamp":"2025-11-22T19:04:56.070Z","timeSinceStart":1763838296070,"network":{"connected":true,"connectionType":"wifi"},"client":{"exists":true,"isInitialized":true,"hasAuth":true},"session":{"hasUserId":true,"hasAccessToken":true,"hasRefreshToken":true,"hasCachedSession":false,"cachedSessionAge":null,"consecutiveFailures":3,"lastCorruptionCheck":4019},"circuitBreaker":{"failureCount":0,"isOpen":false,"lastFailureAt":0,"timeSinceLastFailure":null},"inFlight":{"hasRefreshInFlight":true},"storage":{"accessible":true,"supabaseKeyCount":0},"clientSession":{"skipped":true,"reason":"getSession() has Supabase internal hang issue"},"webview":{"userAgent":"Mozilla/5.0 (Linux; Android 13; CPH2251 Build/TP1A.220905.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/142.0.7444.102 Mobile Safari/537.36","language":"en-IN","onLine":true,"cookieEnabled":true},"memory":{"usedJSHeapSize":10000000,"totalJSHeapSize":12700000,"jsHeapSizeLimit":1130000000,"usagePercent":1},"pendingRequests":{"recentFetchCount":0}}
2025-11-23 00:34:56.096 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.091 ğŸ”„ [background-1763838292070-5cusr5u2n] ğŸ”„ Falling through to Strategy 2 (refreshSession)
2025-11-23 00:34:56.097 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.091 ğŸ”„ [background-1763838292070-5cusr5u2n] ğŸ”„ Strategy 2: Attempting refreshSession() as fallback
2025-11-23 00:34:56.119 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.114 ğŸ” [background-1763838292070-5cusr5u2n] Checking storage state (skipping getSession() due to Supabase internal hang)...
2025-11-23 00:34:56.120 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.114 ğŸ” [background-1763838292070-5cusr5u2n] localStorage accessible, 0 supabase keys
2025-11-23 00:34:56.121 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.115 ğŸ”„ [background-1763838292070-5cusr5u2n] ğŸ” PRE-CALL DIAGNOSTICS: {"callId":"background-1763838292070-5cusr5u2n","phase":"refreshSession-before","timestamp":"2025-11-22T19:04:56.092Z","timeSinceStart":1763838296092,"network":{"connected":true,"connectionType":"wifi"},"client":{"exists":true,"isInitialized":true,"hasAuth":true},"session":{"hasUserId":true,"hasAccessToken":true,"hasRefreshToken":true,"hasCachedSession":false,"cachedSessionAge":null,"consecutiveFailures":3,"lastCorruptionCheck":4044},"circuitBreaker":{"failureCount":0,"isOpen":false,"lastFailureAt":0,"timeSinceLastFailure":null},"inFlight":{"hasRefreshInFlight":true},"storage":{"accessible":true,"supabaseKeyCount":0},"clientSession":{"skipped":true,"reason":"getSession() has Supabase internal hang issue"},"webview":{"userAgent":"Mozilla/5.0 (Linux; Android 13; CPH2251 Build/TP1A.220905.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/142.0.7444.102 Mobile Safari/537.36","language":"en-IN","onLine":true,"cookieEnabled":true},"memory":{"usedJSHeapSize":10000000,"totalJSHeapSize":12700000,"jsHeapSizeLimit":1130000000,"usagePercent":1},"pendingRequests":{"recentFetchCount":0}}
2025-11-23 00:34:56.122 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.115 ğŸ”„ [background-1763838292070-5cusr5u2n] ğŸ“ Calling client.auth.refreshSession()...
2025-11-23 00:34:56.122 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.116 ğŸ” [background-1763838292070-5cusr5u2n] PRE-refreshSession state:
2025-11-23 00:34:56.123 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.116 ğŸ” [background-1763838292070-5cusr5u2n]   - client.auth exists: true
2025-11-23 00:34:56.124 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.116 ğŸ” [background-1763838292070-5cusr5u2n]   - typeof refreshSession: function
2025-11-23 00:34:56.124 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.117 ğŸ” [background-1763838292070-5cusr5u2n]   - _currentSession exists: false
2025-11-23 00:34:56.125 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.117 ğŸ” [background-1763838292070-5cusr5u2n]   - _refreshing: undefined
2025-11-23 00:34:56.125 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.117 ğŸ” [background-1763838292070-5cusr5u2n] refreshSession() called, promise created at 0ms
2025-11-23 00:34:56.126 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.117 ğŸ”„ [background-1763838292070-5cusr5u2n] â±ï¸ Setting up timeout race (5000ms)...
2025-11-23 00:34:56.127 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:04:56.118 ğŸ”„ [background-1763838292070-5cusr5u2n] ğŸ Starting Promise.race for refreshSession...
2025-11-23 00:35:07.347 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:05:07.346 ğŸ”„ [background-1763838292070-5cusr5u2n] â° refreshSession timeout fired after 5000ms (event loop checks: 1)
2025-11-23 00:35:07.348 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:05:07.346 ğŸ”„ [background-1763838292070-5cusr5u2n] â° refreshSession TIMEOUT after 15276ms (5000ms limit)
2025-11-23 00:35:07.365 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:05:07.363 ğŸ” [background-1763838292070-5cusr5u2n] Checking storage state (skipping getSession() due to Supabase internal hang)...
2025-11-23 00:35:07.365 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:05:07.364 ğŸ” [background-1763838292070-5cusr5u2n] localStorage accessible, 0 supabase keys
2025-11-23 00:35:07.366 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:05:07.364 ğŸ”„ [background-1763838292070-5cusr5u2n] ğŸ” TIMEOUT DIAGNOSTICS: {"callId":"background-1763838292070-5cusr5u2n","phase":"refreshSession-timeout","timestamp":"2025-11-22T19:05:07.346Z","timeSinceStart":1763838307346,"network":{"connected":true,"connectionType":"wifi"},"client":{"exists":true,"isInitialized":true,"hasAuth":true},"session":{"hasUserId":true,"hasAccessToken":true,"hasRefreshToken":true,"hasCachedSession":false,"cachedSessionAge":null,"consecutiveFailures":3,"lastCorruptionCheck":15293},"circuitBreaker":{"failureCount":0,"isOpen":false,"lastFailureAt":0,"timeSinceLastFailure":null},"inFlight":{"hasRefreshInFlight":true},"storage":{"accessible":true,"supabaseKeyCount":0},"clientSession":{"skipped":true,"reason":"getSession() has Supabase internal hang issue"},"webview":{"userAgent":"Mozilla/5.0 (Linux; Android 13; CPH2251 Build/TP1A.220905.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/142.0.7444.102 Mobile Safari/537.36","language":"en-IN","onLine":true,"cookieEnabled":true},"memory":{"usedJSHeapSize":10000000,"totalJSHeapSize":12700000,"jsHeapSizeLimit":1130000000,"usagePercent":1},"pendingRequests":{"recentFetchCount":0}}
2025-11-23 00:35:07.366 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:05:07.365 ğŸ”„ [background-1763838292070-5cusr5u2n] ğŸ“Š consecutiveFailures incremented to 4
2025-11-23 00:35:07.366 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:05:07.365 ğŸ”„ [background-1763838292070-5cusr5u2n] âœ… refreshInFlight promise resolved in 15295ms, result=false
2025-11-23 00:35:07.366 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:05:07.365 ğŸ”„ [background-1763838292070-5cusr5u2n] ğŸ”“ FINALLY: Clearing refreshInFlight lock
2025-11-23 00:35:07.367 18829-18829 Capacitor/Console       com.confessr.app                     I  File: https://localhost/assets/index-QqmCKEMV.js - Line 606 - Msg: [supabase-pipeline] 19:05:07.365 ğŸ”„ [background-1763838292070-5cusr5u2n] ğŸ COMPLETE: Total time 15295ms, lock released
